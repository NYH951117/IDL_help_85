<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="idl.xml" data-mc-path-to-help-system="../../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Graphics|Graphics Gallery|Long Examples|Environmental Monitoring">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Model the Study Area and Setting</title>
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Resources/TableStyles/Description.css" rel="stylesheet" />
        <link href="../../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
        <script src="../../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">  <![CDATA[ ]]></span><a class="MCBreadcrumbsLink" href="../../../GUInavigation/visualize.htm">Graphics</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../../../GUInavigation/visualize.htm">Graphics Gallery</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbsSelf">Long Examples</span><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Model the Study Area and Setting</span>
        </div>
        <h1>Model the Study Area and Setting</h1>
        <p>This series of environmental monitoring examples explores ways that IDL can help you characterize environmental conditions, perform analyses, and create visualizations.</p>
        <p>For this example we examine conditions around a simulated nuclear waste disposal site. At varying times, tritium, a waste product of nuclear reactors, was deposited in underground storage tanks and wells in proximity to a major river. The storage tanks and wells subsequently developed leaks and now a plume of tritium-contaminated water is making its way through the sediments and toward the river. </p>
        <p>To start off, create some basic maps and surface plots to characterize the study area. Note that the study area is 10 km x 10 km.</p>
        <p>Assume each storage tank and well was filled with liquid waste that included tritium. Official records indicate that no additional deposits of nuclear waste were made after the "Year Filled." </p>
        <table style="mc-table-style: url('../../../Resources/TableStyles/Description.css');margin-left: 0;margin-right: auto;" class="TableStyle_Description" cellspacing="0">
            <col class="Column-Column1" />
            <col class="Column-Column1" />
            <col class="Column-Column1" style="width: 227px;" />
            <thead>
                <tr>
                    <th class="TableStyle_Description_Head_0_0_RowSep_ColSep">
                        <p>Storage Tank Number</p>
                    </th>
                    <th class="TableStyle_Description_Head_0_0_RowSep_ColSep">
                        <p>Year Filled</p>
                    </th>
                    <th class="TableStyle_Description_Head_0_0_RowSep_ColEnd">
                        <p>Tritium Initial Concentration</p>
                        <p>(pCi/L x 10<sup>6</sup>) </p>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr class="Body-Body2">
                    <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
                        <p>A-401</p>
                    </td>
                    <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
                        <p>1995</p>
                    </td>
                    <td class="TableStyle_Description_Body_0_0_RowSep_ColEnd">
                        <p>7</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="TableStyle_Description_Body_1_0_RowSep_ColSep">
                        <p>A-402</p>
                    </td>
                    <td class="TableStyle_Description_Body_1_0_RowSep_ColSep">
                        <p>1983</p>
                    </td>
                    <td class="TableStyle_Description_Body_1_0_RowSep_ColEnd">
                        <p>9</p>
                    </td>
                </tr>
                <tr class="Body-Body2">
                    <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
                        <p>A-403</p>
                    </td>
                    <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
                        <p>1984</p>
                    </td>
                    <td class="TableStyle_Description_Body_0_0_RowSep_ColEnd">
                        <p>0*</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="TableStyle_Description_Body_1_0_RowSep_ColSep">
                        <p>A-404</p>
                    </td>
                    <td class="TableStyle_Description_Body_1_0_RowSep_ColSep">
                        <p>1996</p>
                    </td>
                    <td class="TableStyle_Description_Body_1_0_RowSep_ColEnd">
                        <p>5</p>
                    </td>
                </tr>
                <tr class="Body-Body2">
                    <td class="TableStyle_Description_Body_0_0_RowEnd_ColSep">
                        <p>A-405</p>
                    </td>
                    <td class="TableStyle_Description_Body_0_0_RowEnd_ColSep">
                        <p>1995</p>
                    </td>
                    <td class="TableStyle_Description_Body_0_0_RowEnd_ColEnd">
                        <p>4</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>*No tritium reported.</p>
        <h2 class="API">Read In and Grid the Terrain Data</h2>
        <p>Start by reading in the base data to use throughout the rest of the examples. The data resides in the file <code>TankDataTerrain.csv</code> in the <code>\examples\data</code> directory of your IDL installation. This file contains the surface terrain data of our site, in X, Y, Z coordinates (all in meters). The fourth column of data in this file contains the elevation of the surface of the underlying aquifer.</p>
        <p>In this example, we create a template with <a href="../../../Reference Material/A/ASCII_TEMPLATE.htm">ASCII_TEMPLATE</a>, then read in the data using <a href="../../../Reference Material/R/READ_ASCII.htm">READ_ASCII</a>.</p>
        <p class="Code">; Create the base template and assign X, Y, Z, </p>
        <p class="Code">; and AQ as the variable names.</p>
        <p class="Code">; Make sure to start the data at row 2 </p>
        <p class="Code">; (row 1 contains column headers).</p>
        <p class="Code">myTemplate = ASCII_TEMPLATE()</p>
        <p class="Code">site = READ_ASCII('TankDataTerrain.csv', $</p>
        <p class="Code">&#160;&#160;&#160;TEMPLATE=myTemplate)</p>
        <p>&#160;</p>
        <p class="Code">; Grid the data using the Kriging method </p>
        <p class="Code">; (set DIMENSION to 1000 </p>
        <p class="Code">; to align with the size of the study area). </p>
        <p class="Code">;  Choose another gridding method if you wish.</p>
        <p class="Code">grid = GRIDDATA(site.X, site.Y, site.Z, $</p>
        <p class="Code">&#160;&#160;&#160;DIMENSION=1000, METHOD="Kriging")</p>
        <h2 class="API">Create the Base Contour Map with Well Locations</h2>
        <p>Create some basic visual output to characterize the study area - start by building the base terrain contour plot. We will also use <a href="../../../Reference Material/S/SCATTERPLOT.htm">SCATTERPLOT</a> and <a href="../../../Reference Material/B/BUBBLEPLOT.htm">BUBBLEPLOT</a> to overplot the well locations and initial tritium concentrations once the contouring is complete. </p>
        <p>&#160;</p>
        <p class="Code">; Create a variable for a refactored color table. Use the REVERSE</p>
        <p class="Code">; keyword of the COLORTABLE function on colortable #74 </p>
        <p class="Code">; to flip the colors so that the darker colors are </p>
        <p class="Code">; in the lower areas of the terrain.</p>
        <p class="Code">myCT = COLORTABLE(74, /REVERSE)</p>
        <p class="Code">&#160;</p>
        <p class="Code">; Set up an index variable to hold the contour levels.</p>
        <p class="Code">; Create the contour  plot from the gridded data. </p>
        <p class="Code">index = [420,430,440,450,460,470,480,490,500,510, $</p>
        <p class="Code">&#160;&#160;&#160;520,530,540,550,560,570,580]</p>
        <p class="Code">myContour = CONTOUR(grid, RGB_TABLE=myCT, $</p>
        <p class="Code">&#160;&#160;&#160;C_VALUE=index, ASPECT_RATIO=.75, /FILL, $</p>
        <p class="Code">&#160;&#160;&#160;TITLE="Study Area Terrain with Tank Locations", $</p>
        <p class="Code">&#160;&#160;&#160;XTITLE="Meters (x10)", YTITLE="Meters (x10)")</p>
        <p class="Code">myContour2 = Contour(grid, COLOR='black', $</p>
        <p class="Code">&#160;&#160;&#160;C_VALUE=index, ASPECT_RATIO=.75, /OVERPLOT)</p>
        <p class="Code">&#160;</p>
        <p class="Code">; Change the font size of the title.</p>
        <p class="Code">myContour.TITLE.FONT_SIZE = 14</p>
        <p class="Code">&#160;</p>
        <p class="Code">; Set up the variables for the locations of the wells. </p>
        <p class="Code">; Well locations are given in the same coordinate </p>
        <p class="Code">; system as the (x, y) coordinates of our initial terrain.</p>
        <p class="Code">xLoc = [66,276,566,471,484]</p>
        <p class="Code">yLoc = [210,221,146,483,313]</p>
        <p class="Code">zLoc = [490,483,470,480,475]</p>
        <p class="Code">i_tritium = [7, 9, 0, 5, 4]</p>
        <p class="Code">labels = ['A-401','A-402','A-403','A-404','A-405']</p>
        <p>&#160;</p>
        <p class="Code">; Plot the relative, initial concentrations of tritium in </p>
        <p class="Code">; pCi/L x 10e6 using the BUBBLEPLOT function.</p>
        <p class="Code">tritium = BUBBLEPLOT(xLoc, yLoc, MAGNITUDE=i_tritium, </p>
        <p class="Code">&#160;&#160;&#160;EXPONENT=0.75, /OVERPLOT, LABELS=labels, </p>
        <p class="Code">&#160;&#160;&#160;LABEL_FONT_SIZE=8, LABEL_ALIGNMENT=0.0, $</p>
        <p class="Code">&#160;&#160;&#160;COLOR='chocolate', LABEL_POSITION='right')</p>
        <p>&#160;</p>
        <p class="Code">; Plot the centerpoints of each bubble using SCATTERPLOT.</p>
        <p class="Code">myPlot = SCATTERPLOT(xLoc, yLoc, /OVERPLOT, SYMBOL='*', $</p>
        <p class="Code">&#160;&#160;&#160;SYM_SIZE=1, SYM_FILLED=1, SYM_THICK=2, SYM_FILL_COLOR='black')</p>
        <p class="Code">&#160;</p>
        <p class="Code">; Add an annotation in the lower left of the plot </p>
        <p class="Code">; using data coordinates.</p>
        <p class="Code">areaText = TEXT(50, 50, TARGET=myPlot, $</p>
        <p class="Code">&#160;&#160;&#160;'*Bubble areas proportional to initial tritium concentration.', $</p>
        <p class="Code">&#160;&#160;&#160;/DATA, COLOR='black', FONT_SIZE=8, FONT_STYLE='italic')</p>
        <p>&#160;</p>
        <p>At this point in the process your output should look something like the following, assuming you chose to use the parameters  in the examples. The initial plot displays the filled terrain contours with well locations plotted and labeled, and a visual representation of the magnitude of the initial concentrations of tritium found in each well at time T<sub>0</sub>.</p>
        <p>
            <img src="../../images/EM_Contour.png" />
        </p>
        <h2 class="API">Other Topics in this Series</h2>
        <ul>
            <li value="1"><a href="EM1_SurfacePlot.htm">Plot 3D Terrain and Water Table</a>
            </li>
            <li value="2"><a href="EM1_PlotSupportingInformation.htm">Plot Supporting Information</a>
            </li>
            <li value="3"><a href="EM1_PlumeContours.htm">Create Contours of Pollutant Plume</a>
            </li>
            <li value="4"><a href="EM1_FlowVectors.htm">Plot Relative Aquifer Flow Vectors</a>
            </li>
        </ul>
        <h2 class="API">See Also</h2>
        <p><a href="../../../Reference Material/A/ASCII_TEMPLATE.htm">ASCII_TEMPLATE</a>, <a href="../../../Reference Material/C/COLORTABLE.htm">COLORTABLE</a>, <a href="../../../Reference Material/C/CONTOUR.htm">CONTOUR</a>, <a href="../../../IDL Graphics/FormattingSymsAndLines.htm">Formatting IDL&#160;Graphics Symbols and Lines</a>, <a href="../../../Reference Material/G/GRIDDATA.htm">GRIDDATA</a>, <a href="../../../Reference Material/R/READ_ASCII.htm">READ_ASCII</a>, <a href="../../../Reference Material/R/READ_CSV.htm">READ_CSV</a>, <a href="../../../Reference Material/S/SCATTERPLOT.htm">SCATTERPLOT</a>, <a href="../../../Reference Material/T/TEXT.htm">TEXT</a> <![CDATA[ ]]></p>
        <div class="mp_footer">Â© <span class="DocumentTitleCopyrightYear">2015</span>&#160;<span class="DocumentTitleCopyrightCompanyName">Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation</span>. All Rights Reserved. This information is not subject to the controls of the International Traffic in Arms Regulations (ITAR) or the Export Administration Regulations (EAR). However, this information may be restricted from transfer to various embargoed countries under U.S. laws and regulations.</div>
    </body>
</html>