<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="idl.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Dangling References</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <h1><a name="pointers_3224653378_1019636"></a><a name="pointers_3224653378_95844"></a>Dangling References</h1>
        <p><a name="kanchor5650"></a>If <a href="Automatic_Garbage_Collec.htm#pointers_3224653378_1018570">Automatic Garbage Collection</a> is turned off for a heap variable and the variable is destroyed using PTR_FREE or OBJ_DESTROY, any remaining pointer variables or object references that still refer to it are "dangling references." Unlike lower level languages such as C, dereferencing a dangling reference will not crash or corrupt your IDL session. It will, however, fail with an error message. For example:</p>
        <p class="Code">;Create a new heap variable.</p>
        <p class="Code">A = PTR_NEW(23)</p>
        <p class="Code">&#160;</p>
        <p class="Code">;Print A and the value of the heap variable A points to.</p>
        <p class="Code">PRINT, A, *A</p>
        <p>IDL prints:</p>
        <p class="Code">&lt;PtrHeapVar13&gt;      23</p>
        <p>For example:</p>
        <p class="Code">;Destroy the heap variable.</p>
        <p class="Code">PTR_FREE, A</p>
        <p class="Code">&#160;</p>
        <p class="Code">;Try to print again.</p>
        <p class="Code">PRINT, A, *A</p>
        <p>IDL prints:</p>
        <p class="Code">% Invalid pointer: A.</p>
        <p class="Code">% Execution halted at:  $MAIN$ </p>
        <p>There are several possible approaches to avoiding such errors. The best option is to structure your code such that dangling references do not occur. You can, however, verify the validity of pointers or object references before using them (via the <a href="../../Reference Material/P/PTR_VALID.htm#P_817877613_845070">PTR_VALID</a> or <a href="../../Reference Material/O/OBJ_VALID.htm#O_828691053_889488">OBJ_VALID</a> functions) or use the <a href="../../Reference Material/C/CATCH.htm#C_854643309_985147">CATCH</a> mechanism to recover from the effect of such a dereference.</p>
        <div class="mp_footer">Â© <span class="DocumentTitleCopyrightYear">2015</span>&#160;<span class="DocumentTitleCopyrightCompanyName">Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation</span>. All Rights Reserved. This information is not subject to the controls of the International Traffic in Arms Regulations (ITAR) or the Export Administration Regulations (EAR). However, this information may be restricted from transfer to various embargoed countries under U.S. laws and regulations.</div>
    </body>
</html>