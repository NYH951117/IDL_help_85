<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="idl.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Environment|Using Procedures, Functions, SAVE Files">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Executing SAVE Files</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix"> </span><a class="MCBreadcrumbsLink" href="../../IDL Concepts.htm">Environment</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../IDL Program Types.htm">Using Procedures, Functions, SAVE Files</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Executing SAVE Files</span>
        </div>
        <h1><a name="Save_3439793193_857652"></a><a name="Save_3439793193_41976"></a>Executing SAVE Files</h1>
        <p><a name="kanchor4433"></a>IDL SAVE files (created using the <a href="../../Reference Material/S/SAVE.htm#S_820040301_678623">SAVE </a>procedure) can contain one or more routines that have been packaged into a single binary file. SAVE files can also contain system or data variables. </p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>While IDL routines or data can be saved in a file with any extension, it is common to use the extension <code>.sav</code> for SAVE files. Using the <code>.sav</code> extension has two benefits: it makes it clear to another IDL user that the file contains IDL routines or data, and it allows IDL to locate routines with the same base name as the file in SAVE files located in IDL’s path.</p>
        <p><a name="kanchor4434"></a>This section describes various ways to restore files created with the SAVE procedure. In order of increasing complexity and flexibility, your options are:</p>
        <ul>
            <li value="1"><a href="#Save_3439793193_857679" class="selected">Using the IDL Virtual Machine to Run SAVE Files</a>
            </li>
            <li value="2"><a href="#Save_3439793193_863056" class="selected">Executing SAVE Files in the IDL Workbench</a>
            </li>
            <li value="3"><a href="#Save_3439793193_863008" class="selected">Executing SAVE Files From the Operating System</a>
            </li>
            <li value="4"><a href="#Save_3439793193_857689" class="selected">Executing SAVE Files by Name</a>
            </li>
            <li value="5"><a href="#Save_3439793193_857697" class="selected">Using RESTORE to Access SAVE Files</a>
            </li>
            <li value="6"><a href="#Save_3439793193_857709" class="selected">Using the IDL_Savefile Object to Access SAVE Files</a>
            </li>
        </ul>
        <h2 class="API"><a name="Save_3439793193_857679"></a><a name="Save_3439793193_29456"></a>Using the IDL Virtual Machine to Run SAVE Files</h2>
        <p>Users without an IDL license can use the IDL Virtual Machine to access programs contained in SAVE files created in IDL version 6.0 or later. </p>
        <h2 class="API"><a name="Save_3439793193_863056"></a><a name="Save_3439793193_78348"></a>Executing SAVE Files in the IDL Workbench</h2>
        <p>If you use the IDL Workbench <b>File&#160;&gt;&#160;Open</b> menu item to select a SAVE file with the extension <code>.sav</code>, IDL will automatically restore the file, with the following results:</p>
        <ul>
            <li value="1">If the SAVE file contains routines, the routines are restored and IDL attempts to run a routine with the same name as the <code>.sav</code> file.</li>
            <li value="2">If the SAVE file contains data, the variables are restored in IDL’s $MAIN$ scope.</li>
        </ul>
        <p>Similarly, if the SAVE file is included in an open project, double-clicking on the file in the Project Explorer view will restore the file’s contents as described above.</p>
        <h2 class="API"><a name="Save_3439793193_863008"></a><a name="Save_3439793193_78827"></a>Executing SAVE Files From the Operating System</h2>
        <p>On Windows and Macintosh systems, you can execute or restore a SAVE file directly from the operating system’s file manager. Simply double-click on a file with the extension <code>.sav</code> in the Windows Explorer or Macintosh Finder.</p>
        <p>If the SAVE file contains routines:</p>
        <ul>
            <li value="1">If IDL is already running, the routines are restored and IDL attempts to run a routine with the same name as the <code>.sav</code> file.</li>
            <li value="2">If IDL is not running, it launches in Virtual Machine mode, restores the routines and attempts to run a routine with the same name as the <code>.sav</code> file.</li>
        </ul>
        <p>If the SAVE file contains data, the IDL Workbench launches automatically (if it is not already running) and the variables are restored in IDL’s $MAIN$ scope.</p>
        <h2 class="API"><a name="Save_3439793193_857689"></a><a name="Save_3439793193_97560"></a>Executing SAVE Files by Name</h2>
        <p>You can execute a program stored in a SAVE file from the IDL command line by typing in the name of the routine if the file meets the following conditions:</p>
        <ul>
            <li value="1">The SAVE file has the same base name as the routine you wish to run</li>
            <li value="2">The SAVE file has the extension <code>.sav</code></li>
            <li value="3">The SAVE file is stored in a directory included in the !PATH system variable</li>
        </ul>
        <p>Call the procedure with the same name as the <code>.sav</code> file to restore the program and execute it immediately using IDL’s <i><a name="kanchor4435"></a>automatic compilation</i> mechanism. IDL will search the current directory then the path specified by !PATH for a <code>.sav</code> file with the name of the called routine and, if it finds the <code>.sav</code> file, it restores, compiles and executes it automatically.</p>
        <p>For example, to restore and execute the <code>draw_arrow</code> routine contained in the file <code>draw_arrow.sav</code> (created in <a href="Creating_SAVE_Files_of_P.htm#Save_3439793193_857079">Example: A SAVE File of a Simple Routine</a>), enter the following at the command line:</p>
        <p class="Code">draw_arrow</p>
        <p>IDL will search for a file named either <code>draw_arrow.pro</code> or <code>draw_arrow.sav</code>, beginning in the current working directory and then searching in each directory specified by !PATH. When it finds a file whose name matches (in this case, <code>draw_arrow.sav</code>), it will compile the routines in the file up to and including the routine whose name matches the filename. IDL then executes the routine with the matching name. See Automatic Compilation for additional details.</p>
        <h2 class="API"><a name="Save_3439793193_857697"></a><a name="Save_3439793193_49818"></a>Using RESTORE to Access SAVE Files</h2>
        <p>Use the <a name="kanchor4436"></a><a href="../../Reference Material/R/RESTORE.htm#R_822202989_135743">RESTORE</a> procedure to explicitly restore the entire contents of a SAVE file that contains variable data or program files. Because calling a procedure with the same name as a SAVE file allows IDL to automatically find and restore the SAVE file, it isn’t always necessary to explicitly restore a <code>.sav</code> file using RESTORE. Cases in which you <i>must</i> use RESTORE include the following:</p>
        <ul>
            <li value="1">When you are restoring a SAVE file containing variable data.</li>
            <li value="2">When your SAVE file contains multiple routines, and you need to first call a routine that uses a different name than the <code>.sav</code> file. For example, if you have a SAVE file named <code>routines.sav</code> that contains the ARROW and BAR_PLOT procedures, you would need to restore <code>routines.sav</code> before calling ARROW or BAR_PLOT.</li>
        </ul>
        <p>Using RESTORE is more powerful and flexible than relying on IDL’s rules for automatic compilation, for the following reasons:</p>
        <ul>
            <li value="1">The restored SAVE file can contain IDL variable data</li>
            <li value="2">If the restored SAVE file contains IDL routines, <i>all</i> routines contained in the file will be restored, and <i>none</i> will be executed</li>
            <li value="3">The restored SAVE file can have any filename and extension</li>
            <li value="4">The restored SAVE file can be located in any directory</li>
        </ul>
        <p>For example, in <a href="Creating_SAVE_Files_of_P.htm#Save_3439793193_857079">Example: A SAVE File of a Simple Routine</a>, we created two SAVE files: <code>imagefile.sav</code> and <code>draw_arrow.sav</code>. The <code>imagefile.sav</code> file contains image variable data. To restore the image data, enter the following at the IDL command line:</p>
        <p class="Code">RESTORE, 'imagefile.sav' </p>
        <p>IDL creates the variable <i>image</i> in the current scope using the saved variable data.</p>
        <p>If the file you are attempting to restore is not located in your current working directory, you will need to specify a path to the file. RESTORE does not search for SAVE files in any other directory. For example, if <code>draw_arrow.sav</code> is located in <code>myappdir</code>, restore it using the following statement:</p>
        <p class="Code">RESTORE, 'myappdir/draw_arrow.sav' </p>
        <h2 class="API"><a name="Save_3439793193_857709"></a><a name="Save_3439793193_82827"></a>Using the IDL_Savefile Object to Access SAVE Files</h2>
        <p>You can use the IDL_Savefile object class to gain information about the contents of a SAVE file, and to selectively restore items from the save file. Once a routine has been restored via calls the IDL_Savefile object, you can execute it simply by typing its name at the IDL command prompt. For example, if an IDL program named <code>myroutine</code> is stored in <code>myroutine.sav</code>, which is located in a directory that is <i>not</i> in !PATH, entering the following at the IDL command line will restore the routine and execute it:</p>
        <p class="Code">obj = OBJ_NEW('IDL_Savefile', 'path/myroutine.sav')</p>
        <p class="Code">obj-&gt;RESTORE, 'myroutine'</p>
        <p class="Code">myroutine</p>
        <p>where <i>path</i> is the full path to the <code>myroutine.sav</code> file.</p>
        <div class="mp_footer">© <span class="DocumentTitleCopyrightYear">2015</span>&#160;<span class="DocumentTitleCopyrightCompanyName">Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation</span>. All Rights Reserved. This information is not subject to the controls of the International Traffic in Arms Regulations (ITAR) or the Export Administration Regulations (EAR). However, this information may be restricted from transfer to various embargoed countries under U.S. laws and regulations.</div>
    </body>
</html>