<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="idl.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Routines (alphabetical)|Routines: S">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>SCALE3 Procedure</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix"> </span><a class="MCBreadcrumbsLink" href="../../images/ref_part1.htm">Routines (alphabetical)</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="S_list.htm">Routines: S</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">SCALE3 Procedure</span>
        </div>
        <h1 class="Routine"><a name="dg_routines_3604229493_884691"></a><a name="kanchor2326"></a><a name="dg_routines_3604229493_24364"></a><a name="kanchor2327"></a>SCALE3 Procedure</h1>
        <p>The SCALE3 procedure sets up transformation and scaling parameters for basic 3-D viewing. This procedure is similar to SURFR and SCALE3D, except that the data ranges must be specified and the scaling does not vary with rotation. Results are stored in the system variables !P.T, !X.S, !Y.S, and !Z.S.</p>
        <p>This routine is written in the IDL language. Its source code can be found in the file <code>scale3.pro</code> in the <code>lib</code> subdirectory of the IDL distribution.</p>
        <h2 class="API"><a name="dg_routines_3604229493_884716"></a><a name="dg_routines_3604229493_787095_PageTOC_SCALE3_"></a>Syntax</h2>
        <p class="Syntax">SCALE3 [,&#160;<a href="#dg_routines_3604229493_884739" class="selected">XRANGE</a>=<i>vector</i>] [,&#160;<a href="#dg_routines_3604229493_884742" class="selected">YRANGE</a>=<i>vector</i>] [,&#160;<a href="#dg_routines_3604229493_884745" class="selected">ZRANGE</a>=<i>vector</i>] [,&#160;<a href="#dg_routines_3604229493_884748" class="selected">AX</a>=<i>degrees</i>] [,&#160;<a href="#dg_routines_3604229493_884751" class="selected">AZ</a>=<i>degrees</i>]</p>
        <h2 class="API"><a name="dg_routines_3604229493_884734"></a><a name="dg_routines_3604229493_42342"></a>Arguments</h2>
        <p>None.</p>
        <h2 class="API"><a name="dg_routines_3604229493_884737"></a><a name="dg_routines_3604229493_787097_PageTOC_SCALE3_"></a>Keywords</h2>
        <h3 class="Keyword"><a name="dg_routines_3604229493_884739"></a><a name="dg_routines_3604229493_787099_Keywords_SCALE3__"></a>XRANGE</h3>
        <p>A two-element vector containing the minimum and maximum X values. If omitted, the X-axis scaling remains unchanged.</p>
        <h3 class="Keyword"><a name="dg_routines_3604229493_884742"></a><a name="dg_routines_3604229493_787102_Keywords_SCALE3__"></a>YRANGE</h3>
        <p>A two-element vector containing the minimum and maximum Y values. If omitted, the Y-axis scaling remains unchanged.</p>
        <h3 class="Keyword"><a name="dg_routines_3604229493_884745"></a><a name="dg_routines_3604229493_787105_Keywords_SCALE3__"></a>ZRANGE</h3>
        <p>A two-element vector containing the minimum and maximum Z values. If omitted, the Z-axis scaling remains unchanged.</p>
        <h3 class="Keyword"><a name="dg_routines_3604229493_884748"></a><a name="dg_routines_3604229493_787108_Keywords_SCALE3__"></a>AX</h3>
        <p>Angle of rotation about the X axis. The default is 30 degrees.</p>
        <h3 class="Keyword"><a name="dg_routines_3604229493_884751"></a><a name="dg_routines_3604229493_787111_Keywords_SCALE3__"></a>AZ</h3>
        <p>Angle of rotation about the Z axis. The default is 30 degrees.</p>
        <h2 class="API"><a name="dg_routines_3604229493_884754"></a><a name="dg_routines_3604229493_787113_PageTOC_SCALE3_"></a>Examples</h2>
        <p>Set up a 3-D transformation where the data range is 0 to 20 for each of the 3 axes and the viewing area is rotated 20 degrees about the X axis and 55 degrees about the Z axis:</p>
        <p class="Code">SCALE3, XRANGE=[0, 20], YRANGE=[0, 20], ZRANGE=[0, 20], AX=20, &#160;&#160;&#160;AZ=55</p>
        <h3><a name="dg_routines_3604229493_884758"></a><a name="dg_routines_3604229493_43916"></a>SCALE3 and More Complicated Transformations</h3>
        <p>The figure below illustrates the application of three-dimensional transforms to the output of CONTOUR and PLOT. Using the two-dimensional Gaussian array <b>z</b> defined in <a href="SURFACE_Procedure.htm#dg_routines_3604229493_887139">Surface of a Gaussian Function</a>, it draws a three-dimensional contour plot with the contours stacked above the axes in the <i>z</i> direction. It then plots the sum of the columns, also a Gaussian, in the <i>xz</i>-plane, and the sum of the rows in the <i>yz</i> plane. </p>
        <p>
            <img src="../../Resources/Images/mult14.gif" style="margin-left: 5.99976px;margin-right: 5.999783px;" />
        </p>
        <p>It was constructed as follows:</p>
        <ul>
            <li value="1">First, the SCALE3 procedure is called to establish the default three- to two-dimensional transformation used by SURFACE, as explained in <a href="SURFACE_Procedure.htm#dg_routines_3604229493_887197">Transformation Created by SURFACE</a>. The default rotations are 30 degrees about both the <i>x</i>- and <i>z</i>-axes.</li>
            <li value="2">Next, a vector, POS, defining the cube containing the plot window is defined in normalized coordinates. The cube extends from 0.1 to 1.0 in the <i>x</i> and <i>y</i> directions and from 0 to 1 in the <i>z</i> direction. Each call to CONTOUR and PLOT must explicitly specify this window to align the plots. This is necessary because the default margins around the plot window are different in each direction.</li>
            <li value="3">CONTOUR is called to draw the stacked contours with the axes at <i>z</i>&#160;=&#160;0. Clipping is disabled to allow drawing outside the default plot window, which is only two-dimensional.</li>
            <li value="4">The procedure T3D is called to exchange the <i>y</i>- and <i>z</i>-axes. The original <i>xyz</i> coordinate system is now <i>xzy</i>.</li>
            <li value="5">PLOT is called to draw the column sums which appear in front of the contour plot. The expression Z#REPLICATE(1., <i>N</i><sub>y</sub>) creates a row vector containing the sum of each row in the two-dimensional array <i>z</i>. The NOERASE and NOCLIP keywords are specified to prevent erasure and clipping. This plot appears in the <i>xz</i>-plane because of the previous axis exchange.</li>
            <li value="6">T3D is called again to exchange the <i>x</i>- and <i>z</i>-axes. This makes the original <i>xyz</i> coordinate system, which was converted to <i>xzy</i>, now correspond to <i>yzx</i>.</li>
            <li value="7">PLOT is called to produce the column sums in the <i>yz</i>-plane in the same manner as the first plot. The original <i>x</i>-axis is drawn in the <i>y</i>-plane, and the <i>y</i>-axis is in the <i>z</i>-plane. One unavoidable side effect of this method is that the annotation of this plot is backwards. If the plot is transformed so the letters read correctly, the <i>x</i>-axis of the plot would be reversed in relation to the <i>y</i>-axis of the contour plot.</li>
        </ul>
        <p>The IDL code used to draw the figure is as follows:</p>
        <p class="Code">; Create the Z variable:<br />Z = SHIFT(DIST(40), 20, 20)<br />Z = EXP(-(Z/10)^2)<br />; NX and NY are the X and Y dimensions of the Z array:<br />NX = (SIZE(Z))(1)	<br />NY = (SIZE(Z))(2)<br />; Set up !P.T with default SURFACE transformation.<br />SCALE3<br />; Define the three-dimensional plot<br />; window: x = 0.1 to 1, Y=0.1 to 1, and z = 0 to 1.<br />POS=[.1, .1, 1, 1, 0, 1]<br />; Make the stacked contours. Use 10 contour levels.<br />CONTOUR, Z, /T3D, NLEVELS=10, /NOCLIP, POSIT=POS, CHARSIZE=2<br />; Swap y and z axes. The original xyz system is now xzy:<br />T3D, /YZEXCH<br />; Plot the column sums in front of the contour plot:<br />PLOT, Z#REPLICATE(1., NY), /NOERASE, /NOCLIP, /T3D, $<br />&#160;&#160;&#160;TITLE='COLUMN SUMS', POSITION = POS, CHARSIZE = 2<br />; Swap x and z—original xyz is now yzx:<br />T3D, /XZEXCH<br />; Plot the row sums along the right side of the contour plot:<br />PLOT, REPLICATE(1., NX)#Z, /NOERASE, /T3D, /NOCLIP, $<br />&#160;&#160;&#160;TITLE = 'ROW SUMS', POSITION = POS, CHARSIZE = 2</p>
        <p>&#160;</p>
        <p class="ExampleCode">To execute this example, run the batch file <code>cntour06<a name="kanchor2328"></a></code> with the following command at the IDL prompt:<br />&#160;&#160;&#160;<code>@cntour06</code></p>
        <h2 class="API"><a name="dg_routines_3604229493_884793"></a><a name="dg_routines_3604229493_787117_PageTOC_SCALE3_"></a>Version History</h2>
        <table style="caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
            <col />
            <col />
            <tbody>
                <tr>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
                        <p>Pre-4.0</p>
                    </td>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
                        <p>Introduced</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2 class="API"><a name="dg_routines_3604229493_884801"></a><a name="dg_routines_3604229493_1110246_PageTOC_SCALE3_"></a>See Also</h2>
        <p><a href="SCALE3D_Procedure.htm#dg_routines_3604229493_884847">SCALE3D Procedure</a>, <a href="SURFACE_Procedure.htm#dg_routines_3604229493_886816">SURFACE Procedure</a>, <a href="SURFR_Procedure.htm#dg_routines_3604229493_887277">SURFR Procedure</a>, <a href="../T/T3D_Procedure.htm#dg_routines_3604229493_887435">T3D Procedure</a></p>
        <div class="mp_footer">© <span class="DocumentTitleCopyrightYear">2015</span>&#160;<span class="DocumentTitleCopyrightCompanyName">Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation</span>. All Rights Reserved. This information is not subject to the controls of the International Traffic in Arms Regulations (ITAR) or the Export Administration Regulations (EAR). However, this information may be restricted from transfer to various embargoed countries under U.S. laws and regulations.</div>
    </body>
</html>