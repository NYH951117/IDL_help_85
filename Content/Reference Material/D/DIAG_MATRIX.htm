<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="idl.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Routines (alphabetical)|Routines: D">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>DIAG_MATRIX</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix"> </span><a class="MCBreadcrumbsLink" href="../../images/ref_part1.htm">Routines (alphabetical)</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="D_list.htm">Routines: D</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">DIAG_MATRIX</span>
        </div>
        <h1 class="Routine"><a name="D_843829869_997856"></a><a name="kanchor634"></a><a name="kanchor635"></a><a name="kanchor636"></a><a name="D_843829869_88193"></a>DIAG_MATRIX</h1>
        <p>The DIAG_MATRIX function constructs a diagonal matrix from an input vector, or if given a matrix, then DIAG_MATRIX will extract a diagonal vector.</p>
        <h2 class="API"><a name="D_843829869_997871"></a><a name="D_843829869_997871_PageTOC_DIAG_MATRIX_"></a>Examples</h2>
        <p>Create a tridiagonal matrix and extract the diagonal using the following program:</p>
        <p class="Code">PRO ExDiagMatrix<br />; Convert three input vectors to a tridiagonal matrix:<br />diag = [1, -2, 3, -4]<br />sub = [5, 10, 15]<br />super = [3, 6, 9]<br />array = DIAG_MATRIX(diag) + $<br />DIAG_MATRIX(super,&#160;1) + DIAG_MATRIX(sub,&#160;-1)<br />PRINT, 'DIAG_MATRIX array:'<br />PRINT, array<br /><br />; Extract the diagonal:<br />PRINT, 'DIAG_MATRIX diagonal:'<br />PRINT, DIAG_MATRIX(array)<br />END</p>
        <p>When this program is compiled and run, IDL prints:</p>
        <p class="Code">DIAG_MATRIX array:</p>
        <p class="Code">1       3       0       0</p>
        <p class="Code">5      -2       6       0</p>
        <p class="Code">0      10       3       9</p>
        <p class="Code">0       0      15      -4</p>
        <p class="Code">DIAG_MATRIX diagonal:</p>
        <p class="Code">1      -2       3      -4</p>
        <h2 class="API"><a name="D_843829869_997861"></a><a name="D_843829869_997861_PageTOC_DIAG_MATRIX_"></a>Syntax</h2>
        <p class="Syntax"><i>Result </i>= DIAG_MATRIX(<i>A</i> [,&#160;<i>Diag</i>] )</p>
        <h2 class="API"><a name="D_843829869_1002801"></a><a name="D_843829869_95371"></a>Return Value</h2>
        <ul>
            <li value="1">If given an input vector with <i>n </i>values, the result is an <i>n</i>-by-<i>n</i> array of the same type. The DIAG_MATRIX function may also be used to construct subdiagonal or superdiagonal arrays.</li>
            <li value="2">If given an input<i> n</i>-by-<i>m</i> array, the result is a vector with MIN(<i>n</i>,<i>m</i>) elements containing the diagonal elements. The DIAG_MATRIX function may also be used to extract subdiagonals or superdiagonals.</li>
        </ul>
        <h2 class="API"><a name="D_843829869_997863"></a><a name="D_843829869_997863_PageTOC_DIAG_MATRIX_"></a>Arguments</h2>
        <h3 class="Argument">A</h3>
        <p>Either an <i>n</i>-element input vector to convert to a diagonal matrix, or a <i>n</i>-by-<i>m</i> input array to extract a diagonal. <i>A</i> may be any numeric type.</p>
        <h3 class="Argument">Diag</h3>
        <p>An optional argument that specifies the subdiagonal (<i>Diag</i> &lt; 0) or superdiagonal (<i>Diag</i> &gt; 0) to fill or extract. The default is <i>Diag</i>=0 which puts or extracts the values along the diagonal. If <i>A</i> is a vector with the<i> m</i> elements, then the result is an <i>n</i>-by-<i>n</i> array, where <i>n </i>= <i>m </i>+ <i>ABS</i>(<i>Diag</i>). If <i>A </i>is an array, then the result is a vector whose length depends upon the number of elements remaining along the subdiagonal or superdiagonal.</p>
        <p class="Tip" data-mc-autonum="&lt;b&gt;Tip: &lt;/b&gt;"><span class="autonumber"><span><b>Tip: </b></span></span>The <i>Diag</i> argument may be used to easily construct tridiagonal arrays. For example, the expression,<br /><br /><code>DIAG_MATRIX(VL,-1) + DIAG_MATRIX(V) + DIAG_MATRIX(VU,1)</code><br /><br />will create an <i>n</i>-by-<i>n</i> array, where <i>VL</i> is an (<i>n</i> - 1)-element vector containing the subdiagonal values, <i>V</i> is an <i>n</i>-element vector containing the diagonal values, and <i>VU</i> is an (<i>n</i> - 1)-element vector containing the superdiagonal values.</p>
        <h2 class="API"><a name="D_843829869_997869"></a><a name="D_843829869_997869_PageTOC_DIAG_MATRIX_"></a>Keywords</h2>
        <p>None.</p>
        <h2 class="API"><a name="D_843829869_997895"></a><a name="D_843829869_997895_PageTOC_DIAG_MATRIX_"></a>Version History</h2>
        <table style="caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
            <col />
            <col />
            <tbody>
                <tr>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
                        <p>5.6</p>
                    </td>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
                        <p>Introduced</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2 class="API"><a name="D_843829869_997897"></a><a name="D_843829869_997897_PageTOC_DIAG_MATRIX_"></a>See Also</h2>
        <p><a href="../I/IDENTITY.htm#I_833016429_853755">IDENTITY</a>, <a href="../M/MATRIX_MULTIPLY.htm#M_824365677_960643">MATRIX_MULTIPLY</a>, <a href="../../Creating IDL Programs/Components of the IDL Language/Manipulating_Arrays.htm#arrays_3727706888_752335">Manipulating Arrays</a></p>
        <div class="mp_footer">Â© <span class="DocumentTitleCopyrightYear">2015</span>&#160;<span class="DocumentTitleCopyrightCompanyName">Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation</span>. All Rights Reserved. This information is not subject to the controls of the International Traffic in Arms Regulations (ITAR) or the Export Administration Regulations (EAR). However, this information may be restricted from transfer to various embargoed countries under U.S. laws and regulations.</div>
    </body>
</html>