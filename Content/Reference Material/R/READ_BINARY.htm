<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="idl.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Routines (alphabetical)|Routines: R">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>READ_BINARY</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix"> </span><a class="MCBreadcrumbsLink" href="../../images/ref_part1.htm">Routines (alphabetical)</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="R_list.htm">Routines: R</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">READ_BINARY</span>
        </div>
        <h1 class="Routine"><a name="R_822202989_756090"></a><a name="kanchor2196"></a><a name="R_822202989_11235"></a>READ_BINARY</h1>
        <p>The READ_BINARY function reads the contents of a binary file using a passed template or basic command line keywords. Data is read from the given filename or from the current file position in the open file pointed to by <i>FileUnit</i>. If no template is provided, keywords can be used to read a single IDL array of data.</p>
        <h2 class="API"><a name="R_822202989_1204841"></a><a name="R_822202989_28473"></a>Examples</h2>
        <p>The following reads the data in a binary file, <code>head.data</code>, and passes the data to an iVolume display:</p>
        <p class="Code">vHeadData = READ_BINARY(FILEPATH('head.dat', $<br />&#160;&#160;&#160;SUBDIRECTORY=['examples', 'data']), DATA_DIMS=[80,100,57])<br />IVOLUME, vHeadData</p>
        <p>When the iVolume window appears, click <b>Render</b> on the Volume panel to display the data. </p>
        <p>Also see the following :</p>
        <ul>
            <li value="1"><a href="#Addition" class="selected">Additional Examples</a>
            </li>
            <li value="2"><a href="#R_822202989_1204909" class="selected">Working with a READ_Binary Data Structure</a>
            </li>
            <li value="3"><a href="#R_822202989_1207057" class="selected">Displaying Binary Images with Direct Graphics</a>
            </li>
            <li value="4"><a href="#R_822202989_1206941" class="selected">Displaying a Grayscale Binary Image</a>
            </li>
        </ul>
        <h2 class="API"><a name="R_822202989_1071919"></a><a name="R_822202989_1071919_PageTOC_READ_BINARY_"></a>Syntax</h2>
        <p class="Syntax"><i>Result</i> = READ_BINARY ([<i>Filename</i>] | <i>FileUnit</i> [,&#160;<a href="#R_822202989_1071937" class="selected">TEMPLATE</a>=<i>template</i>] | [[,&#160;<a href="#R_822202989_1071929" class="selected">DATA_START</a>=<i>value</i>] [,&#160;<a href="#R_822202989_1071931" class="selected">DATA_TYPE</a>=<i>typecodes</i>] [,&#160;<a href="#R_822202989_1071927" class="selected">DATA_DIMS</a>=<i>array</i>] [,&#160;<a href="#R_822202989_1071933" class="selected">ENDIAN</a>=<i>string</i>]]&#160;)</p>
        <h2 class="API"><a name="R_822202989_1103754"></a><a name="R_822202989_44614"></a>Return Value</h2>
        <p>The result is an array or anonymous structure containing all of the entities read from the file. </p>
        <h2 class="API"><a name="R_822202989_1071921"></a><a name="R_822202989_1071921_PageTOC_READ_BINARY_"></a>Arguments</h2>
        <h3 class="Argument">Filename</h3>
        <p>A scalar string containing the name of the binary file to read. If <i>filename</i> and file unit are not specified, a dialog allows the user to choose a file.</p>
        <h3 class="Argument">FileUnit</h3>
        <p>A scalar containing an open IDL file unit number to read from.</p>
        <h2 class="API"><a name="R_822202989_1071926"></a><a name="R_822202989_1071926_PageTOC_READ_BINARY_"></a>Keywords</h2>
        <h3 class="Keyword"><a name="R_822202989_1071927"></a><a name="R_822202989_1071927_Keywords_READ_BINARY__"></a>DATA_DIMS</h3>
        <p>Set this keyword to a scalar or array of up to eight elements specifying the size of the data to be read and returned. For example, DATA_DIMS=[512,512] specifies that a two-dimensional, 512 by 512 array be read and returned. DATA_DIMS=0 specifies that a single, scalar value be read and returned. Default is -1, which, if a TEMPLATE is not supplied that specifies otherwise, indicates that READ_BINARY will read to end-of-file and store the result in a 1-D array.</p>
        <h3 class="Keyword"><a name="R_822202989_1071929"></a><a name="R_822202989_1071929_Keywords_READ_BINARY__"></a>DATA_START</h3>
        <p>Set this keyword to specify where to begin reading in a file. This value is as an offset, in bytes, that will be applied to the initial position in the file. The default is 0.</p>
        <h3 class="Keyword"><a name="R_822202989_1071931"></a><a name="R_822202989_1071931_Keywords_READ_BINARY__"></a>DATA_TYPE</h3>
        <p>Set this keyword to an IDL typecode of the data to be read. See documentation for the <a href="../S/SIZE.htm#S_820040301_678885">SIZE </a>function for a listing of typecodes. Default is 1 (IDL’s BYTE typecode).</p>
        <h3 class="Keyword"><a name="R_822202989_1071933"></a><a name="R_822202989_1071933_Keywords_READ_BINARY__"></a>ENDIAN</h3>
        <p>Set this keyword to one of three string values: “big”, “little” or “native” which specifies the byte ordering of the file to be read. If the computer running READ_BINARY uses byte ordering that is different than that of the file, READ_BINARY will swap the order of bytes in multi-byte data types read from the file. (Default: “native” = perform no byte swapping.)</p>
        <h3 class="Keyword"><a name="R_822202989_1071937"></a><a name="R_822202989_1071937_Keywords_READ_BINARY__"></a>TEMPLATE</h3>
        <p>Set this keyword to a template structure (created using the <a href="../B/BINARY_TEMPLATE.htm#B_856805997_985217">BINARY_TEMPLATE</a> function) describing the file to be read. The TEMPLATE keyword cannot be used simultaneously with keywords DATA_START, DATA_TYPE, DATA_DIMS, or ENDIAN.</p>
        <p>When a template is used with READ_BINARY, the return value is a structure containing fields specified by the template. If a template is not used, the return value is an array.</p>
        <h2 class="API"><a name="Addition"></a>Additional Examples</h2>
        <h3><a name="R_822202989_1204909"></a><a name="R_822202989_53287"></a>Working with a READ_Binary Data Structure</h3>
        <p>READ_BINARY returns a structure containing binary data, which is formatted according to specified keywords or a template. The following example returns a structure containing the data in the <code>surface.dat</code> file, found in the <code>examples/data</code> subdirectory of the IDL installation directory. </p>
        <ol>
            <li value="1">
                <p>Enter the following statement at the IDL command line to open the <b>Binary Template</b> dialog:</p>
                <p class="Code">sTemplate = BINARY_TEMPLATE()</p>
            </li>
            <li value="2">
                <p>Complete the steps described in <a href="../B/BINARY_TEMPLATE.htm#B_856805997_1029575">Using the BINARY_TEMPLATE Interface</a> to define the format of the data. </p>
            </li>
            <li value="3">
                <p>Use READ_BINARY to access the data, defined by the template created in the previous step:</p>
                <p class="Code">data = READ_BINARY(FILEPATH('surface.dat', $<br />&#160;&#160;&#160;SUBDIRECTORY=['examples', 'data']), TEMPLATE = sTemplate)</p>
            </li>
            <li value="4">
                <p>The variable <code>data</code> now contains the binary data. Use the format <i>structureName</i>.<i>fieldName</i> to access individual fields of data. The following lines display the data in an iSurface tool:</p>
                <p class="Code">ISURFACE, data.marbells</p>
            </li>
        </ol>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>The Variable Watch window contains the <code>sTemplate</code> and <code>data</code> structures. Expand these items for information about the structure fields. </p>
        <h3><a name="R_822202989_1207057"></a><a name="R_822202989_88936"></a><a name="kanchor2197"></a>Displaying Binary Images with Direct Graphics</h3>
        <p><a name="kanchor2198"></a><a name="kanchor2199"></a>Binary images are composed of pixels having one of two values, usually zero or one. With most color tables, pixels having values of zero or one are displayed with almost the same color, such as with a the default grayscale color table. Thus, a binary image is usually scaled to display the zeros as black and the ones as white.</p>
        <p>The following example imports a binary image of the world from the <code>continent_mask.dat</code> binary file. In this image, the oceans are zeros (black) and the continents are ones (white). This type of image can be used to mask out data over the oceans. The image contains byte data values and is 360 pixels by 360 pixels. Complete the following steps for a detailed description of the process. </p>
        <p class="ExampleCode"><a name="kanchor2200"></a>See <code>displaybinaryimage_direct.pro</code> in the <code>examples/doc/image</code> subdirectory of the IDL installation directory for code that duplicates this example. Run the example procedure by entering <code>displaybinaryimage_direct</code> at the IDL command prompt or view the file in an IDL Editor window by entering <code>.EDIT displaybinaryimage_direct.pro</code>. </p>
        <ol>
            <li value="1">
                <p>Determine the path to the <code>continent_mask.dat</code> file:</p>
                <p class="Code">file = FILEPATH('continent_mask.dat', $<br />&#160;&#160;&#160;SUBDIRECTORY = ['examples', 'data'])</p>
            </li>
            <li value="2">
                <p>Initialize the image size parameter:</p>
                <p class="Code">imageSize = [360, 360]</p>
            </li>
            <li value="3">
                <p>Use <a href="#R_822202989_756090" class="selected">READ_BINARY</a> to import the image from the file:</p>
                <p class="Code">image = READ_BINARY(file, DATA_DIMS = imageSize)</p>
            </li>
            <li value="4">
                <p>If you are running IDL on a TrueColor display, set the DECOMPOSED keyword to the DEVICE command to zero before your first color table related routine is used within an IDL session or program. This command implies a color table will be used. </p>
                <p class="Code">DEVICE, DECOMPOSED = 0</p>
            </li>
            <li value="5">
                <p>Load a grayscale color table:</p>
                <p class="Code">LOADCT, 0</p>
            </li>
            <li value="6">
                <p>Create a window and display the original image with the TV procedure:</p>
                <p class="Code">WINDOW, 0, XSIZE = imageSize[0], YSIZE = imageSize[1], $<br />&#160;&#160;&#160;TITLE = 'A Binary Image, Not Scaled'<br />TV, image</p>
                <p class="indent">The resulting window should be all black (blank). The binary image contains zeros and ones, which are almost the same color (black). Binary images should be displayed with the TVSCL procedure in order to scale the ones to white.</p>
            </li>
            <li value="7">
                <p>Create another window and display the scaled binary image:</p>
                <p class="Code">WINDOW, 1, XSIZE = imageSize[0], YSIZE = imageSize[1], $<br />&#160;&#160;&#160;TITLE = 'A Binary Image, Scaled'<br />TVSCL, image</p>
                <p class="indent">The following figure shows the results of scaling this display.</p>
                <p class="indent">
                    <img src="../../images/imgdisp01.gif" style="margin-left: 5.99976px;margin-top: 5.99976px;margin-right: 6.000469px;margin-bottom: 6.000469px;" />
                </p>
            </li>
        </ol>
        <h3><a name="R_822202989_1206941"></a><a name="R_822202989_77228"></a><a name="kanchor2201"></a><a name="kanchor2202"></a><a name="kanchor2203"></a>Displaying a Grayscale Binary Image</h3>
        <p>Features within grayscale images are created by pixels that have varying intensities. Pixel values range from least intense (black) to the most instance (white). Since a grayscale image is composed of pixels of varying intensities, it is best displayed with a color table that progresses linearly from black to white. Although IDL has several such predefined color tables, the grayscale color table (B-W LINEAR), is the most fitting choice when displaying grayscale images. IDL’s B-W LINEAR color table is represented by an index value of 0.</p>
        <p>The following example imports a grayscale image from the <code>convec.dat</code> binary file. This grayscale image shows the convection of the Earth’s mantle. The image contains byte data values and is 248 pixels by 248 pixels. Since the data type is byte, this image does not need to be scaled before display. If the data was of any type other than byte and the data values were not within the range from 0 to 255, the image would need to be scaled prior to being displayed. Complete the following steps for a detailed description of the process. </p>
        <p class="ExampleCode"><a name="kanchor2204"></a>See <code>displaygrayscaleimage_direct.pro</code> in the <code>examples/doc/image</code> subdirectory of the IDL installation directory for code that duplicates this example. Run the example procedure by entering <code>displaygrayscaleimage_direct</code> at the IDL command prompt or view the file in an IDL Editor window by entering <code>.EDIT displaygrayscaleimage_direct.pro</code>. </p>
        <ol>
            <li value="1">
                <p>Determine the path to the <code>convec.dat</code> file:</p>
                <p class="Code">file = FILEPATH('convec.dat', $<br />&#160;&#160;&#160;SUBDIRECTORY = ['examples', 'data'])</p>
            </li>
            <li value="2">
                <p>Initialize the image size parameter:</p>
                <p class="Code">imageSize = [248, 248]</p>
            </li>
            <li value="3">
                <p>Using <a href="#R_822202989_756090" class="selected">READ_BINARY</a>, import the image from the file:</p>
                <p class="Code">image = READ_BINARY(file, DATA_DIMS = imageSize)</p>
            </li>
            <li value="4">
                <p>If you are running IDL on a TrueColor display, set the DECOMPOSED keyword to the DEVICE command to zero before your first color table related routine is used within an IDL session or program.</p>
                <p class="Code">DEVICE, DECOMPOSED = 0</p>
            </li>
            <li value="5">
                <p>Load a grayscale color table:</p>
                <p class="Code">LOADCT, 0</p>
            </li>
            <li value="6">
                <p>Create a window and display the original image with the TV procedure:</p>
                <p class="Code">WINDOW, 0, XSIZE = imageSize[0], YSIZE = imageSize[1], $<br />&#160;&#160;&#160;TITLE = 'A Grayscale Image'<br />TV, image</p>
                <p class="indent">The following figure shows the resulting grayscale image display.</p>
                <p class="indent">
                    <img src="../../images/imgdisp02.gif" style="margin-left: 5.99976px;margin-top: 5.99976px;margin-right: 6.000469px;margin-bottom: 6.000469px;" />
                </p>
            </li>
        </ol>
        <h2 class="API"><a name="R_822202989_1092917"></a><a name="R_822202989_1092917_PageTOC_READ_BINARY_"></a>Version History</h2>
        <table style="mc-table-style: url('../../Resources/TableStyles/VersionTable.css');margin-left: 0;margin-right: auto;caption-side: top;" cellspacing="0" class="TableStyle_VersionTable">
            <col />
            <col />
            <tbody>
                <tr>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
                        <p>5.3</p>
                    </td>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
                        <p>Introduced</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2 class="API"><a name="R_822202989_1114048"></a><a name="R_822202989_13442"></a>See Also</h2>
        <p><a href="../B/BINARY_TEMPLATE.htm#B_856805997_985217">BINARY_TEMPLATE</a>
        </p>
        <div class="mp_footer">© <span class="DocumentTitleCopyrightYear">2015</span>&#160;<span class="DocumentTitleCopyrightCompanyName">Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation</span>. All Rights Reserved. This information is not subject to the controls of the International Traffic in Arms Regulations (ITAR) or the Export Administration Regulations (EAR). However, this information may be restricted from transfer to various embargoed countries under U.S. laws and regulations.</div>
    </body>
</html>