<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="idl.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Routines (alphabetical)|Routines: C">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>CW_FILESEL </title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/Description.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix"> </span><a class="MCBreadcrumbsLink" href="../../images/ref_part1.htm">Routines (alphabetical)</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="C_list.htm">Routines: C</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">CW_FILESEL</span>
        </div>
        <h1 class="Routine"><a name="C_854643309_999607"></a><a name="C_854643309_74113"></a>CW_FILESEL<a name="kanchor428"></a> <![CDATA[ ]]></h1>
        <p>The CW_FILESEL function is a compound widget for file selection.</p>
        <p>This routine is written in the IDL language. Its source code can be found in the file <code>cw_filesel.pro</code> in the <code>lib</code> subdirectory of the IDL distribution.</p>
        <h2 class="API"><a name="C_854643309_1005525"></a><a name="C_854643309_1005525_PageTOC_CW_FILESEL_"></a>Examples</h2>
        <p>This example creates a CW_FI<a name="kanchor429"></a>LESEL widget that is used to select image files for display. Note how the DONE tag of the event structure returned by CW_FILESEL is used to determine which button was pressed, and how the VALUE tag is used to obtain the file that was selected:</p>
        <p class="Code">PRO image_opener_event, event</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;WIDGET_CONTROL, event.top, GET_UVALUE=state, /NO_COPY</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;CASE event.DONE OF</p>
        <p class="Code">&#160;&#160;&#160;&#160;&#160;&#160;0: BEGIN</p>
        <p class="Code">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;state.file = event.VALUE</p>
        <p class="Code">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;WIDGET_CONTROL, event.top, SET_UVALUE=state, /NO_COPY</p>
        <p class="Code">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;END</p>
        <p class="Code">&#160;&#160;&#160;&#160;&#160;&#160;1: BEGIN</p>
        <p class="Code">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;IF (state.file NE '') THEN BEGIN</p>
        <p class="Code">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;img = READ_IMAGE(state.file)</p>
        <p class="Code">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;TV, img</p>
        <p class="Code">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ENDIF</p>
        <p class="Code">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;WIDGET_CONTROL, event.top, SET_UVALUE=state, /NO_COPY</p>
        <p class="Code">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;END</p>
        <p class="Code">&#160;&#160;&#160;&#160;&#160;&#160;2: WIDGET_CONTROL, event.top, /DESTROY</p>
        <p class="Code">&#160;&#160;&#160;ENDCASE</p>
        <p class="Code">&#160;</p>
        <p class="Code">END</p>
        <p class="Code">&#160;</p>
        <p class="Code">PRO image_opener</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;DEVICE, DECOMPOSED=0, RETAIN=2</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;base = WIDGET_BASE(TITLE ='Open Image', /COLUMN)</p>
        <p class="Code">&#160;&#160;&#160;filesel = CW_FILESEL(base, /IMAGE_FILTER, FILTER='All Files')</p>
        <p class="Code">&#160;&#160;&#160;file=''</p>
        <p class="Code">&#160;&#160;&#160;state = {file:file}</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;WIDGET_CONTROL, base, /REALIZE</p>
        <p class="Code">&#160;&#160;&#160;WIDGET_CONTROL, base, SET_UVALUE=state, /NO_COPY</p>
        <p class="Code">&#160;&#160;&#160;XMANAGER, 'image_opener', base</p>
        <p class="Code">&#160;</p>
        <p class="Code">END</p>
        <p>This code opens the following dialog:  </p>
        <p>
            <img src="../../images/rwimg06.gif" />
        </p>
        <h2 class="API"><a name="C_854643309_1001057"></a><a name="C_854643309_1001057_PageTOC_CW_FILESEL_"></a>Syntax</h2>
        <p class="Syntax"><i>Result</i> = CW_FILESEL ( <i>Parent </i>[,&#160;/<a href="#C_854643309_1001063" class="selected">FILENAME</a>] [,&#160;<a href="#C_854643309_1001065" class="selected">FILTER</a>=<i>string array</i>] [,&#160;/<a href="#C_854643309_1001072" class="selected">FIX_FILTER</a>] [,&#160;/<a href="#C_854643309_1001074" class="selected">FRAME</a>] [,&#160;/<a href="#C_854643309_1001076" class="selected">IMAGE_FILTER</a>] [,&#160;/<a href="#C_854643309_1001078" class="selected">MULTIPLE</a> | ,&#160;/<a href="#C_854643309_1024908" class="selected">SAVE</a>] [,&#160;<a href="#C_854643309_1001080" class="selected">PATH</a>=<i>string</i>] [,&#160;<a href="#C_854643309_1189963" class="selected">TAB_MODE</a>=<i>value</i>] [,&#160;<a href="#C_854643309_1001082" class="selected">UNAME</a>=<i>string</i>] [,&#160;<a href="#C_854643309_1001085" class="selected">UVALUE</a>=<i>value</i>] [,&#160;/<a href="#C_854643309_1024611" class="selected">WARN_EXIST</a>] )</p>
        <h2 class="API"><a name="C_854643309_1001059"></a><a name="C_854643309_1001059_PageTOC_CW_FILESEL_"></a>Return Value</h2>
        <p>This function returns the widget ID of the newly-created file selection widget.</p>
        <h2 class="API"><a name="C_854643309_1020263"></a><a name="C_854643309_1020263_PageTOC_CW_FILESEL_"></a>Arguments</h2>
        <h3 class="Argument">Parent</h3>
        <p>The widget ID of the parent.</p>
        <h2 class="API"><a name="C_854643309_1001062"></a><a name="C_854643309_1001062_PageTOC_CW_FILESEL_"></a>Keywords</h2>
        <h3 class="Keyword"><a name="C_854643309_1001063"></a><a name="C_854643309_1001063_Keywords_CW_FILESEL__"></a>FILENAME</h3>
        <p>Set this keyword to have the initial filename filled in the filename text area.</p>
        <h3 class="Keyword"><a name="C_854643309_1001065"></a><a name="C_854643309_1001065_Keywords_CW_FILESEL__"></a>FILTER</h3>
        <p>Set this keyword to an array of strings determining the filter types. If not set, the default is “All Files”. All files containing the chosen filter string will be displayed as possible selections. “All Files” is a special filter which returns all files in the current directory.</p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>You can use language catalogs to internationalize this value with strings in particular languages.</p>
        <p>Example:</p>
        <p class="Code">FILTER=["All Files", ".txt"]</p>
        <p>Multiple filter types may be used per filter entry, using a comma as the separator.</p>
        <p>Example:</p>
        <p class="Code">FILTER=[".jpg, .jpeg", ".txt, .text"]</p>
        <h3 class="Keyword"><a name="C_854643309_1001072"></a><a name="C_854643309_1001072_Keywords_CW_FILESEL__"></a>FIX_FILTER</h3>
        <p>If set, the user can not change the file filter.</p>
        <h3 class="Keyword"><a name="C_854643309_1001074"></a><a name="C_854643309_1001074_Keywords_CW_FILESEL__"></a>FRAME</h3>
        <p>If set, a frame is drawn around the widget.</p>
        <h3 class="Keyword"><a name="C_854643309_1001076"></a><a name="C_854643309_1001076_Keywords_CW_FILESEL__"></a>IMAGE_FILTER</h3>
        <p>If set, the filter “Image Files” will be added to the end of the list of filters. If set, and FILTER is not set, “Image Files” will be the only filter displayed. Valid image files are determined from QUERY_IMAGE.</p>
        <h3 class="Keyword"><a name="C_854643309_1001078"></a><a name="C_854643309_1001078_Keywords_CW_FILESEL__"></a>MULTIPLE</h3>
        <p>If set, the file selection list will allow multiple filenames to be selected. The filename text area will not be editable in this case. It is illegal to specify both /SAVE and /MULTIPLE.</p>
        <h3 class="Keyword"><a name="C_854643309_1001080"></a><a name="C_854643309_1001080_Keywords_CW_FILESEL__"></a>PATH</h3>
        <p>Set this keyword to the initial path the widget is to start in. The default is the current directory.</p>
        <h3 class="Keyword"><a name="C_854643309_1024908"></a><a name="C_854643309_1024908_Keywords_CW_FILESEL__"></a>SAVE</h3>
        <p>Set this keyword to create a widget with a “Save” button instead of an “Open” button. It is illegal to specify both /SAVE and /MULTIPLE.</p>
        <h3 class="Keyword"><a name="C_854643309_1189963"></a><a name="C_854643309_58774"></a>TAB_MODE</h3>
        <p>Set this keyword to one of the values shown in the table below to determine how the widget hierarchy can be navigated using the <b>Tab</b> key. The TAB_MODE setting is inherited by lower-level bases and child widgets unless it is explicitly set on an individual widget.</p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>It is not possible to tab to disabled (SENSITIVE=0) or hidden (MAP=0) widgets.</p>
        <p>Valid settings are:</p>
        <table style="mc-table-style: url('../../Resources/TableStyles/Description.css');margin-left: 0;margin-right: auto;caption-side: bottom;" cellspacing="0" class="TableStyle_Description">
            <col />
            <col />
            <thead>
                <tr>
                    <td class="TableStyle_Description_Head_0_0_RowSep_ColSep">
                        <p>Value</p>
                    </td>
                    <td class="TableStyle_Description_Head_0_0_RowSep_ColEnd">
                        <p>Description</p>
                    </td>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
                        <p>0</p>
                    </td>
                    <td class="TableStyle_Description_Body_0_0_RowSep_ColEnd">
                        <p>Disable navigation onto or off of the widget. This is the default. Child widgets automatically inherit the tab mode of the parent base as described in <a href="../../Creating IDL Programs/Creating Applications in IDL/Enhancing_Widget_Applica.htm#widget_techniques_4218446668_142828">Inheriting the TAB_MODE Value</a>.</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Description_Body_1_0_RowSep_ColSep">
                        <p>1</p>
                    </td>
                    <td class="TableStyle_Description_Body_1_0_RowSep_ColEnd">
                        <p>Enable navigation onto and off of the widget.</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
                        <p>2</p>
                    </td>
                    <td class="TableStyle_Description_Body_0_0_RowSep_ColEnd">
                        <p>Navigate only onto the widget.</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Description_Body_1_0_RowEnd_ColSep">
                        <p>3</p>
                    </td>
                    <td class="TableStyle_Description_Body_1_0_RowEnd_ColEnd">
                        <p>Navigate only off of the widget.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>In widget applications on the UNIX platform, the Motif library controls what widgets are brought into and released from focus using tabbing. The TAB_MODE keyword value is always zero, and any attempt to change it is ignored when running a widget application on the UNIX platform. Tabbing behavior may vary significantly between UNIX platforms; do not rely on a particular behavior being duplicated on all UNIX systems.</p>
        <h3 class="Keyword"><a name="C_854643309_1001082"></a><a name="C_854643309_1001082_Keywords_CW_FILESEL__"></a>UNAME</h3>
        <p>Set this keyword to a string that can be used to identify the widget in your code. You can associate a name with each widget in a specific hierarchy, and then use that name to query the widget hierarchy and get the correct widget ID.</p>
        <p>To query the widget hierarchy, use the WIDGET_INFO function with the FIND_BY_UNAME keyword. The UNAME should be unique to the widget hierarchy because the FIND_BY_UNAME keyword returns the ID of the first widget with the specified name.</p>
        <h3 class="Keyword"><a name="C_854643309_1001085"></a><a name="C_854643309_1001085_Keywords_CW_FILESEL__"></a>UVALUE</h3>
        <p>The “user value” to be assigned to the widget.</p>
        <h3 class="Keyword"><a name="C_854643309_1024611"></a><a name="C_854643309_1024611_Keywords_CW_FILESEL__"></a>WARN_EXIST</h3>
        <p>Set this keyword to produce a question dialog if the user selects a file that already exists. This keyword is useful when creating a “write” dialog. The default is to allow any filename to be quietly accepted, whether it exists or not.</p>
        <h3><a name="C_854643309_1020221_Keywords_CW_FILESEL__"></a>Keywords to WIDGET_CONTROL</h3>
        <p>You can use the <a href="../W/WIDGET_CONTROL.htm#W_811389549_680117">GET_UVALUE</a> and <a href="../W/WIDGET_CONTROL.htm#W_811389549_949285">SET_UVALUE</a> keywords to WIDGET_CONTROL to obtain or set the user value of this widget. Use the command to read the currently selected filename (or filenames if MULTIPLE is set) including the full path:</p>
        <p class="Code">WIDGET_CONTROL, id, GET_VALUE=filenames</p>
        <p>To set the value of the filename, use the following command:</p>
        <p class="Code">WIDGET_CONTROL, id, SET_VALUE=<i>value</i></p>
        <p>where <i>value</i> is a scalar string (or string array) containing the filenames, including the full path.</p>
        <p>See <a href="../../Creating IDL Programs/Creating Applications in IDL/Creating_a_Compound_Widg.htm#widget_apps_4063420628_1042476">Creating a Compound Widget</a> for a more complete discussion of controlling compound widgets using WIDGET_CONTROL and WIDGET_INFO.</p>
        <h2 class="API"><a name="C_854643309_1299043"></a><a name="C_854643309_44360"></a>Widget Events Returned by CW_FILESEL</h2>
        <p>CW_FILESEL generates an event that specifies the name of the selected file, whether the user completed the file selection operation, and the filename filter used. This widget generates event structures with the following definition:</p>
        <p class="Code">Event = {FILESEL_EVENT, ID:0L, TOP:0L, HANDLER:0L,VALUE:'',</p>
        <p class="Code">&#160;&#160;&#160;DONE:0L, FILTER:''}</p>
        <p>The ID field is the widget ID of the CW_FILESEL widget. The TOP field contains the widget ID of the top-level widget. The HANDLER field is always set to zero. The VALUE field is a string containing the most recent filename selected, if any.</p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>Even if MULTIPLE is set, VALUE will only contain the most recently selected filename. To retrieve all of the currently selected filenames, use the GET_VALUE keyword to WIDGET_CONTROL.</p>
        <p>The DONE field can be any of the following:</p>
        <table style="margin-left: 0;margin-right: auto;caption-side: top;mc-table-style: url('../../Resources/TableStyles/Description.css');" class="TableStyle_Description" cellspacing="0">
            <col class="Column-Column1" />
            <col class="Column-Column1" />
            <tbody>
                <tr class="Body-Body1">
                    <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
                        <p>0</p>
                    </td>
                    <td class="TableStyle_Description_Body_0_0_RowSep_ColEnd">
                        <p>User selected a file but didn’t double-click, or the user changed filters (in this case the VALUE field will be an empty string)</p>
                    </td>
                </tr>
                <tr class="Body-Body2">
                    <td class="TableStyle_Description_Body_1_0_RowSep_ColSep">
                        <p>1</p>
                    </td>
                    <td class="TableStyle_Description_Body_1_0_RowSep_ColEnd">
                        <p>User pressed “Open”/“Save” or double-clicked on a file</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="TableStyle_Description_Body_0_0_RowEnd_ColSep">
                        <p>2</p>
                    </td>
                    <td class="TableStyle_Description_Body_0_0_RowEnd_ColEnd">
                        <p>User pressed “Cancel”</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>The FILTER field is a string containing the current filter.</p>
        <h2 class="API"><a name="C_854643309_1020310"></a><a name="C_854643309_1020310_PageTOC_CW_FILESEL_"></a>Version History</h2>
        <table style="mc-table-style: url('../../Resources/TableStyles/VersionTable.css');margin-left: 0;margin-right: auto;caption-side: top;" cellspacing="0" class="TableStyle_VersionTable">
            <col />
            <col />
            <tbody>
                <tr>
                    <td class="TableStyle_VersionTable_Body_0_0_ColSep">
                        <p>5.3</p>
                    </td>
                    <td class="TableStyle_VersionTable_Body_0_0_ColEnd">
                        <p>Introduced</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
                        <p>6.1</p>
                    </td>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
                        <p>Added TAB_MODE keyword</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2 class="API"><a name="C_854643309_1052334"></a><a name="C_854643309_1052334_PageTOC_CW_FILESEL_"></a>See Also</h2>
        <p><a href="../D/DIALOG_PICKFILE.htm#D_843829869_862366">DIALOG_PICKFILE</a>, <a href="../F/FILEPATH.htm#F_848155245_877311">FILEPATH</a></p>
        <div class="mp_footer">© <span class="DocumentTitleCopyrightYear">2015</span>&#160;<span class="DocumentTitleCopyrightCompanyName">Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation</span>. All Rights Reserved. This information is not subject to the controls of the International Traffic in Arms Regulations (ITAR) or the Export Administration Regulations (EAR). However, this information may be restricted from transfer to various embargoed countries under U.S. laws and regulations.</div>
    </body>
</html>