<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="idl.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Routines (alphabetical)|Routines: C">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>CLUSTER_TREE</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/Description.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix"> </span><a class="MCBreadcrumbsLink" href="../../images/ref_part1.htm">Routines (alphabetical)</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="C_list.htm">Routines: C</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">CLUSTER_TREE</span>
        </div>
        <h1 class="Routine"><a name="C_854643309_1074886"></a><a name="kanchor266"></a>CLUSTER_TREE</h1>
        <p>The CLUSTER_TREE function computes the hierarchical clustering for a set of <i>m</i> items in an <i>n</i>-dimensional space. The CLUSTER_TREE function is designed to be used with the DENDROGRAM or DENDRO_PLOT procedures.</p>
        <p>This routine is written in the IDL language. Its source code can be found in the file <code>cluster_tree.pro</code> in the <code>lib</code> subdirectory of the IDL distribution.</p>
        <h2 class="API"><a name="C_854643309_1196752"></a>Example</h2>
        <p class="Code">; Given a set of points in two-dimensional space.<br />DATA = [ $<br />[1, 1], $<br />[1, 3], $<br />[2, 2.2], $<br />[4, 1.75], $<br />[4, 4], $<br />[5, 1], $<br />[5.5, 3]]<br /><br />; Compute the Euclidean distance between each point.<br />DISTANCE&#160;=&#160;DISTANCE_MEASURE(data)<br /><br />; Now compute the cluster analysis.<br />CLUSTERS&#160;=&#160;CLUSTER_TREE(distance, linkdistance)<br /><br />PRINT, 'Item#  Item#  Distance'<br />PRINT, [clusters, TRANSPOSE(linkdistance)], $<br />&#160;&#160;&#160;FORMAT='(I3, I7, F10.2)'</p>
        <p class="Code">&#160;</p>
        <p>When this code is run, IDL prints:</p>
        <p class="Code">Item#  Item#  Distance</p>
        <p class="Code">5		3		1.25</p>
        <p class="Code">2		1		1.28</p>
        <p class="Code">8		0		1.56</p>
        <p class="Code">6		4		1.80</p>
        <p class="Code">7		10		1.95</p>
        <p class="Code">11		9		2.05</p>
        <p>Items 5 and 3 are joined to create a new cluster, which is given the item number of 7. Items 2 and 1 are joined to create a cluster with item number 8. The process continues until all items have been joined together. A graphical representation is shown below (for clarity the last cluster, between items 9 and 11, has been omitted):</p>
        <p>
            <img src="../../images/clustertree.gif" style="margin-left: 5.99976px;margin-top: 5.99976px;margin-right: 5.999783px;margin-bottom: 6.000454px;" />
        </p>
        <h2 class="API"><a name="C_854643309_1196653"></a>Syntax</h2>
        <p class="Syntax"><i>Result</i> = CLUSTER_TREE( <i>Pairdistance</i>, <i>Linkdistance</i> [,&#160;<a href="#C_854643309_1196686" class="selected">LINKAGE</a>&#160;=&#160;<i>value</i>] )</p>
        <p>or for LINKAGE = 3 (centroid):</p>
        <p class="Syntax"><i>Result</i> = CLUSTER_TREE( <i>Pairdistance</i>, <i>Linkdistance</i>, <a href="#C_854643309_1196686" class="selected">LINKAGE</a>&#160;=&#160;3, [,&#160;<a href="#C_854643309_1196682" class="selected">DATA</a>&#160;=&#160;<i>array</i>]<i></i>[,&#160;<a href="#C_854643309_1196715" class="selected">MEASURE</a>=<i>value</i>] [,&#160;<a href="#C_854643309_1196749" class="selected">POWER_MEASURE</a>=<i>value</i>] )</p>
        <h2 class="API"><a name="C_854643309_1196672"></a>Return Value</h2>
        <p>The <i>Result</i> is a 2-by-(<i>m</i>-1) integer array containing the cluster indices. Each row of <i>Result</i> contains the indices of the two items that were clustered together. The distance between the two items is contained in the corresponding element of the <i>Linkdistance</i> output argument.</p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>The original <i>m</i> items are given indices 0...<i>m</i>-1, while each newly-created cluster is given a new index starting at <i>m</i> and incrementing.</p>
        <h2 class="API"><a name="C_854643309_1196675"></a>Arguments</h2>
        <h3 class="Argument">Pairdistance</h3>
        <p>An input array containing the pairwise distances as either a compact vector or as a symmetric matrix, usually created by the DISTANCE_MEASURE function. For the compact vector form, <i>Pairdistance</i> should be an <i>m*</i>(<i>m</i>-1)/2 element vector, ordered as: [<i>D</i><sub>0, 1</sub>,  <i>D</i><sub>0, 2</sub>, ..., <i>D</i><sub>0, m-1</sub>, <i>D</i><sub>1, 2</sub>, ..., <i>D</i><sub>m</sub><sub>-2, </sub><sub style="font-style: italic;">m-1</sub>], where <i>D</i><sub>i</sub><sub>, </sub><sub style="font-style: italic;">j</sub><sub></sub>denotes the distance between items <i>i</i> and <i>j</i>. For the matrix form, <i>Pairdistance</i> should be an <i>m</i>-by-<i>m</i> symmetric matrix with zeroes down the diagonal.</p>
        <h3 class="Argument">Linkdistance</h3>
        <p>Set this argument to a named variable in which the cluster distances will be returned as an (<i>m</i>-1)-element single or double-precision vector. Each element of <i>Linkdistance</i> corresponds to the distance between the two items of the corresponding row in <i>Result</i>. If <i>Pairdistance</i> is double-precision then <i>Linkdistance</i> will be double-precision, otherwise <i>Linkdistance</i> will be single-precision.</p>
        <h2 class="API"><a name="C_854643309_1196680"></a>Keywords</h2>
        <h3 class="Keyword"><a name="C_854643309_1196682"></a>DATA</h3>
        <p>If the LINKAGE keyword is set equal to 3 (centroid), then the DATA keyword must be set to the array of original data as input to the DISTANCE_MEASURE function. The data array is necessary for computing the centroid of newly-created clusters.</p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>DATA does not need to be supplied if LINKAGE is not equal to 3.</p>
        <h3 class="Keyword"><a name="C_854643309_1196686"></a>LINKAGE</h3>
        <p>Set this keyword to an integer giving the method used for linking clusters together. Possible values are: </p>
        <table style="mc-table-style: url('../../Resources/TableStyles/Description.css');margin-left: 0;margin-right: auto;caption-side: bottom;" cellspacing="0" class="TableStyle_Description">
            <col />
            <col />
            <thead>
                <tr>
                    <td class="TableStyle_Description_Head_0_0_RowSep_ColSep">
                        <p>Value</p>
                    </td>
                    <td class="TableStyle_Description_Head_0_0_RowSep_ColEnd">
                        <p>Method Used</p>
                    </td>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
                        <p>0</p>
                    </td>
                    <td class="TableStyle_Description_Body_0_0_RowSep_ColEnd">
                        <p>(Default) Use single linkage (nearest neighbor). The distance between two clusters is defined as the smallest distance between items in the two clusters. This method tends to string items together and is useful for non-homogeneous clusters.</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Description_Body_1_0_RowSep_ColSep">
                        <p>1</p>
                    </td>
                    <td class="TableStyle_Description_Body_1_0_RowSep_ColEnd">
                        <p>Use complete linkage (furthest neighbor). The distance between two clusters is defined as the largest distance between items. This method is useful for homogeneous, compact, clusters but is not useful for long chain-like clusters.</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
                        <p>2</p>
                    </td>
                    <td class="TableStyle_Description_Body_0_0_RowSep_ColEnd">
                        <p>Use weighted pairwise average. The distance between two clusters is defined as the average distance for all pairs of objects between each cluster, weighted by the number of objects in each cluster. This method works well for both homogeneous clusters and for chain-like clusters.</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Description_Body_1_0_RowEnd_ColSep">
                        <p>3</p>
                    </td>
                    <td class="TableStyle_Description_Body_1_0_RowEnd_ColEnd">
                        <p>Use weighted centroid. The distance between two clusters is defined as the distance between the centroids of each cluster. The centroid of a cluster is the average position of all the subclusters, weighted by the number of objects in each subcluster.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>If the LINKAGE keyword is equal to 3, the distance between two clusters may be less than the distance between items within one of the clusters. In a dendrogram plot this will cause the node lines to overlap.</p>
        <h3 class="Keyword"><a name="C_854643309_1196715"></a>MEASURE</h3>
        <p>If the LINKAGE keyword is equal to 3 (centroid), set this keyword to an integer giving the distance measure (the metric) to use. Possible values are:</p>
        <table style="mc-table-style: url('../../Resources/TableStyles/Description.css');margin-left: 0;margin-right: auto;caption-side: bottom;" cellspacing="0" class="TableStyle_Description">
            <col />
            <col />
            <thead>
                <tr>
                    <td class="TableStyle_Description_Head_0_0_RowSep_ColSep">
                        <p>Value</p>
                    </td>
                    <td class="TableStyle_Description_Head_0_0_RowSep_ColEnd">
                        <p>Type</p>
                    </td>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
                        <p>0</p>
                    </td>
                    <td class="TableStyle_Description_Body_0_0_RowSep_ColEnd">
                        <p>(Default) Euclidean distance</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Description_Body_1_0_RowSep_ColSep">
                        <p>1</p>
                    </td>
                    <td class="TableStyle_Description_Body_1_0_RowSep_ColEnd">
                        <p>CityBlock (Manhattan) distance</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
                        <p>2</p>
                    </td>
                    <td class="TableStyle_Description_Body_0_0_RowSep_ColEnd">
                        <p>Chebyshev distance</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Description_Body_1_0_RowSep_ColSep">
                        <p>3</p>
                    </td>
                    <td class="TableStyle_Description_Body_1_0_RowSep_ColEnd">
                        <p>Correlative distance</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Description_Body_0_0_RowEnd_ColSep">
                        <p>4</p>
                    </td>
                    <td class="TableStyle_Description_Body_0_0_RowEnd_ColEnd">
                        <p>Percent disagreement</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>For consistent results, the MEASURE value should match the value used in the original call to DISTANCE_MEASURE. This keyword is ignored if LINKAGE is not equal to 3, or if POWER_MEASURE is set.</p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>See DISTANCE_MEASURE for a detailed description of the various metrics.</p>
        <h3 class="Keyword"><a name="C_854643309_1196749"></a>POWER_MEASURE</h3>
        <p>If the LINKAGE keyword is equal to 3 (centroid), set this keyword to a scalar or a two-element vector giving the parameters <i>p</i> and <i>r</i> to be used in the power distance metric. If POWER_MEASURE is a scalar then the same value is used for both <i>p</i> and <i>r</i>. For consistent results, the POWER_MEASURE value should match the value used in the original call to DISTANCE_MEASURE. This keyword is ignored if LINKAGE is not equal to 3.</p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>See DISTANCE_MEASURE for a detailed description of the power distance metric.</p>
        <h2 class="API"><a name="C_854643309_1196790"></a>Version History</h2>
        <table style="caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
            <col />
            <col />
            <tbody>
                <tr>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
                        <p>6.1</p>
                    </td>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
                        <p>Introduced</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2 class="API"><a name="C_854643309_87726"></a>See Also</h2>
        <p><a href="../D/DENDROGRAM.htm#D_843829869_1032476">DENDROGRAM</a>, <a href="../D/DISTANCE_MEASURE.htm#D_843829869_1033423">DISTANCE_MEASURE</a></p>
        <div class="mp_footer">Â© <span class="DocumentTitleCopyrightYear">2015</span>&#160;<span class="DocumentTitleCopyrightCompanyName">Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation</span>. All Rights Reserved. This information is not subject to the controls of the International Traffic in Arms Regulations (ITAR) or the Export Administration Regulations (EAR). However, this information may be restricted from transfer to various embargoed countries under U.S. laws and regulations.</div>
    </body>
</html>