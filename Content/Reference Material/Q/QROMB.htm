<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="idl.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Routines (alphabetical)|Routines: Q">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>QROMB </title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix"> </span><a class="MCBreadcrumbsLink" href="../../images/ref_part1.htm">Routines (alphabetical)</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="Q_list.htm">Routines: Q</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">QROMB</span>
        </div>
        <h1 class="Routine"><a name="Q_815714925_51508"></a><a name="kanchor2125"></a><a name="Q_815714925_72956"></a>QROMB </h1>
        <p><a name="kanchor2126"></a><a name="kanchor2127"></a>The QROMB function evaluates the integral of a function over the closed interval [<i>A, B</i>] using Romberg integration. </p>
        <h2 class="API"><a name="Q_815714925_51544"></a><a name="Q_815714925_51544_PageTOC_QROMB_"></a>Examples</h2>
        <p>For more information on using QROMB, see <a href="#Addition" class="selected">Additional Examples</a>.</p>
        <h3><a name="Q_815714925_51545_Keywords_QROMB__"></a>Example 1</h3>
        <p>To integrate the CUBIC function (listed above) over the interval [0, 3] and print the result:</p>
        <p class="Code">PRINT, QROMB('cubic', 0.0, 3.0)</p>
        <p>IDL prints:</p>
        <p class="Code">&#160;32.2500</p>
        <p>This is the exact solution.</p>
        <h2 class="API"><a name="Q_815714925_51515"></a><a name="Q_815714925_51515_PageTOC_QROMB_"></a>Syntax</h2>
        <p class="Syntax"><i>Result</i> = QROMB( <i>Func</i>, <i>A</i>, <i>B</i> [,&#160;/<a href="#Q_815714925_51533" class="selected">DOUBLE</a>] [,&#160;<a href="#Q_815714925_51536" class="selected">EPS</a>=<i>value</i>] [,&#160;<a href="#Q_815714925_51539" class="selected">JMAX</a>=<i>value</i>] [,&#160;<a href="#Q_815714925_51542" class="selected">K</a>=<i>value</i>] )</p>
        <h2 class="API"><a name="Q_815714925_1078998"></a><a name="Q_815714925_46539"></a>Return Value</h2>
        <p>The result will have the same structure as the smaller of <i>A</i> and <i>B</i>, and the resulting type will be single- or double-precision floating, depending on the input types.</p>
        <h2 class="API"><a name="Q_815714925_1079001"></a><a name="Q_815714925_51517_PageTOC_QROMB_"></a>Arguments</h2>
        <h3 class="Argument">Func</h3>
        <p>A scalar string specifying the name of a user-supplied IDL function to be integrated. This function must accept a single scalar argument <i>X</i> and return a scalar result. It must be defined over the closed interval [<i>A, B</i>].</p>
        <p>For example, if we wish to integrate the cubic polynomial</p>
        <p class="indent">y = x<sup>3</sup> + (x - 1)<sup>2</sup> + 3</p>
        <p>we define a function CUBIC to express this relationship in the IDL language:</p>
        <p class="Code">FUNCTION cubic, X</p>
        <p class="Code">&#160;&#160;&#160;RETURN, X^3 + (X - 1.0)^2 + 3.0</p>
        <p class="Code">END</p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>If  QROMB is complex then only the real part is used for the computation.</p>
        <h3 class="Argument">A</h3>
        <p>The lower limit of the integration. <i>A</i> can be either a scalar or an array.</p>
        <h3 class="Argument">B</h3>
        <p>The upper limit of the integration. <i>B</i> can be either a scalar or an array.</p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>If arrays are specified for <i>A</i> and <i>B</i>, then QROMB integrates the user-supplied function over the interval [<i>A</i><sub class="italic">i</sub>, <i>B</i><sub class="italic">i</sub>] for each <i>i</i>. If either <i>A</i> or <i>B</i> is a scalar and the other an array, the scalar is paired with each array element in turn.</p>
        <h2 class="API"><a name="Q_815714925_51531"></a><a name="Q_815714925_51531_PageTOC_QROMB_"></a>Keywords</h2>
        <h3 class="Keyword"><a name="Q_815714925_51533"></a><a name="Q_815714925_51533_Keywords_QROMB__"></a>DOUBLE </h3>
        <p>Set this keyword to force the computation to be done in double-precision arithmetic.</p>
        <h3 class="Keyword"><a name="Q_815714925_51536"></a><a name="Q_815714925_51536_Keywords_QROMB__"></a>EPS</h3>
        <p>The desired fractional accuracy. For single-precision calculations, the default value is 1.0&#160;∞&#160;10<sup>-6</sup>. For double-precision calculations, the default value is 1.0&#160;∞&#160;10<sup>-12</sup>.</p>
        <h3 class="Keyword"><a name="Q_815714925_51539"></a><a name="Q_815714925_51539_Keywords_QROMB__"></a>JMAX</h3>
        <p>2<sup>(JMAX - 1)</sup> is the maximum allowed number of steps. If this keyword is not specified, a default of 20 is used. </p>
        <h3 class="Keyword"><a name="Q_815714925_51542"></a><a name="Q_815714925_51542_Keywords_QROMB__"></a>K</h3>
        <p>Integration is performed by Romberg’s method of order 2K. If not specified, the default is K=5. (K=2 is Simpson’s rule).</p>
        <h2 class="API"><a name="Addition"></a>Additional Examples</h2>
        <h3><a name="Q_815714925_1074882_Keywords_QROMB__"></a>Example 2</h3>
        <p>This example evaluates the volume under a surface using the following double integration:</p>
        <p>
            <img src="../../images/23_1.jpg" />
        </p>
        <p>The exact solution to this equation is 3.</p>
        <p>The example consists of four routines: the main routine, the integration in the y direction, the second integration of the x coefficient, and the second integration of the x<sup>2</sup> coefficient. The main routine is the last routine in the program. To run this example, copy the text of all four routines, paste them into an IDL editor window, and save the window’s contents as <code>DoubleIntegration.pro</code>.</p>
        <p class="Code">FUNCTION XSquaredCoef, x</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;; Integration of the x squared coefficient.</p>
        <p class="Code">&#160;&#160;&#160;secondIntegration = 9.*x^2</p>
        <p class="Code">&#160;&#160;&#160;RETURN, secondIntegration</p>
        <p class="Code">&#160;</p>
        <p class="Code">END</p>
        <p class="Code">&#160;</p>
        <p class="Code">FUNCTION XCoef, x</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;; Integration of the linear x coefficient.</p>
        <p class="Code">&#160;&#160;&#160;secondIntegration = x</p>
        <p class="Code">&#160;&#160;&#160;RETURN, secondIntegration</p>
        <p class="Code">&#160;</p>
        <p class="Code">END</p>
        <p class="Code">&#160;</p>
        <p class="Code">FUNCTION YDirection, y</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;; Re-write equation to consider both x coefficents.</p>
        <p class="Code">&#160;&#160;&#160;firstIntegration = QROMB('XSquaredCoef', 0., 1.)*y^2 $</p>
        <p class="Code">&#160;&#160;&#160;+ 4.*(QROMB('XCoef', 0., 1.))*y + 1.</p>
        <p class="Code">&#160;&#160;&#160;RETURN, firstIntegration</p>
        <p class="Code">&#160;</p>
        <p class="Code">END</p>
        <p class="Code">&#160;</p>
        <p class="Code">PRO DoubleIntegration</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;; Determine the volume under the surface represented</p>
        <p class="Code">&#160;&#160;&#160;; by 9x^2y^2 + 4xy + 1 over a specific region.</p>
        <p class="Code">&#160;&#160;&#160;volume = QROMB('YDirection', 0., 1. )</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;; Output results.</p>
        <p class="Code">&#160;&#160;&#160;PRINT, 'Resulting Volume:  ', volume</p>
        <p class="Code">&#160;</p>
        <p class="Code">END</p>
        <h3><a name="Q_815714925_1074980_Keywords_QROMB__"></a>Example 3</h3>
        <p>This example evaluates the mass of a volume using the following triple integration on a three-dimensional equation representing its density:</p>
        <p>
            <img src="../../images/23_2.jpg" />
        </p>
        <p>The exact solution to this equation is 3.</p>
        <p>The example consists of six routines: the main routine, the integration in the z-direction, the second integration of the xy coefficient, the second integration of the second x<sup>2</sup>y<sup>2</sup> coefficient, the third integration in the x coefficient, and the third integration in the x<sup>2</sup> coefficient. The main routine is the last routine in the program. To run this example, copy the text of all six routines, paste them into an IDL editor window, and save the window’s contents as <code>TripleIntegration.pro</code>.</p>
        <p class="Code">FUNCTION XSquaredCoef, x</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;; Integration of the x squared coefficient.</p>
        <p class="Code">&#160;&#160;&#160;thirdIntegration = 9.*x^2</p>
        <p class="Code">&#160;&#160;&#160;RETURN, thirdIntegration</p>
        <p class="Code">&#160;</p>
        <p class="Code">END</p>
        <p class="Code">&#160;</p>
        <p class="Code">FUNCTION XCoef, x</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;; Integration of the linear x coefficient.</p>
        <p class="Code">&#160;&#160;&#160;thirdIntegration = x</p>
        <p class="Code">&#160;&#160;&#160;RETURN, thirdIntegration</p>
        <p class="Code">&#160;</p>
        <p class="Code">END</p>
        <p class="Code">&#160;</p>
        <p class="Code">FUNCTION XSquaredYSquaredCoef, y</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;; Integration of the y squared coefficient.</p>
        <p class="Code">&#160;&#160;&#160;secondIntegration = QROMB('XSquaredCoef', 0., 1.)*y^2</p>
        <p class="Code">&#160;&#160;&#160;RETURN, secondIntegration</p>
        <p class="Code">&#160;</p>
        <p class="Code">END</p>
        <p class="Code">&#160;</p>
        <p class="Code">FUNCTION XYCoef, y</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;; Integration of the linear y coefficient.</p>
        <p class="Code">&#160;&#160;&#160;secondIntegration = QROMB('XCoef', 0., 1.)*y</p>
        <p class="Code">&#160;&#160;&#160;RETURN, secondIntegration</p>
        <p class="Code">&#160;</p>
        <p class="Code">END</p>
        <p class="Code">&#160;</p>
        <p class="Code">FUNCTION ZDirection, z</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;; Re-write equation to consider all the x and y</p>
        <p class="Code">&#160;&#160;&#160;; coefficients.</p>
        <p class="Code">&#160;&#160;&#160;firstIntegration = QROMB('XSquaredYSquaredCoef', 0., 1.) + $</p>
        <p class="Code">&#160;&#160;&#160;8.*(QROMB('XYCoef', 0., 1.))*z + 1.</p>
        <p class="Code">&#160;&#160;&#160;RETURN, firstIntegration</p>
        <p class="Code">&#160;</p>
        <p class="Code">END</p>
        <p class="Code">&#160;</p>
        <p class="Code">PRO TripleIntegration</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;; Determine the mass of the density represented</p>
        <p class="Code">&#160;&#160;&#160;; by 9x^2y^2 + 8xyz + 1 over a specific region.</p>
        <p class="Code">&#160;&#160;&#160;mass = QROMB('ZDirection', 0., 1. )</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;; Output results.</p>
        <p class="Code">&#160;&#160;&#160;PRINT, 'Resulting Mass:  ', mass</p>
        <p class="Code">&#160;</p>
        <p class="Code">END</p>
        <h2 class="API"><a name="Q_815714925_51550"></a><a name="Q_815714925_51550_PageTOC_QROMB_"></a>Version History</h2>
        <table style="caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
            <col />
            <col />
            <tbody>
                <tr>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
                        <p>4.0</p>
                    </td>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
                        <p>Introduced</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2 class="API">Resources and References</h2>
        <p>QROMB is based on the routine <code>qromb</code> described in section 4.3 of <i>Numerical Recipes in C: The Art of Scientific Computing</i> (Second Edition), published by Cambridge University Press, and is used by permission.</p>
        <h2 class="API"><a name="Q_815714925_1076453"></a><a name="Q_815714925_1076453_PageTOC_QROMB_"></a>See Also</h2>
        <p><a href="../I/INT_2D.htm#I_833016429_883951">INT_2D</a>, <a href="../I/INT_3D.htm#I_833016429_750234">INT_3D</a>, <a href="../I/INT_TABULATED.htm#I_833016429_750296">INT_TABULATED</a>, <a href="QROMO.htm#Q_815714925_51569">QROMO</a>, <a href="QSIMP.htm#Q_815714925_51645">QSIMP</a></p>
        <div class="mp_footer">© <span class="DocumentTitleCopyrightYear">2015</span>&#160;<span class="DocumentTitleCopyrightCompanyName">Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation</span>. All Rights Reserved. This information is not subject to the controls of the International Traffic in Arms Regulations (ITAR) or the Export Administration Regulations (EAR). However, this information may be restricted from transfer to various embargoed countries under U.S. laws and regulations.</div>
    </body>
</html>