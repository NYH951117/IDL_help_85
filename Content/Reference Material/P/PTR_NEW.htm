<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="idl.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Routines (alphabetical)|Routines: P">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>PTR_NEW</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix"> </span><a class="MCBreadcrumbsLink" href="../../images/ref_part1.htm">Routines (alphabetical)</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="P_list.htm">Routines: P</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">PTR_NEW</span>
        </div>
        <h1 class="Routine"><a name="P_817877613_1086484"></a><a name="kanchor2110"></a><a name="P_817877613_41884"></a>PTR_NEW</h1>
        <p><a name="kanchor2111"></a>The PTR_NEW function provides the primary mechanism for creating heap variables. </p>
        <h2 class="API"><a name="P_817877613_845056"></a><a name="P_817877613_845056_PageTOC_PTR_NEW_"></a>Syntax</h2>
        <p class="Syntax"><i>Result</i> = PTR_NEW( [<i>InitExpr</i>] [,&#160;/<a href="#P_817877613_845063" class="selected">ALLOCATE_HEAP</a>] [,&#160;/<a href="#P_817877613_845065" class="selected">NO_COPY</a>] )</p>
        <h2 class="API"><a name="P_817877613_1085598"></a><a name="P_817877613_1085598_PageTOC_PTR_NEW_"></a><a name="P_817877613_97607"></a>Return Value</h2>
        <p>It returns a pointer to the created variable.</p>
        <h2 class="API"><a name="P_817877613_845058"></a><a name="P_817877613_845058_PageTOC_PTR_NEW_"></a>Arguments</h2>
        <h3 class="Argument">InitExpr</h3>
        <p>If <i>InitExpr</i> is provided, PTR_NEW uses it to initialize the newly created heap variable. Note that the new heap variable does not point at the <i>InitExpr</i> variable in any sense—the new heap variable simply contains a copy of its value.</p>
        <p>If <i>InitExpr</i> is not provided, PTR_NEW does not create a new heap variable, and returns the <i>Null Pointer, </i>a special pointer with a fixed known value that can never point at a heap variable. The null pointer is useful as a terminator in dynamic data structures, or as a placeholder in structure definitions.</p>
        <h2 class="API"><a name="P_817877613_863738"></a><a name="P_817877613_863738_PageTOC_PTR_NEW_"></a>Keywords</h2>
        <h3 class="Keyword"><a name="P_817877613_845063"></a><a name="P_817877613_845063_Keywords_PTR_NEW__"></a>ALLOCATE_HEAP</h3>
        <p>Set this keyword to cause PTR_NEW to allocate an undefined heap variable rather than return a null pointer when <i>InitExpr</i> is not specified.</p>
        <h3 class="Keyword"><a name="P_817877613_845065"></a><a name="P_817877613_845065_Keywords_PTR_NEW__"></a>NO_COPY</h3>
        <p>Usually, when the <i>InitExpr</i> argument is provided, PTR_NEW allocates additional memory to make a copy. If the NO_COPY keyword is set, the value data is taken away from the <i>InitExpr</i> variable and attached directly to the heap variable. This feature can be used to move data very efficiently. However, it has the side effect of causing the <i>InitExpr</i> variable to become undefined. </p>
        <p>Using the NO_COPY keyword is completely equivalent to the statement:</p>
        <p class="Code">Result = PTR_NEW(TEMPORARY(InitExpr))</p>
        <p>and is provided as a syntactic convenience.</p>
        <h2 class="API"><a name="P_817877613_1079245"></a><a name="P_817877613_1079245_PageTOC_PTR_NEW_"></a>Version History</h2>
        <table style="caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
            <col />
            <col />
            <tbody>
                <tr>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
                        <p>5.0</p>
                    </td>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
                        <p>Introduced</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2 class="API"><a name="P_817877613_1198627"></a><a name="P_817877613_1198627_PageTOC_PTR_NEW_"></a>See Also</h2>
        <p><a href="PTR_FREE.htm#P_817877613_845045">PTR_FREE</a>, <a href="PTR_VALID.htm#P_817877613_845070">PTR_VALID</a>, <a href="PTRARR.htm#P_817877613_845087">PTRARR</a></p>
        <div class="mp_footer">© <span class="DocumentTitleCopyrightYear">2015</span>&#160;<span class="DocumentTitleCopyrightCompanyName">Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation</span>. All Rights Reserved. This information is not subject to the controls of the International Traffic in Arms Regulations (ITAR) or the Export Administration Regulations (EAR). However, this information may be restricted from transfer to various embargoed countries under U.S. laws and regulations.</div>
    </body>
</html>