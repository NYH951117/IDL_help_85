<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="idl.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Routines (alphabetical)|Routines: P">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>POLYFILL Procedure</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix"> </span><a class="MCBreadcrumbsLink" href="../../images/ref_part1.htm">Routines (alphabetical)</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="P_list.htm">Routines: P</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">POLYFILL Procedure</span>
        </div>
        <h1 class="Routine"><a name="dg_routines_3604229493_877725"></a><a name="kanchor2042"></a><a name="dg_routines_3604229493_92013"></a>POLYFILL Procedure</h1>
        <p><a name="kanchor2043"></a>The POLYFILL procedure fills the interior of a region of the display enclosed by an arbitrary two or three-dimensional polygon. The available filling methods are: solid fill, parallel lines, or a pattern contained in an array. Not all methods are available on every hardware output device. See <a href="#dg_routines_3604229493_877758" class="selected">Fill Methods</a> below.</p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>POLYFILL uses the current graphics device’s own polygon filling methodology when possible. For some devices, polygon filling is designed to avoid filling a given pixel more than once when neighboring polygons (that is, polygons with shared edges) are drawn. If the resulting pixel fill from POLYFILL is unsatisfactory, consider using <a href="../D/DRAW_ROI_Procedure.htm#dg_routines_3604229493_882720">DRAW_ROI Procedure</a> instead.</p>
        <p>The polygon is defined by a list of connected vertices stored in X, Y, and Z. The coordinates can be given in data, device, or normalized form using the DATA, DEVICE, or NORMAL keywords.</p>
        <h3><a name="dg_routines_3604229493_877758"></a>Fill Methods</h3>
        <p>Line-fill method: Filling using parallel lines is device-independent and works on all devices that can draw lines. Crosshatching can be simulated by performing multiple fills with different orientations. The spacing, linestyle, orientation, and thickness of the filling lines can be specified using the corresponding keyword parameters. The LINE_FILL keyword selects this filling style, but is not required if either the ORIENTATION or SPACING parameters are present.</p>
        <p>Solid fill method: By default, POLYFILL fills the polygon with a solid color. For devices that do not directly support filling with a solid color, the solid fill is automatically emulated using the line-fill method.</p>
        <p>Patterned fill: Some output devices support filling with a pattern. For these devices, the fill pattern array can be explicitly specified with the PATTERN keyword. Refer to the description of that keyword for a list of devices that support patterned fill.</p>
        <h2 class="API"><a name="dg_routines_3604229493_877763"></a><a name="dg_routines_3604229493_1068936_PageTOC_POLYFILL_"></a>Syntax</h2>
        <p class="Syntax">POLYFILL, <i>X</i> [,&#160;<i>Y</i> [,&#160;<i>Z</i>]] [,&#160;<a href="#dg_routines_3604229493_877795" class="selected">IMAGE_COORD</a>=<i>array</i>] [,&#160;/<a href="#dg_routines_3604229493_877800" class="selected">IMAGE_INTERP</a>] [,&#160;/<a href="#dg_routines_3604229493_877804" class="selected">LINE_FILL</a>] [,&#160;<a href="#dg_routines_3604229493_877807" class="selected">PATTERN</a>=<i>array</i>] [,&#160;<a href="#dg_routines_3604229493_877829" class="selected">SPACING</a>=<i>centimeters</i>] [,&#160;<a href="#dg_routines_3604229493_877832" class="selected">TRANSPARENT</a>=<i>value</i>]</p>
        <p class="Syntax"><b>Graphics Keywords:</b> [,&#160;CLIP=<i>[X</i><sub class="italic">0</sub>, <i>Y</i><sub class="italic">0</sub>, <i>X</i><sub class="italic">1</sub>, <i>Y</i><sub class="italic">1</sub><i>]</i>] [,&#160;COLOR=<i>value</i>] [,&#160;/DATA | , /DEVICE | , /NORMAL] [,&#160;LINESTYLE={0 | 1 | 2 | 3 | 4 | 5}] [,&#160;/NOCLIP] [,&#160;ORIENTATION=<i>ccw_degrees_from_horiz</i>] [,&#160;/T3D] [,&#160;THICK=<i>value</i>] [,&#160;Z=<i>value</i>]</p>
        <h2 class="API"><a name="dg_routines_3604229493_877785"></a><a name="dg_routines_3604229493_678244_PageTOC_POLYFILL_"></a>Arguments</h2>
        <h3 class="Argument">X</h3>
        <p>A vector argument providing the X coordinates of the points to be connected. The vector must contain at least three elements. If only one argument is specified, <i>X</i> must be an array of either two or three vectors (i.e., <code>(2,*)</code> or <code>(3,*)</code>). In this special case, the vector <code>X[0,*]</code> specifies the X values, <code>X[1,*]</code> specifies Y, and <code>X[2,*]</code> contain the Z values.</p>
        <h3 class="Argument">Y</h3>
        <p>A vector argument providing the Y coordinates of the points to be connected. <i>Y</i> must contain at least three elements.</p>
        <h3 class="Argument">Z</h3>
        <p>An optional vector argument providing the Z coordinates of the points to be connected. If Z is not provided, X and Y are used to draw lines in two dimensions. Z must contain at least three elements. Z has no effect if the keyword T3D is not specified and the system variable !P.T3D= 0.</p>
        <h2 class="API"><a name="dg_routines_3604229493_877793"></a><a name="dg_routines_3604229493_678251_PageTOC_POLYFILL_"></a>Keywords</h2>
        <h3 class="Keyword"><a name="dg_routines_3604229493_877795"></a><a name="dg_routines_3604229493_678254_Keywords_POLYFILL__"></a>IMAGE_COORD</h3>
        <p><i><a name="kanchor2044"></a>This keyword is only available when creating output in the Z-Buffer.</i>
        </p>
        <p>A 2 x <i>n</i> array containing the fill pattern array subscripts of each of the <i>n</i> polygon vertices. Use this keyword in conjunction with the PATTERN keyword to warp images over 2-D and 3-D polygons. See <a href="../../Direct Graphics/Supported_Devices.htm#Z-Buffer">Z-Buffer</a> for information and examples.</p>
        <h3 class="Keyword"><a name="dg_routines_3604229493_877800"></a><a name="dg_routines_3604229493_678256_Keywords_POLYFILL__"></a>IMAGE_INTERP</h3>
        <p><i>This keyword is only available when creating output in the Z-Buffer.</i>
        </p>
        <p>Specifies the method of sampling the PATTERN array when the IMAGE_COORD keyword is present. The default method is to use nearest-neighbor sampling. Bilinear interpolation sampling is performed if IMAGE_INTERP is set. See <a href="../../Direct Graphics/Supported_Devices.htm#Z-Buffer">Z-Buffer</a> for information and examples.</p>
        <h3 class="Keyword"><a name="dg_routines_3604229493_877804"></a><a name="dg_routines_3604229493_678258_Keywords_POLYFILL__"></a>LINE_FILL</h3>
        <p>Set this keyword to indicate that polygons are to be filled with parallel lines, rather than using solid or patterned filling methods.When using the line-drawing method of filling, the thickness, linestyle, orientation, and spacing of the lines may be specified with keywords.</p>
        <h3 class="Keyword"><a name="dg_routines_3604229493_877807"></a><a name="dg_routines_3604229493_678260_Keywords_POLYFILL__"></a>PATTERN</h3>
        <p>Set this keyword to a rectangular array of pixels giving the fill pattern. If this keyword parameter is omitted, POLYFILL fills the area with a solid color. The pattern array may be of any size; if it is smaller than the filled area the pattern array is cyclically repeated.</p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>This keyword is supported for the following devices:<br /><br />METAFILE, PRINTER, PS, WIN, X, and Z.<br /><br />For the PostScript device, fill patterns are only supported with language level 2. Use the LANGUAGE_LEVEL keyword to DEVICE to set the PostScript language level to 2 if filled patterns are to be used.<br /><br />For the Z device, the pattern can either an [<i>m</i> x <i>n</i>] array (a single-channel image), or as an [3 x <i>m</i> x <i>n</i>] array (a three-channel image) to be “warped” between the vertices of the polygons. For example, to fill the current plot window with a grid of dots, enter the following commands:</p>
        <p class="Code">; Define pattern array as 10 by 10:</p>
        <p class="Code">PAT = BYTARR(10,10, /NOZERO)</p>
        <p class="Code">&#160;</p>
        <p class="Code">; Set center pixel to bright:</p>
        <p class="Code">PAT[5,5] = 255</p>
        <p class="Code">&#160;</p>
        <p class="Code">winsize=300</p>
        <p class="Code">WINDOW, /FREE, XSIZE=winsize, YSIZE=winsize</p>
        <p class="Code">; Fill the rectangle defined by the window with a 10% margin:</p>
        <p class="Code">POLYFILL, [.1,.9,.9,.1]*winsize, $</p>
        <p class="Code">&#160;&#160;&#160;[.1,.1,.9,.9]*winsize, /DEVICE, PATTERN = PAT</p>
        <h3 class="Keyword"><a name="dg_routines_3604229493_877829"></a><a name="dg_routines_3604229493_678269_Keywords_POLYFILL__"></a>SPACING</h3>
        <p>The spacing, in centimeters, between the parallel lines used to fill polygons.</p>
        <h3 class="Keyword"><a name="dg_routines_3604229493_877832"></a><a name="dg_routines_3604229493_678271_Keywords_POLYFILL__"></a>TRANSPARENT</h3>
        <p><i>This keyword is only available when creating output in the Z-Buffer.</i>
        </p>
        <p>Specifies the minimum pixel value to draw in conjunction with the PATTERN and IMAGE_COORD keywords. Pixels less than this value are not drawn and the Z-buffer is not updated. See <a href="../../Direct Graphics/Supported_Devices.htm#Z-Buffer">Z-Buffer</a> for information and examples.</p>
        <h3><a name="dg_routines_3604229493_877837"></a>Graphics Keywords Accepted</h3>
        <p>See <a href="../../Direct Graphics/graphkeyw.htm#%23graphkeyw_3288778166_317209">Direct Graphics Keywords</a> for the description of the following graphics and plotting keywords:</p>
        <p><a href="../../Direct Graphics/graphkeyw.htm#graphkeyw_3288778166_315949">CLIP</a>, <a href="../../Direct Graphics/graphkeyw.htm#graphkeyw_3288778166_371352">COLOR</a>, <a href="../../Direct Graphics/graphkeyw.htm#graphkeyw_3288778166_315961">DATA</a>, <a href="../../Direct Graphics/graphkeyw.htm#graphkeyw_3288778166_369990">DEVICE</a>, <a href="../../Direct Graphics/graphkeyw.htm#graphkeyw_3288778166_331728">LINESTYLE</a>, <a href="../../Direct Graphics/graphkeyw.htm#graphkeyw_3288778166_370050">NOCLIP</a>, <a href="../../Direct Graphics/graphkeyw.htm#graphkeyw_3288778166_315963">NORMAL</a>, <a href="../../Direct Graphics/graphkeyw.htm#graphkeyw_3288778166_315964">ORIENTATION</a>, <a href="../../Direct Graphics/graphkeyw.htm#graphkeyw_3288778166_315956">T3D</a>, <a href="../../Direct Graphics/graphkeyw.htm#graphkeyw_3288778166_316006">THICK</a>, <a href="../../Direct Graphics/graphkeyw.htm#graphkeyw_3288778166_332658">Z</a></p>
        <h3><a name="dg_routines_3604229493_877878"></a>Z-Buffer-Specific Keywords</h3>
        <p><a name="kanchor2045"></a>Certain keyword parameters are only active when the Z-buffer is the currently selected graphics device: IMAGE_COORD, IMAGE_INTERP, TRANSPARENT and COLOR. These parameters allow images to be warped over 2-D or 3-D polygons, and the output of shaded polygons. See <a href="../../Direct Graphics/Supported_Devices.htm#Z-Buffer">Z-Buffer</a> for information and examples.</p>
        <p>For shaded polygons, the COLOR keyword can specify an array that contains the color index at each vertex. Color indices are linearly interpolated between vertices. If COLOR contains a scalar, the entire polygon is drawn with the given color index, just as with the other graphics output devices.</p>
        <p>Images can be warped over polygons by passing in the image with the PATTERN parameter, and a (2, <i>n</i>) array containing the image space coordinates that correspond to each of the N vertices with the IMAGE_COORD keyword.</p>
        <p>The IMAGE_INTERP keyword indicates that bilinear interpolation is to be used, rather than the default nearest-neighbor sampling. Pixels less than the value of TRANSPARENT are not drawn, simulating transparency.</p>
        <h2 class="API"><a name="dg_routines_3604229493_877891"></a><a name="dg_routines_3604229493_678280_PageTOC_POLYFILL_"></a>Examples</h2>
        <p>Fill a rectangular polygon that has the vertices (30,30), (100, 30), (100, 100), and (30, 100) in device coordinates:</p>
        <p class="Code">; Create the vectors of X and Y values:<br />X = [30, 100, 100, 30] &amp; Y = [30, 30, 100, 100]<br /><br />; Fill the polygon with color index 175:<br />POLYFILL, X, Y, COLOR = 175, /DEVICE</p>
        <p>Many scientific graphs use region filling to highlight the difference between two or more curves, to illustrate boundaries, etc. The IDL POLYFILL procedure fills the interior of arbitrary polygons given a list of vertices. The interior of the polygon can be filled with a solid color or with some devices, a user-defined fill pattern contained in a rectangular array.</p>
        <p>The figure below illustrates a simple example of polygon filling by filling the region under the Chinook population graph with a color index of 25 percent the maximum, then filling the region under the Sockeye population graph with 50 percent of the maximum index. Because the Chinook populations are always higher than the Sockeye populations, the graph appears as two distinct regions.</p>
        <p>
            <img src="../../Resources/Images/plng09.gif" style="margin-left: 5.99976px;margin-top: 5.99976px;margin-right: 6.000454px;margin-bottom: 6.000469px;" />
        </p>
        <p>The program that produced this figure is shown below. It first draws a plot axis with no data, using the NODATA keyword. The minimum and maximum <i>y</i> values are directly specified with the YRANGE keyword. Because the <i>y</i>-axis range does not always exactly include the specified interval (see <a href="PLOT_Procedure.htm#dg_routines_3604229493_876031">X Versus Y Plots</a>), the variable MINVAL, is set to the current <i>y</i>-axis minimum, <code>!Y.CRANGE[0]</code>. Next, the upper Chinook population region is shaded with a polygon that contains the vertices of the Chinook samples, preceded and followed by points on the <i>x</i>-axis, (<code>YEAR[0]</code>, <code>MINVAL</code>), and (<code>YEAR[n-1]</code>, <code>MINVAL</code>). The polygon for the Sockeye samples is drawn using the same method with a different color. Finally, the XYOUTS procedure is used to annotate the two regions.</p>
        <p>Enter the following IDL commands to create the plot:</p>
        <p class="Code">; Set color display mode to Decomposed Color<br />DEVICE, DECOMPOSED = 1<br /><br />; Define variables:<br />@plot01<br />; Draw axes, no data, set the range:<br />PLOT, YEAR, CHINOOK, YRANGE = [MIN(SOCKEYE), MAX(CHINOOK)], $<br />&#160;&#160;&#160;/NODATA, TITLE='Sockeye and Chinook Populations', $<br />&#160;&#160;&#160;XTITLE='Year', YTITLE='Fish (thousands)'<br />; Make a vector of x values for the polygon by duplicating<br />; the first and last points:<br />PXVAL = [YEAR[0], YEAR, YEAR[N1]]<br />; Get y value along bottom x-axis:<br />MINVAL = !Y.CRANGE[0]<br />; Make a polygon by extending the edges down to the x-axis:<br />POLYFILL, PXVAL, [MINVAL, CHINOOK, MINVAL], $<br />&#160;&#160;&#160;COL = 0.75 * !D.N_COLORS<br />; Same with second polygon.<br />POLYFILL, PXVAL, [MINVAL, SOCKEYE, MINVAL], $<br />&#160;&#160;&#160;COL = 0.50 * !D.N_COLORS<br />; Label the polygons:<br />XYOUTS, 1968, 430, 'SOCKEYE', SIZE=2<br />XYOUTS, 1968, 490, 'CHINOOK', SIZE=2</p>
        <p class="ExampleCode"><a name="kanchor2046"></a>Alternatively, you can run the plot04 batch file to create the plot:<br /> <code>@plot04</code></p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>If IDL does not find the batch file, the required directory may not be in your IDL search path. All of the files mentioned are located in the <code>examples/doc/plot</code> subdirectory of the IDL distribution. By default, this directory is part of IDL’s path; if you have not changed your path, you will be able to run the examples as described here. See <a href="../../Creating IDL Programs/Appendices/IDL_Environment_System_V.htm#sysvars_272074529_997094">!PATH</a> for information on modifying IDL’s path.</p>
        <h2 class="API"><a name="dg_routines_3604229493_877936"></a><a name="dg_routines_3604229493_821466_PageTOC_POLYFILL_"></a>Version History</h2>
        <table style="caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
            <col />
            <col />
            <tbody>
                <tr>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
                        <p>Original</p>
                    </td>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
                        <p>Introduced</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2 class="API"><a name="dg_routines_3604229493_877944"></a><a name="dg_routines_3604229493_1079123_PageTOC_POLYFILL_"></a>See Also</h2>
        <p><a href="POLYFILLV.htm">POLYFILLV</a>
        </p>
        <div class="mp_footer">© <span class="DocumentTitleCopyrightYear">2015</span>&#160;<span class="DocumentTitleCopyrightCompanyName">Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation</span>. All Rights Reserved. This information is not subject to the controls of the International Traffic in Arms Regulations (ITAR) or the Export Administration Regulations (EAR). However, this information may be restricted from transfer to various embargoed countries under U.S. laws and regulations.</div>
    </body>
</html>