<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="idl.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Routines (alphabetical)|Routines: M">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>MESH_MERGE</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix"> </span><a class="MCBreadcrumbsLink" href="../../images/ref_part1.htm">Routines (alphabetical)</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="M_list.htm">Routines: M</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">MESH_MERGE</span>
        </div>
        <h1 class="Routine"><a name="M_824365677_929930"></a><a name="kanchor1845"></a><a name="M_824365677_68102"></a>MESH_MERGE</h1>
        <p>The MESH_MERGE function merges two polygonal meshes.</p>
        <h2 class="API"><a name="M_824365677_948460"></a><a name="M_824365677_948460_PageTOC_MESH_MERGE_"></a>Syntax</h2>
        <p class="Syntax"><i>Result</i> = MESH_MERGE (<i>Verts</i>, <i>Conn</i>, <i>Verts1</i>, <i>Conn1</i> [,&#160;/<a href="#M_824365677_948474" class="selected">COMBINE_VERTICES</a>] [,&#160;<a href="#M_824365677_948480" class="selected">TOLERANCE</a>=<i>value</i>]&#160;)</p>
        <h2 class="API"><a name="M_824365677_948462"></a><a name="M_824365677_948462_PageTOC_MESH_MERGE_"></a>Return Value</h2>
        <p>The function return value is the number of triangles in the modified polygonal mesh connectivity array.</p>
        <h2 class="API"><a name="M_824365677_948464"></a><a name="M_824365677_948464_PageTOC_MESH_MERGE_"></a>Arguments</h2>
        <h3 class="Argument">Verts</h3>
        <p>Input/Output array of polygonal vertices [3, <i>n</i>]. These are potentially modified and returned to the user.</p>
        <h3 class="Argument">Conn</h3>
        <p>Input/Output polygonal mesh connectivity array. This array is modified and returned to the user.</p>
        <h3 class="Argument">Verts1</h3>
        <p>Additional input polygonal vertex array [3, <i>n</i>].</p>
        <h3 class="Argument">Conn1</h3>
        <p>Additional input polygonal mesh connectivity array.</p>
        <h2 class="API"><a name="M_824365677_948473"></a><a name="M_824365677_948473_PageTOC_MESH_MERGE_"></a>Keywords</h2>
        <h3 class="Keyword"><a name="M_824365677_948474"></a><a name="M_824365677_948474_Keywords_MESH_MERGE__"></a>COMBINE_VERTICES</h3>
        <p>If this keyword is set, the routine will attempt to collapse vertices which are at the same location in space into single vertices. If the expression </p>
        <p>
            <img src="../../images/19_6.jpg" />
        </p>
        <p>is true, the points (<i>i</i>) and (<i>i</i>+1) can be collapsed into a single vertex. The result is returned as a modification of the <i>Verts</i> argument.</p>
        <h3 class="Keyword"><a name="M_824365677_948480"></a><a name="M_824365677_948480_Keywords_MESH_MERGE__"></a>TOLERANCE</h3>
        <p>This keyword is used to specify the tolerance value used with the COMBINE_VERTICES keyword. The default value is 0.0.</p>
        <h2 class="API"><a name="M_824365677_953220"></a><a name="M_824365677_953220_PageTOC_MESH_MERGE_"></a>Examples</h2>
        <p><a name="kanchor1846"></a>This example merges two simple meshes: a single square and a single right triangle. The right side of the square is in the same location as the left side of the triangle. Each mesh is originally its own polygon object. These objects are then added to a model object. The model is displayed in the XOBJVIEW utility. The XOBJVEW utility allows you to click-and-drag the polygon object to rotate and translate it. See <a href="../X/XOBJVIEW.htm#X_800576109_956910">XOBJVIEW</a> for more information on this utility.</p>
        <p><a name="kanchor1847"></a><a name="kanchor1848"></a>When you quit out of the first XOBJVIEW display, the second XOBJVIEW display will appear. The meshes are merged into a single polygon object. After you quit out of the second display, the final display shows the results of decimating the merged mesh to obtain the least number connections for these vertices. Decimation can often be used to refine the results of merging.</p>
        <p>This example is split into several parts; click on each section to enter the code at the IDL command line.</p>
        <p class="Code">; Create a mesh of a single square (4 vertices<br />; connected counter-clockwise from the lower left<br />; corner of the mesh.<br />vertices = [[-2., -1., 0.], [0., -1., 0.], $<br />   [0., 1., 0.], [-2., 1., 0.]]<br />connectivity = [4, 0, 1, 2, 3]<br /><br />; Create a separate mesh of a single triangle (3<br />; vertices connected counter-clockwise from the lower<br />; left corner of the mesh.<br />triangleVertices = [[0., -1., 0.], [2., -1., 0.], $<br />   [0., 1., 0.]]<br />triangleConnectivity = [3, 0, 1, 2]<br /><br />; Initialize model for display.<br />oModel = OBJ_NEW('IDLgrModel')<br /><br />; Initialize polygon for the square mesh.<br />oPolygon = OBJ_NEW('IDLgrPolygon', vertices, $<br />   POLYGONS = connectivity, COLOR = [0, 128, 0], $<br />   STYLE = 1)<br /><br />; Initialize polygon for the triangle mesh.<br />oTrianglePolygon = OBJ_NEW('IDLgrPolygon', $<br />   triangleVertices, POLYGONS = triangleConnectivity, $<br />   COLOR = [0, 0, 255], STYLE = 1)</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;</p>
        <p class="Code">; Add both polygons to the model.<br />oModel-&gt;Add, oPolygon<br />oModel-&gt;Add, oTrianglePolygon<br /><br />; Display the model in the XOBJVIEW utility.<br />XOBJVIEW, oModel, /BLOCK, $<br />   TITLE = 'Two Separate Meshes'<br /><br />; Merge the square and triangle into a single mesh.<br />numberTriangles = MESH_MERGE(vertices, $<br />   connectivity, triangleVertices, $<br />   triangleConnectivity, /COMBINE_VERTICES)<br /><br />; Output number of resulting vertices and triangles.<br />numberVertices = SIZE(vertices, /DIMENSIONS)<br />PRINT, 'numberVertices = ', numberVertices[1]<br />PRINT, 'numberTriangles = ', numberTriangles<br /><br />; Cleanup triangle polygon object, which is no longer<br />; needed.<br />OBJ_DESTROY, [oTrianglePolygon]<br /><br />; Update remaining polygon object with the results from<br />; merging the two meshes together.<br />oPolygon-&gt;SetProperty, DATA = vertices, $<br />   POLYGONS = connectivity, COLOR = [0, 128, 128]</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;</p>
        <p class="Code">; Display results.<br />XOBJVIEW, oModel, /BLOCK, $<br />   TITLE = 'Result of Merging the Meshes into One'<br /><br />; Decimate polygon to 75 percent of the original<br />; number of vertices.<br />numberTriangles = MESH_DECIMATE(vertices, connectivity, $<br />   decimatedConnectivity, PERCENT_POLYGONS = 75)<br /><br />; Output number of resulting triangles.<br />PRINT, 'After Decimation:  numberTriangles = ', numberTriangles<br /><br />; Update polygon with results from decimating.<br />oPolygon-&gt;SetProperty, DATA = vertices, $<br />   POLYGONS = decimatedConnectivity, COLOR = [0, 0, 0]<br /><br />; Display decimation results.<br />XOBJVIEW, oModel, /BLOCK, $<br />  TITLE = 'Decimation of Mesh'<br /><br />; Cleanup object references.<br />OBJ_DESTROY, [oModel]</p>
        <p>The results for this example are shown in the following figure: original, separate meshes (left), merged mesh (center) and decimated mesh (right).</p>
        <p>
            <img src="../../images/mesh_merge.gif" style="margin-left: 3.49992px;margin-top: 4.74984px;margin-right: 0.2505682px;margin-bottom: 2.930389px;" />
        </p>
        <h2 class="API"><a name="M_824365677_968036"></a><a name="M_824365677_968036_PageTOC_MESH_MERGE_"></a>Version History</h2>
        <table style="caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
            <col />
            <col />
            <tbody>
                <tr>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
                        <p>5.5</p>
                    </td>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
                        <p>Introduced</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2 class="API"><a name="M_824365677_972961"></a><a name="M_824365677_972961_PageTOC_MESH_MERGE_"></a>See Also</h2>
        <p><a href="MESH_CLIP.htm#M_824365677_888450">MESH_CLIP</a>, <a href="MESH_DECIMATE.htm#M_824365677_953124">MESH_DECIMATE</a>, <a href="MESH_ISSOLID.htm#M_824365677_929914">MESH_ISSOLID</a>, <a href="MESH_NUMTRIANGLES.htm#M_824365677_929942">MESH_NUMTRIANGLES</a>, <a href="MESH_OBJ.htm#M_824365677_929903">MESH_OBJ</a>, <a href="MESH_SMOOTH.htm#M_824365677_929954">MESH_SMOOTH</a>, <a href="MESH_SURFACEAREA.htm#M_824365677_929966">MESH_SURFACEAREA</a>, <a href="MESH_VALIDATE.htm#M_824365677_929978">MESH_VALIDATE</a>, <a href="MESH_VOLUME.htm#M_824365677_929990">MESH_VOLUME</a></p>
        <div class="mp_footer">© <span class="DocumentTitleCopyrightYear">2015</span>&#160;<span class="DocumentTitleCopyrightCompanyName">Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation</span>. All Rights Reserved. This information is not subject to the controls of the International Traffic in Arms Regulations (ITAR) or the Export Administration Regulations (EAR). However, this information may be restricted from transfer to various embargoed countries under U.S. laws and regulations.</div>
    </body>
</html>