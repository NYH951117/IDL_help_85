<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="idl.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Routines (alphabetical)|Routines: M">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>MESH_CLIP </title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix"> </span><a class="MCBreadcrumbsLink" href="../../images/ref_part1.htm">Routines (alphabetical)</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="M_list.htm">Routines: M</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">MESH_CLIP</span>
        </div>
        <h1 class="Routine"><a name="M_824365677_888450"></a><a name="kanchor1837"></a>MESH_CLIP </h1>
        <p>The MESH_CLIP function clips a polygonal mesh to an arbitrary plane in space and returns a polygonal mesh of the remaining portion. An auxiliary array of data may also be passed and clipped. This array can have multiple values for each vertex. The portion of the mesh below the plane, satisfying <i>ax</i><i>+</i><i>by</i><i>+</i><i>cz</i><i>+</i><i>d</i><i>&lt;</i>0, remains after the clipping operation.</p>
        <h2 class="API"><a name="M_824365677_948386"></a>Syntax</h2>
        <p class="Syntax"><i>Result </i>= MESH_CLIP (<i>Plane</i>, <i>Vertsin</i>, <i>Connin</i>, <i>Vertsout</i>, <i>Connout</i> [,&#160;<a href="#M_824365677_948402" class="selected">AUXDATA_IN</a>=<i>array</i>,&#160;<a href="#M_824365677_948404" class="selected">AUXDATA_OUT</a>=<i>variable</i>] [,&#160;<a href="#M_824365677_948406" class="selected">CUT_VERTS</a>=<i>variable</i>]&#160;)</p>
        <h2 class="API"><a name="M_824365677_948388"></a>Return Value</h2>
        <p>The return value is the number of triangles in the returned mesh.</p>
        <h2 class="API"><a name="M_824365677_948390"></a>Arguments</h2>
        <h3 class="Argument">Plane</h3>
        <p>Input four element array describing the equation of the plane to be clipped to. The elements are the coefficients (<i>a,b,c,d</i>) of the equation <i>ax</i><i>+</i><i>by</i><i>+</i><i>cz</i><i>+</i><i>d</i><i>=</i>0.</p>
        <h3 class="Argument">Vertsin</h3>
        <p>Input array of polygonal vertices [3, <i>n</i>].</p>
        <h3 class="Argument">Connin</h3>
        <p>Input polygonal mesh connectivity array.</p>
        <h3 class="Argument">Vertsout</h3>
        <p>Output array of polygonal vertices.</p>
        <h3 class="Argument">Connout</h3>
        <p>Output polygonal mesh connectivity array.</p>
        <h2 class="API"><a name="M_824365677_948401"></a>Keywords</h2>
        <h3 class="Keyword"><a name="M_824365677_948402"></a>AUXDATA_IN</h3>
        <p>Input array of auxiliary data. If present, these values are interpolated and returned through AUXDATA_OUT. The trailing array dimension must match the number of vertices in the Vertsin array.</p>
        <h3 class="Keyword"><a name="M_824365677_948404"></a>AUXDATA_OUT</h3>
        <p>Set this keyword to a named variable that will contain an output array of interpolated auxiliary data.</p>
        <h3 class="Keyword"><a name="M_824365677_948406"></a>CUT_VERTS</h3>
        <p>Set this keyword to a named variable that will contain an output array of vertex indices (into Vertsout) of the vertices which are considered to be “on” the clipped surface.</p>
        <h2 class="API"><a name="M_824365677_953036"></a>Example</h2>
        <p><a name="kanchor1838"></a><a name="kanchor1839"></a>This example clips an octahedral mesh (an eight-sided, three-dimensional shape similar to a cut diamond). The original mesh contains one rectangle and eight triangles. The connectivity list is formed with the rectangle listed first followed by the triangles. The mesh is placed in a polygon object, which is added to a model. The model is displayed in the XOBJVIEW utility, which allows you to click-and-drag the polygon object to rotate and translate it. See <a href="../X/XOBJVIEW.htm#X_800576109_956910">XOBJVIEW</a> for more information on this utility.</p>
        <p><a name="kanchor1840"></a>When you quit out of the first XOBJVIEW display, the second XOBJVIEW display will appear. This display shows the mesh clipped with an oblique plane. The final XOBJVIEW display shows the results of using the TRIANGULATE routine to cover the clipped area. See <a href="../T/TRIANGULATE.htm#T_809226861_679530">TRIANGULATE</a> for more information in this routine.</p>
        <p>This example has been split into three parts; click each section to enter the code at the IDL command line.</p>
        <p class="Code">; Create a mesh of an octahedron.<br />vertices = [[0, -1, 0], [1, 0, 0], [0, 1, 0], $<br />   [-1, 0, 0], [0, 0, 1], [0, 0, -1]]<br />connectivity = [4, 0, 1, 2, 3, 3, 0, 1, 4, 3, 1, 2, 4, $<br />   3, 2, 3, 4, 3, 3, 0, 4, 3, 1, 0, 5, 3, 2, 1, 5, $<br />   3, 3, 2, 5, 3, 0, 3, 5]<br /><br />; Initialize model for display.<br />oModel = OBJ_NEW('IDLgrModel')<br /><br />; Initialize polygon and polyline outline to contain<br />; the mesh of the octahedron.<br />oPolygon = OBJ_NEW('IDLgrPolygon', vertices, $<br />   POLYGONS = connectivity, SHADING = 1, $<br />   COLOR = [0, 255, 0])<br />oPolyline = OBJ_NEW('IDLgrPolyline', vertices, $<br />   POLYLINES = connectivity, COLOR = [0, 0, 0])<br /><br />; Add the polygon and the polyline to the model.<br />oModel-&gt;Add, oPolygon<br />oModel-&gt;Add, oPolyline<br /><br />; Rotate model for better initial perspective.<br />oModel-&gt;Rotate, [-1, 0, 1], 22.5<br /><br />; Display model.<br />XOBJVIEW, oModel, /BLOCK, SCALE = 1, $<br />   TITLE = 'Original Octahedron Mesh'</p>
        <p class="Code">&#160;</p>
        <p class="Code">; Clip mesh.<br />clip = MESH_CLIP([1., 1., 1., 0.], vertices, connectivity, $<br />   clippedVertices, clippedConnectivity, $<br />   CUT_VERTS = cutVerticesIndex)<br /><br />; Update polygon with the resulting clipped mesh.<br />oPolygon-&gt;SetProperty, DATA = clippedVertices, $<br />   POLYGONS = clippedConnectivity<br /><br />; Display the updated model.<br />XOBJVIEW, oModel, /BLOCK, SCALE = 1, $<br />   TITLE = 'Clipped Octahedron Mesh'<br /><br />; Determine the vertices of the clipped plane.<br />cutVertices = clippedVertices[*, cutVerticesIndex]<br /><br />; Derive the x and y components of the clipped plane's<br />; vertices.<br />x = cutVertices[0, *]<br />y = cutVertices[1, *]<br /><br />; Triangulate the connectivity of the clipped plane.<br />TRIANGULATE, x, y, triangles</p>
        <p class="Code">&#160;</p>
        <p class="Code">; Derive the connectivity of the clipped plane from the<br />; results of the triangulation.<br />arraySize = SIZE(triangles, /DIMENSIONS)<br />array = FLTARR(4, arraySize[1])<br />array[0, *] = 3<br />array[1, 0] = triangles<br />cutConnectivity = REFORM(array, N_ELEMENTS(array))<br /><br />; Initialize the clipped plane's polygon and polyline.<br />oCutPolygon = OBJ_NEW('IDLgrPolygon', cutVertices, $<br />   POLYGONS = cutConnectivity, SHADING = 1, $<br />   COLOR = [0, 0, 255])<br />oCutPolyline = OBJ_NEW('IDLgrPolyline', cutVertices, $<br />   POLYLINES = cutConnectivity, COLOR = [255, 0, 0], $<br />   THICK = 3.)<br /><br />; Add polyline and polygon to model.<br />oModel-&gt;Add, oCutPolyline<br />oModel-&gt;Add, oCutPolygon<br /><br />; Display updated model.<br />XOBJVIEW, oModel, /BLOCK, SCALE = 1, $<br />   TITLE = 'Clipped Octahedron Mesh with Clipping Plane'<br /><br />; Clean-up object references.<br />OBJ_DESTROY, [oModel]</p>
        <p><a name="M_824365677_65236"></a>The results for this example are shown in the following figure. The original octahedron is on the left and the two clipped results are shown to the right.</p>
        <p>
            <img src="../../images/mesh_clip.gif" style="margin-left: 9.124559px;margin-top: 3.49992px;margin-right: 3.530134px;margin-bottom: 3.985187px;" />
        </p>
        <h2 class="API"><a name="M_824365677_967501"></a>Version History</h2>
        <table style="caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
            <col />
            <col />
            <tbody>
                <tr>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
                        <p>5.5</p>
                    </td>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
                        <p>Introduced</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2 class="API"><a name="M_824365677_972949"></a>See Also</h2>
        <p><a href="MESH_DECIMATE.htm">MESH_DECIMATE, </a><a href="MESH_ISSOLID.htm#M_824365677_929914">MESH_ISSOLID</a>, <a href="MESH_MERGE.htm" class="Heading">MESH_MERGE</a>, <a href="MESH_NUMTRIANGLES.htm#M_824365677_929942">MESH_NUMTRIANGLES</a>, <a href="MESH_OBJ.htm#M_824365677_929903">MESH_OBJ</a>, <a href="MESH_SMOOTH.htm#M_824365677_929954">MESH_SMOOTH</a>, <a href="MESH_SURFACEAREA.htm#M_824365677_929966">MESH_SURFACEAREA</a>, <a href="MESH_VALIDATE.htm#M_824365677_929978">MESH_VALIDATE</a>, <a href="MESH_VOLUME.htm#M_824365677_929990">MESH_VOLUME</a></p>
        <div class="mp_footer">© <span class="DocumentTitleCopyrightYear">2015</span>&#160;<span class="DocumentTitleCopyrightCompanyName">Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation</span>. All Rights Reserved. This information is not subject to the controls of the International Traffic in Arms Regulations (ITAR) or the Export Administration Regulations (EAR). However, this information may be restricted from transfer to various embargoed countries under U.S. laws and regulations.</div>
    </body>
</html>