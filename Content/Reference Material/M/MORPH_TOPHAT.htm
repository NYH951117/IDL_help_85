<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="idl.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Routines (alphabetical)|Routines: M">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>MORPH_TOPHAT </title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix"> </span><a class="MCBreadcrumbsLink" href="../../images/ref_part1.htm">Routines (alphabetical)</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="M_list.htm">Routines: M</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">MORPH_TOPHAT</span>
        </div>
        <h1 class="Routine"><a name="M_824365677_930077"></a><a name="kanchor1894"></a><a name="M_824365677_83540"></a>MORPH_TOPHAT </h1>
        <p>The MORPH_TOPHAT function applies the top-hat operator to a grayscale image. The top-hat operator is implemented by first applying the opening operator to the original image, then subtracting the result from the original image. Applying the top-hat operator provides a result that shows the bright peaks within the image.</p>
        <p>This routine is written in the IDL language. Its source code can be found in the file <code>morph_tophat.pro</code> in the lib subdirectory of the IDL distribution.</p>
        <h2 class="API"><a name="M_824365677_949156"></a><a name="M_824365677_949156_PageTOC_MORPH_TOPHAT_"></a>Examples</h2>
        <p>The following example illustrates an application of the top-hat operator to an image in the <code>examples/demo/demodata</code> directory:</p>
        <p class="Code">; Handle TrueColor displays:<br />DEVICE, DECOMPOSED=0<br /><br />; Read the image<br />path=FILEPATH('pollens.jpg',SUBDIR=['examples','demo','demodata']) <br />READ_JPEG, path, img<br /><br />; Create window:<br />WINDOW, 0, XSIZE=700, YSIZE=280<br /><br />; Show original<br />XYOUTS, 180, 265, 'Original Image', ALIGNMENT=.5, /DEVICE<br />TVSCL, img, 20, 20<br /><br />; Radius of disc<br />r = 2<br /><br />; Create a binary disc of given radius.<br />disc = SHIFT(DIST(2*r+1), r, r) LE r<br /><br />; Apply top-hat operator<br />tophat = MORPH_TOPHAT(img, disc)<br /><br />; Display stretched result.<br />XYOUTS, 520, 265, 'Stretched Result', ALIGNMENT=.5, /DEVICE<br />TVSCL, tophat &lt; 50, 360, 20</p>
        <h2 class="API"><a name="M_824365677_949140"></a><a name="M_824365677_949140_PageTOC_MORPH_TOPHAT_"></a>Syntax</h2>
        <p class="Syntax"><i>Result</i> = MORPH_TOPHAT ( <i>Image, Structure</i> [,&#160;<a href="#M_824365677_949148" class="selected">PRESERVE_TYPE</a>=<i>bytearray</i> | /<a href="#M_824365677_949150" class="selected">UINT</a> | /<a href="#M_824365677_949152" class="selected">ULONG</a>] [,&#160;<a href="#M_824365677_949154" class="selected">VALUES</a>=<i>array</i>]&#160;)</p>
        <h2 class="API"><a name="M_824365677_993293"></a><a name="M_824365677_64649"></a>Return Value</h2>
        <p>Returns the resulting one-, two-, or three-dimensional array. </p>
        <h2 class="API"><a name="M_824365677_949142"></a><a name="M_824365677_949142_PageTOC_MORPH_TOPHAT_"></a>Arguments</h2>
        <h3 class="Argument">Image</h3>
        <p>A one-, two-, or three-dimensional array upon which the top-hat operation is to be performed.</p>
        <h3 class="Argument">Structure</h3>
        <p>A one-, two-, or three-dimensional array to be used as the structuring element. The elements are interpreted as binary values — either zero or nonzero. The structuring element must have the same number of dimensions as the <i>Image</i> argument.</p>
        <h2 class="API"><a name="M_824365677_949147"></a><a name="M_824365677_949147_PageTOC_MORPH_TOPHAT_"></a>Keywords</h2>
        <h3 class="Keyword"><a name="M_824365677_949148"></a><a name="M_824365677_949148_Keywords_MORPH_TOPHAT__"></a>PRESERVE_TYPE</h3>
        <p>Set this keyword to return the same type as the input array. The input array must be of type BYTE, UINT, or ULONG. This keyword only applies for grayscale erosion/dilation, and is mutually exclusive of the UINT and ULONG keywords.</p>
        <h3 class="Keyword"><a name="M_824365677_949150"></a><a name="M_824365677_949150_Keywords_MORPH_TOPHAT__"></a>UINT</h3>
        <p>Set this keyword to return an unsigned integer array. This keyword is mutually exclusive of the ULONG and PRESERVE_TYPE keywords.</p>
        <h3 class="Keyword"><a name="M_824365677_949152"></a><a name="M_824365677_949152_Keywords_MORPH_TOPHAT__"></a>ULONG</h3>
        <p>Set this keyword to return an unsigned longword integer array. This keyword is mutually exclusive of the UINT and PRESERVE_TYPE keywords.</p>
        <h3 class="Keyword"><a name="M_824365677_949154"></a><a name="M_824365677_949154_Keywords_MORPH_TOPHAT__"></a>VALUES</h3>
        <p>An array of the same dimensions as the <i>Structure</i> argument providing the values of the structuring element. If the VALUES keyword is not present, all elements of the structuring element are 0.</p>
        <h2 class="API"><a name="M_824365677_954387"></a><a name="M_824365677_954387_PageTOC_MORPH_TOPHAT_"></a>Version History</h2>
        <table style="caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
            <col />
            <col />
            <tbody>
                <tr>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
                        <p>5.3</p>
                    </td>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
                        <p>Introduced</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2 class="API"><a name="M_824365677_973045"></a><a name="M_824365677_973045_PageTOC_MORPH_TOPHAT_"></a>See Also</h2>
        <p><a href="../D/DILATE.htm#D_843829869_747869">DILATE</a>, <a href="../E/ERODE.htm#E_841667181_989418">ERODE</a>, <a href="MORPH_CLOSE.htm#M_824365677_1117238">MORPH_CLOSE</a>, <a href="MORPH_DISTANCE.htm#M_824365677_948885">MORPH_DISTANCE</a>, <a href="MORPH_GRADIENT.htm#M_824365677_948880">MORPH_GRADIENT</a>, <a href="MORPH_HITORMISS.htm#M_824365677_930030">MORPH_HITORMISS</a>, <a href="MORPH_OPEN.htm#M_824365677_930051">MORPH_OPEN</a>, <a href="MORPH_THIN.htm#M_824365677_930961">MORPH_THIN</a></p>
        <div class="mp_footer">© <span class="DocumentTitleCopyrightYear">2015</span>&#160;<span class="DocumentTitleCopyrightCompanyName">Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation</span>. All Rights Reserved. This information is not subject to the controls of the International Traffic in Arms Regulations (ITAR) or the Export Administration Regulations (EAR). However, this information may be restricted from transfer to various embargoed countries under U.S. laws and regulations.</div>
    </body>
</html>