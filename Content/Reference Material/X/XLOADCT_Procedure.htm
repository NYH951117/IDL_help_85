<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="idl.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Routines (alphabetical)|Routines: X">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>XLOADCT Procedure</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix"> </span><a class="MCBreadcrumbsLink" href="../../images/ref_part1.htm">Routines (alphabetical)</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="X_list.htm">Routines: X</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">XLOADCT Procedure</span>
        </div>
        <h1 class="Routine"><a name="dg_routines_3604229493_916799"></a><a name="dg_routines_3604229493_56942"></a>XLOADCT Procedure</h1>
        <p><a name="kanchor3024"></a>The XLOADCT procedure is a utility that provides a graphical widget interface to the LOADCT procedure. XLOADCT displays the current Direct Graphics color table and shows a list of available predefined color tables. Clicking on the name of a <a href="../../LoadingDefaultColorTables.htm">color table</a>  causes that color table to become IDL’s current color table. IDL maintains a color table on PseudoColor displays or when the DECOMPOSED keyword to the DEVICE command is set to zero (<code>DEVICE, DECOMPOSED = 0</code>) on TrueColor displays. Many other options, such as Gamma correction, stretching, and transfer functions can also be applied to the colortable.</p>
        <p>This routine is written in the IDL language. Its source code can be found in the file <code>xloadct.pro</code> in the <code>lib/utilities</code> subdirectory of the IDL distribution.</p>
        <h2 class="API"><a name="dg_routines_3604229493_916824"></a><a name="dg_routines_3604229493_761897_PageTOC_XLOADCT_"></a>Syntax</h2>
        <p class="Syntax">XLOADCT [,&#160;/<a href="#dg_routines_3604229493_916862" class="selected">BLOCK</a>] [,&#160;<a href="#dg_routines_3604229493_916872" class="selected">BOTTOM</a>=<i>value</i>] [,&#160;<a href="#dg_routines_3604229493_916875" class="selected">FILE</a>=<i>string</i>] [,&#160;<a href="#dg_routines_3604229493_916878" class="selected">GROUP</a>=<i>widget_id</i>] [,&#160;/<a href="#dg_routines_3604229493_916881" class="selected">MODAL</a>] [,&#160;<a href="#dg_routines_3604229493_916884" class="selected">NCOLORS</a>=<i>value</i>] [,&#160;/<a href="#dg_routines_3604229493_916887" class="selected">SILENT</a>] [,&#160;<a href="#dg_routines_3604229493_916890" class="selected">UPDATECALLBACK</a>=‘<i>procedure_name</i>’ [,&#160;<a href="#dg_routines_3604229493_916893" class="selected">UPDATECBDATA</a>=<i>value</i>]] [,&#160;/<a href="#dg_routines_3604229493_916896" class="selected">USE_CURRENT</a>]</p>
        <h2 class="API"><a name="dg_routines_3604229493_916857"></a><a name="dg_routines_3604229493_96695"></a>Arguments</h2>
        <p>None.</p>
        <h2 class="API"><a name="dg_routines_3604229493_916860"></a><a name="dg_routines_3604229493_937518_PageTOC_XLOADCT_"></a>Keywords</h2>
        <h3><a name="dg_routines_3604229493_916862"></a><a name="dg_routines_3604229493_937520_Keywords_XLOADCT__"></a>BLOCK</h3>
        <p>Set this keyword to have XMANAGER <i>block</i> when this application is registered. By default, BLOCK is set equal to zero, providing access to the command line if active command line processing is available. Note that setting BLOCK=1 will cause <i>all</i> widget applications to block, not just this application. For more information, see the documentation for the NO_BLOCK keyword to XMANAGER.</p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>Only the outermost call to XMANAGER can block. Therefore, to have XLOADCT block, any earlier calls to XMANAGER must have been called with the NO_BLOCK keyword. See the documentation for the NO_BLOCK keyword to XMANAGER for an example.</p>
        <h3><a name="dg_routines_3604229493_916872"></a><a name="dg_routines_3604229493_937526_Keywords_XLOADCT__"></a>BOTTOM</h3>
        <p>The first color index to use. XLOADCT will use color indices from BOTTOM to BOTTOM+NCOLORS-1. The default is BOTTOM=0.</p>
        <h3><a name="dg_routines_3604229493_916875"></a><a name="dg_routines_3604229493_937512_Keywords_XLOADCT__"></a>FILE</h3>
        <p>Set this keyword to a string representing the name of the file to be used instead of the file <code>colors1.tbl</code> in the IDL directory.</p>
        <h3><a name="dg_routines_3604229493_916878"></a><a name="dg_routines_3604229493_959363_Keywords_XLOADCT__"></a>GROUP</h3>
        <p>The widget ID of the widget that calls XLOADCT. When this ID is specified, a death of the caller results in a death of XLOADCT.</p>
        <h3><a name="dg_routines_3604229493_916881"></a><a name="dg_routines_3604229493_930516_Keywords_XLOADCT__"></a>MODAL</h3>
        <p>Set this keyword to block processing of events from other widgets until the user quits XLOADCT. A group leader must be specified (via the GROUP keyword) for the MODAL keyword to have any effect. By default, XLOADCT does not block event processing.</p>
        <h3><a name="dg_routines_3604229493_916884"></a><a name="dg_routines_3604229493_930518_Keywords_XLOADCT__"></a>NCOLORS</h3>
        <p>The number of colors to use. Use color indices from 0 to the smaller of !D.TABLE_SIZE-1 and NCOLORS-1. The default is all available colors (!D.TABLE_SIZE).</p>
        <h3 class="Keyword"><a name="dg_routines_3604229493_916887"></a><a name="dg_routines_3604229493_761913_Keywords_XLOADCT__"></a>SILENT</h3>
        <p>Normally, no informational message is printed when a color map is loaded. If this keyword is set to zero, the message is printed.</p>
        <h3><a name="dg_routines_3604229493_916890"></a><a name="dg_routines_3604229493_950093_Keywords_XLOADCT__"></a>UPDATECALLBACK</h3>
        <p>Set this keyword to a string containing the name of a user-supplied procedure that will be called when the color table is updated by XLOADCT. The procedure may optionally accept a keyword called DATA, which will be automatically set to the value specified by the optional UPDATECBDATA keyword.</p>
        <h3><a name="dg_routines_3604229493_916893"></a><a name="dg_routines_3604229493_950095_Keywords_XLOADCT__"></a>UPDATECBDATA</h3>
        <p>Set this keyword to a value of any type. It will be passed via the DATA keyword to the user-supplied procedure specified via the UPDATECALLBACK keyword, if any. If the UPDATECBDATA keyword is not set the value accepted by the DATA keyword to the procedure specified by UPDATECALLBACK will be undefined.</p>
        <h3><a name="dg_routines_3604229493_916896"></a><a name="dg_routines_3604229493_761916_Keywords_XLOADCT__"></a>USE_CURRENT</h3>
        <p>Set this keyword to use the current color tables, regardless of the contents of the COLORS common block.</p>
        <h2 class="API"><a name="dg_routines_3604229493_916899"></a><a name="dg_routines_3604229493_25775"></a>Examples</h2>
        <p>The XLOADCT utility allows you to load one of IDL’s  pre-defined color tables and change that color table if necessary. </p>
        <h3><a name="dg_routines_3604229493_916903"></a><a name="dg_routines_3604229493_36396"></a><a name="kanchor3025"></a>Using the XLOADCT Utility</h3>
        <p>The following example shows how to use XLOADCT to load a color table and then change that table to highlight specific features of an image. The indexed image used in this example is a computed tomography (CT) scan of a human thoracic cavity and is contained (without a default color table) within the<code> ctscan.dat</code> file in IDL’s <code>examples/data</code> directory. Complete the following steps for a detailed description of the process. </p>
        <p class="ExampleCode">See <code>usingxloadct.<a name="kanchor3026"></a>pro </code>in the <code>examples/doc/image</code> subdirectory of the IDL installation directory for code that duplicates this example. Run the example procedure by entering <code>usingxloadct</code> at the IDL command prompt or view the file in an IDL Editor window by entering <code>.EDIT usingxloadct.pro</code>. The BLOCK keyword is set when using XLOADCT to force the example routine to wait until the <b>Done</b> button is pressed to continue. If the BLOCK keyword was not set, the example routine would produce all of the displays at once and then end.</p>
        <ol>
            <li value="1">
                <p>Determine the path to the <code>ctscan.dat</code> binary file:</p>
                <p class="Code">ctscanFile = FILEPATH('ctscan.dat', $</p>
                <p class="Code">&#160;&#160;&#160;SUBDIRECTORY = ['examples', 'data'])</p>
            </li>
            <li value="2">
                <p>Initialize the image size parameter:</p>
                <p class="Code">ctscanSize = [256, 256]</p>
            </li>
            <li value="3">
                <p>Import the image from the file:</p>
                <p class="Code">ctscanImage = READ_BINARY(ctscanFile, $</p>
                <p class="Code">&#160;&#160;&#160;DATA_DIMS = ctscanSize)</p>
            </li>
            <li value="4">
                <p>If you are running IDL on a TrueColor display, set the DECOMPOSED keyword of the DEVICE command to zero before your first color table related routine is used within an IDL session or program. </p>
                <p class="Code">DEVICE, DECOMPOSED = 0</p>
                <p>Since the imported image does not have an associated color table, you need to apply a pre-defined color table to display the image.</p>
            </li>
            <li value="5">
                <p>Initialize the display by applying the B-W LINEAR color table (index number&#160;0):</p>
                <p class="Code">LOADCT, 0</p>
                <p class="Code">WINDOW, 0, TITLE = 'ctscan.dat', $</p>
                <p class="Code">&#160;&#160;&#160;XSIZE = ctscanSize[0], YSIZE = ctscanSize[1]</p>
            </li>
            <li value="6">
                <p>Display the image using this color table:</p>
                <p class="Code">TV, ctscanImage</p>
                <p>As the following figure shows, the B-W LINEAR color table does not highlight all of the aspects of this image. The XLOADCT utility can be used to change the color table to highlight more features.</p>
                <p>
                    <img src="../../Resources/Images/imgcolor03.gif" style="margin-left: 5.99976px;margin-right: 6.000469px;margin-bottom: 6.000473px;" />
                </p>
            </li>
            <li value="7">
                <p>Open the XLOADCT utility:</p>
                <p class="Code">XLOADCT</p>
                <p>Select Rainbow + white and click <b>Done</b> to apply the color table.</p>
                <p>The following figure shows the resulting XLOADCT display.</p>
                <p>
                    <img src="../../Resources/Images/imgcolor04.gif" style="margin-left: 5.99976px;margin-top: 5.99976px;margin-right: 6.000469px;margin-bottom: 5.999767px;" />
                </p>
                <p>After applying the new color table, you can now see the spine, liver, and kidney within the image, as shown in the following figure. However, the separations between the skin, the organs, and the cartilage and bone within the spine are hard to distinguish.</p>
            </li>
            <li value="8">
                <p>Now re-display the image to show it on the Rainbow + white color table:</p>
                <p class="Code">TV, ctscanImage</p>
                <p class="NoteIndented">You do not have to perform the previous step on a PseudoColor display. Changes to the current color table automatically show in the current image window within a PseudoColor display.</p>
                <p>The following figure shows the CT scan image with the Ranbow+white color table.</p>
                <p>
                    <img src="../../Resources/Images/ct_scan.gif" style="margin-left: 5.99976px;margin-top: 5.99976px;margin-right: 5.999752px;margin-bottom: 5.999752px;" />
                </p>
            </li>
            <li value="9">
                <p>Redisplay the color table with the XLOADCT utility:</p>
                <p class="Code">XLOADCT</p>
                <p>Comparing the image to the color table, you can see that most image pixels are not within the black to purple range. Therefore the black to purple pixels in the image can be replaced by black. The black range can be stretched to move the purple range to help highlight more features.</p>
                <p>The<b> Stretch Bottom</b> slider in the XLOADCT utility increases the range of the lowest color index. For example, if black was the color of the lowest index and you increased the bottom stretch by 50 percent, the lower half of the color table would become all black. The remaining part of the color table will contain a scaled version of all the previous color ranges.</p>
            </li>
            <li value="10">
                <p>Within XLOADCT, stretch the bottom part of the color table by 20 percent by moving the slider as shown in the following figure:</p>
                <p class="Code">TV, ctscanImage</p>
                <p class="NoteIndented">Remember to click on the <b>Done</b> button after changing the <b>Stretch Bottom</b> slider, then use TV to re-display the image to include the last changing made in the XLOADCT utility.</p>
                <p>In the following figure, you can now see the difference between skin and organs. You can also see where cartilage and bone is located within the spine, but now organs are hard to see. Most of the values in the top (the yellow to red to white ranges) of the color table show just the bones. You can use less of these ranges to show bones by stretching the top of the color table.</p>
                <p>
                    <img src="../../Resources/Images/imgcolor06.gif" />
                </p>
                <p>The <b>Stretch Top</b> slider in the XLOADCT utility allows you increase the range of the highest color index. For example, if white was the color of the highest index and you increased the top stretch by 50 percent, the higher half of the color table would become all white. The remaining part of the color table will contain a scaled version of all the previous color ranges.</p>
            </li>
            <li value="11">
                <p>Open XLOADCT:</p>
                <p class="Code">XLOADCT</p>
                <p>Stretch the bottom part of the color table by 20 percent and stretch the top part of the color table by 20 percent (changing it from 100 to 80 percent).</p>
                <p>Click <b>Done</b> and redisplay the image:</p>
                <p class="Code">TV, ctscanImage</p>
                <p>The following figure shows that the organs are more distinctive, but now the liver and kidneys are not clearly distinguished. These features occur in the blue range. You can shift the green range more toward the values of these organs with a gamma correction.</p>
                <p>
                    <img src="../../Resources/Images/imgcolor07.gif" style="margin-left: 5.99976px;margin-top: 5.99976px;margin-right: 5.999752px;margin-bottom: 5.999767px;" />
                </p>
                <p>With the <b>Gamma Correction </b>slider in the XLOADCT utility you can change the contrast within the color table. A value of 1.0 indicates a linear ramp (no gamma correction). Values other than 1.0 indicate a logarithmic ramp. Higher values of gamma give more contrast. Values less than 1.0 yield lower contrast.</p>
            </li>
            <li value="12">
                <p>Within XLOADCT, stretch the bottom part of the color table by 20 percent, stretch the top part of the color table by 20 percent (change it from 100 percent to 80 percent), and decrease the Gamma Correction factor to 0.631:</p>
                <p class="Code">XLOADCT</p>
                <p>Redisplay the image:</p>
                <p class="Code">TV, ctscanImage</p>
                <p>All the features are now highlighted within the image as shown in the following figure:</p>
                <p>
                    <img src="../../Resources/Images/imgcolor08.gif" />
                </p>
                <p>The previous steps showed how to use the <b>Tables</b> section of the XLOADCT utility. XLOADCT also contains two other sections: <b>Options</b> and <b>Function</b>. The <b>Options</b> section allows you to change what the sliders represent and how they are used. When the <b>Gang</b> option is selected, the sliders become dependent upon each other. When either the <b>Stretch Bottom</b> or <b>Stretch Top</b> sliders are moved, the other ones reset to their default values (0 or 100, respectively). With the <b>Chop</b> option, you can chop off the top of the color table (the range of the <b>Stretch Top</b> is now black instead of the color at the original highest index). With the <b>Intensity</b> option, you can change the slider to control the intensity instead of the index location. The <b>Stretch Bottom</b> slider will darken the color table and the <b>Stretch Top</b> slider will brighten the color table.</p>
                <p>The <b>Function</b> section allows you to place control points which you can use to change the color table with respect to the other colors in that table. The color table function is shown as a straight line increasing from the lowest index (0) to the highest index (255). The x-axis ranges from 0 to 255 and the y-axis ranges from 0 to 255. Moving a control point in the x-direction has the same effects as the previous sliders. Moving a control point in the y-direction changes the color of that index to another color within the color table. For example, if a control point is red at an index of 128 and the color table is green at an index of 92, when the control point is moved in the y-direction to an index of 92, the color at that x-location will become green. To understand how the <b>Function</b> section work, you can use it to highlight just the bones with the CT scan image.</p>
            </li>
            <li value="13">
                <p>Open XLOADCT:</p>
                <p class="Code">XLOADCT</p>
                <p>Select the Rainbow + white color table.</p>
                <p>Switch to the <b>Function</b> section by selecting that option.</p>
                <p>Select the <b>Add Control Point</b> button, and drag this new center control point one half of the way to the right and one quarter of the way down as shown in the following figure.</p>
                <p>Click <b>Done</b> and redisplay the image:</p>
                <p class="Code">TV, ctscanImage</p>
                <p>The bones in the image are now highlighted.</p>
                <p>
                    <img src="../../Resources/Images/imgcolor09.gif" style="margin-left: 5.99976px;margin-top: 5.99976px;margin-right: 18px;margin-bottom: 10.31976px;" />
                </p>
            </li>
        </ol>
        <h2 class="API"><a name="dg_routines_3604229493_917034"></a><a name="dg_routines_3604229493_761918_PageTOC_XLOADCT_"></a>Version History</h2>
        <table style="caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
            <col />
            <col />
            <tbody>
                <tr>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
                        <p>Pre-4.0</p>
                    </td>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
                        <p>Introduced</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2 class="API"><a name="dg_routines_3604229493_917042"></a><a name="dg_routines_3604229493_991422_PageTOC_XLOADCT_"></a>See Also</h2>
        <p><a href="XPALETTE_Procedure.htm#dg_routines_3604229493_917243">XPALETTE Procedure</a>
        </p>
        <div class="mp_footer">© <span class="DocumentTitleCopyrightYear">2015</span>&#160;<span class="DocumentTitleCopyrightCompanyName">Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation</span>. All Rights Reserved. This information is not subject to the controls of the International Traffic in Arms Regulations (ITAR) or the Export Administration Regulations (EAR). However, this information may be restricted from transfer to various embargoed countries under U.S. laws and regulations.</div>
    </body>
</html>