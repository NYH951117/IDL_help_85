<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="idl.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Routines (alphabetical)|Routines: A">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>ADAPT_HIST_EQUAL </title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix"> </span><a class="MCBreadcrumbsLink" href="../../images/ref_part1.htm">Routines (alphabetical)</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="A_list.htm">Routines: A</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">ADAPT_HIST_EQUAL</span>
        </div>
        <h1 class="Routine"><a name="A_850317933_985007"></a><a name="kanchor23"></a><a name="A_850317933_67514"></a>ADAPT_HIST_EQUAL </h1>
        <p>The ADAPT_HIST_EQUAL function performs adaptive histogram equalization, a form of automatic image contrast enhancement. The algorithm is described in Pizer et. al., “Adaptive Histogram Equalization and its Variations.”, Computer Vision, Graphics and Image Processing, 39:355-368. Adaptive histogram equalization involves applying contrast enhancement based on the local region surrounding each pixel. Each pixel is mapped to an intensity proportional to its rank within the surrounding neighborhood. This method of automatic contrast enhancement has proven to be broadly applicable to a wide range of images and to have demonstrated effectiveness.</p>
        <p>This routine is written in the IDL language. Its source code can be found in the file <code>adapt_hist_equal.pro</code> in the <code>lib</code> subdirectory of the IDL distribution.</p>
        <h2 class="API"><a name="A_850317933_985051"></a><a name="A_850317933_985051_PageTOC_ADAPT_HIST_EQUAL_"></a>Examples</h2>
        <p>The following code snippet reads a data file in the <code>examples/data</code> subdirectory of the IDL distribution containing a cerebral angiogram, and then displays both the original image and the adaptive histogram equalized image:</p>
        <p class="Code">OPENR, 1, FILEPATH('cereb.dat', $<br />&#160;&#160;&#160;SUBDIRECTORY=['examples','data'])<br /><br />;Image size = 512 x 512<br />a = BYTARR(512,512, /NOZERO)<br /><br />;Read it<br />READU, 1, a<br />CLOSE, 1<br /><br />; Reduce size of image for comparison<br />a = CONGRID(a, 256,256)<br /><br />;Show original<br />TVSCL, a, 0<br /><br />;Show processed<br />TV, ADAPT_HIST_EQUAL(a, TOP=!D.TABLE_SIZE-1), 1</p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>Also see “Working with Histograms” (Chapter 8, <i>Image Processing in IDL</i> in .pdf format in the <code>help </code>directory of your IDL installation). </p>
        <h2 class="API"><a name="A_850317933_985037"></a><a name="A_850317933_985037_PageTOC_ADAPT_HIST_EQUAL_"></a>Syntax</h2>
        <p class="Syntax"><i>Result</i> = ADAPT_HIST_EQUAL (<i>Image</i> [,&#160;<a href="#A_850317933_985045" class="selected">CLIP</a>=<i>value</i>] [,&#160;<a href="#A_850317933_987804" class="selected">FCN</a>=<i>vector</i>] [,&#160;<a href="#A_850317933_985047" class="selected">NREGIONS</a>=<i>nregions</i>] [,&#160;<a href="#A_850317933_985049" class="selected">TOP</a>=<i>value</i>]&#160;)</p>
        <h2 class="API"><a name="A_850317933_985039"></a><a name="A_850317933_985039_PageTOC_ADAPT_HIST_EQUAL_"></a>Return Value</h2>
        <p>The result of the function is a byte image with the same dimensions as the input image parameter.</p>
        <h2 class="API"><a name="A_850317933_985041"></a><a name="A_850317933_985041_PageTOC_ADAPT_HIST_EQUAL_"></a>Arguments</h2>
        <h3 class="Argument">Image</h3>
        <p>A two-dimensional array representing the image for which adaptive histogram equalization is to be performed. This parameter is interpreted as unsigned 8-bit data, so be sure that the input values are properly scaled into the range of 0 to 255.</p>
        <h2 class="API"><a name="A_850317933_985044"></a><a name="A_850317933_985044_PageTOC_ADAPT_HIST_EQUAL_"></a>Keywords</h2>
        <h3 class="Keyword"><a name="A_850317933_985045"></a><a name="A_850317933_985045_Keywords_ADAPT_HIST_EQUAL__"></a>CLIP</h3>
        <p>Set this keyword to a nonzero value to clip the histogram by limiting its slope to the given CLIP value, thereby limiting contrast. For example, if CLIP is set to 3, the slope of the histogram is limited to 3. By default, the slope and/or contrast is not limited. Noise over-enhancement in nearly homogeneous regions is reduced by setting this parameter to values larger than 1.0.</p>
        <h3 class="Keyword"><a name="A_850317933_987804"></a><a name="A_850317933_987804_Keywords_ADAPT_HIST_EQUAL__"></a>FCN</h3>
        <p>Set this keyword to the desired cumulative probability distribution function in the form of a 256 element vector.  If omitted, a linear ramp, which yields equal probability bins results.  This function is later normalized, so magnitude is inconsequential, though should increase monotonically.</p>
        <h3 class="Keyword"><a name="A_850317933_985047"></a><a name="A_850317933_985047_Keywords_ADAPT_HIST_EQUAL__"></a>NREGIONS</h3>
        <p>Set this keyword to the size of the overlapped tiles, as a fraction of the largest dimensions of the image size. The default is 12, which makes each tile 1/12 the size of the largest image dimension.</p>
        <h3 class="Keyword"><a name="A_850317933_985049"></a><a name="A_850317933_985049_Keywords_ADAPT_HIST_EQUAL__"></a>TOP</h3>
        <p>Set this keyword to the maximum value of the scaled output array. The default is 255.</p>
        <h2 class="API"><a name="A_850317933_985162"></a><a name="A_850317933_985162_PageTOC_ADAPT_HIST_EQUAL_"></a>Version History</h2>
        <table style="caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
            <col />
            <col />
            <tbody>
                <tr>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
                        <p>5.3</p>
                    </td>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
                        <p>Introduced</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2 class="API"><a name="A_850317933_991313"></a><a name="A_850317933_991313_PageTOC_ADAPT_HIST_EQUAL_"></a>See Also</h2>
        <p><a href="../H/H_EQ_CT.htm#H_835179117_931377">H_EQ_CT</a>, <a href="../H/H_EQ_INT.htm#H_835179117_759200">H_EQ_INT</a>, <a href="../H/HIST_2D.htm#H_835179117_758132">HIST_2D</a>, <a href="../H/HIST_EQUAL.htm#H_835179117_758147">HIST_EQUAL</a>, <a href="../H/HISTOGRAM.htm#H_835179117_677165">HISTOGRAM</a></p>
        <div class="mp_footer">© <span class="DocumentTitleCopyrightYear">2015</span>&#160;<span class="DocumentTitleCopyrightCompanyName">Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation</span>. All Rights Reserved. This information is not subject to the controls of the International Traffic in Arms Regulations (ITAR) or the Export Administration Regulations (EAR). However, this information may be restricted from transfer to various embargoed countries under U.S. laws and regulations.</div>
    </body>
</html>