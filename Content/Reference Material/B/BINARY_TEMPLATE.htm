<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="idl.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Routines (alphabetical)|Routines: B">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>BINARY_TEMPLATE </title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/Description.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix"> </span><a class="MCBreadcrumbsLink" href="../../images/ref_part1.htm">Routines (alphabetical)</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="B_list.htm">Routines: B</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">BINARY_TEMPLATE</span>
        </div>
        <h1 class="Routine"><a name="kanchor89"></a><a name="B_856805997_985217"></a>BINARY_TEMPLATE </h1>
        <p>The BINARY_TEMPLATE function presents a graphical user interface which allows the user to interactively generate a template structure for use with READ_BINARY.</p>
        <p>The graphical user interface allows the user to define one or more fields in the binary file. The file may be big, little, or native byte ordering.</p>
        <p>Individual fields can be edited by the user to define the dimensionality and type of data to be read. Where necessary, fields can be defined in terms of other previously defined fields using IDL expressions. Fields can also be designated as “Verify”. When a file is read using a template with “Verify” fields, those fields will be checked against a user defined value supplied via the template.</p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>Greater than (“&gt;”) and less than (“&lt;“) symbols can appear in the “New Field” and the “Modify Field” dialogs where the offset value is displayed. The presence of either symbol indicates that the supplied offset value is “relative” from the end of the previous field or from the initial position in the file. Greater than means offset forward. Less than means offset backward. “&gt;0” and “&lt;0” are synonymous and mean “offset zero bytes”. You can delete these special symbols (thereby indicating that their corresponding offset value is not “relative”) by typing over them in the “New Field” or “Modify Field” dialogs.</p>
        <h2 class="API"><a name="B_856805997_985251"></a>Syntax</h2>
        <p class="Syntax"><i>Result</i> = BINARY_TEMPLATE ( [<i>Filename</i>] [,&#160;<a href="#B_856805997_985257" class="selected">CANCEL</a>=<i>variable</i>] [,&#160;<a href="#B_856805997_985259" class="selected">GROUP</a>=<i>widget_id</i>] [,&#160;<a href="#B_856805997_985261" class="selected">N_ROWS</a>=<i>rows</i>] [,&#160;<a href="#B_856805997_988405" class="selected">TEMPLATE</a>=<i>variable</i>]&#160;)</p>
        <h2 class="API"><a name="B_856805997_985253"></a>Return Value</h2>
        <p>This function returns an anonymous structure that contains the template. If the user cancels out of the graphical user interface and no initial template was supplied, it returns zero.</p>
        <h2 class="API"><a name="B_856805997_996504"></a>Arguments</h2>
        <h3 class="Argument">Filename</h3>
        <p>A scalar string containing the name of a binary file which may be used to test the template. As the user interacts with the BINARY_TEMPLATE graphical user interface, the user’s input will be tested for correctness against the binary data in the file. If <i>filename</i> is not specified, a dialog allows the user to choose the file.</p>
        <h2 class="API"><a name="B_856805997_985256"></a>Keywords</h2>
        <h3 class="Keyword"><a name="B_856805997_985257"></a><a name="B_856805997_985257_Keywords_BINARY_TEMPLATE__"></a>CANCEL</h3>
        <p>Set this keyword to a named variable that will contain the byte value 1 if the user clicked the “Cancel” button, or 0 otherwise.</p>
        <h3 class="Keyword"><a name="B_856805997_985259"></a><a name="B_856805997_985259_Keywords_BINARY_TEMPLATE__"></a>GROUP</h3>
        <p>The widget ID of an existing widget that serves as “group leader” for the BINARY_TEMPLATE interface. When a group leader is killed, for any reason, all widgets in the group are also destroyed.</p>
        <h3 class="Keyword"><a name="B_856805997_985261"></a><a name="B_856805997_985261_Keywords_BINARY_TEMPLATE__"></a>N_ROWS</h3>
        <p>Set this keyword to the number of rows to be visible in the BINARY_TEMPLATE’s table of fields.</p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>The N_ROWS keyword is analogous to the WIDGET_TABLE and the Y_SCROLL_SIZE keywords.</p>
        <h3 class="Keyword"><a name="B_856805997_988405"></a><a name="B_856805997_988405_Keywords_BINARY_TEMPLATE__"></a>TEMPLATE</h3>
        <p>Set this keyword to structure variable containing an initial template (usually from a previous call to BINARY_TEMPLATE). This template structure will be used to fill in the initial fields in the new BINARY_TEMPLATE. If TEMPLATE is specified and the user cancels out of the dialog, the specified template will be returned as the Result.</p>
        <h2 class="API"><a name="B_856805997_1009007"></a><a name="B_856805997_45975"></a>Examples</h2>
        <p>Use the following command to launch the Binary Template dialog so that a structure can be defined for the file, <code>head.dat</code>: </p>
        <p class="Code">sTemplate = BINARY_TEMPLATE(FILEPATH('head.dat', $<br />&#160;&#160;&#160;SUBDIRECTORY=['examples', 'data']))</p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>If no filename is supplied in the call to the BINARY_TEMPLATE function, a file selection dialog is displayed prior to the first BINARY_TEMPLATE screen. </p>
        <h3><a name="B_856805997_1029575"></a><a name="B_856805997_59698"></a>Using the BINARY_TEMPLATE Interface</h3>
        <p>A binary template describes of the format of the data in a binary file, and can be used to successfully import binary data from any file that shares has structure. The <b>Binary Template</b> dialog allows you to specify characteristics of each field within a binary file, and returns a structure containing the template information. The READ_BINARY function accesses the data in a binary file, using the template to determine how to import the data correctly. (You only have to explicitly call READ_BINARY when you call BINARY_TEMPLATE from the command line. When you start the <b>Binary</b><b>Template</b> dialog from an iTool or the workbench, the READ_BINARY routine is called for you.) </p>
        <p>After starting the <b>Binary Template</b> dialog, complete the following steps to create the template:</p>
        <ol>
            <li value="1"><b>Select the binary file.</b> In the <b>Select File to Open</b> dialog, select <code>surface.dat</code> from the <code>examples\data</code> subdirectory of your IDL distribution. This file contains an integer array of elevation data of the Maroon Bells mountains, a group of mountains located among the Rocky Mountains of Colorado.The <b>Binary Template</b> window is displayed. </li>
            <li value="2">
                <p><b>Define template and data characteristics.</b> Define the following in this example before defining field information: </p>
            </li>
            <ul>
                <li value="1"><b>Template Name</b> of <code>sMarBellsTemplate</code></li>
                <li value="2"><b>File byte ordering</b> is set to <b>Little Endian</b>. Other options are:</li>
                <li value="3"><b>Na<a name="kanchor90"></a>tive</b> — the storage method is native to the machine you are currently running. Little Endian for Intel microprocessor-based machines and Big Endian for Motorola microprocessor-based machines. No byte swapping will be performed.</li>
                <li value="4"><b>Little E<a name="kanchor91"></a>ndian </b>— the storage method where the least significant byte appears first in the number. Given the hexadecimal number A02B, the Little Endian method stores it as 2BA0. Specify this if the original file was created on a machine that uses an Intel microprocessor.</li>
                <li value="5"><b>Big <a name="kanchor92"></a>Endian</b> — the storage method where the most significant byte appears first in the number. Given the hexadecimal number A02B, the big endian method stores it as A02B. Specify this if the original file was created on a machine that uses a Motorola microprocessor.</li>
            </ul>
            <p>The following table describes each of these options.</p>
            <table style="mc-table-style: url('../../Resources/TableStyles/Description.css');margin-left: 0;margin-right: auto;caption-side: top;" class="TableStyle_Description" cellspacing="0">
                <col class="Column-Column1" />
                <col class="Column-Column1" />
                <thead>
                    <tr>
                        <th class="TableStyle_Description_Head_0_0_RowSep_ColSep">
                            <p>Characteristic</p>
                        </th>
                        <th class="TableStyle_Description_Head_0_0_RowSep_ColEnd">
                            <p>Description</p>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="Body-Body1">
                        <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
                            <p><b>Template name</b>
                            </p>
                        </td>
                        <td class="TableStyle_Description_Body_0_0_RowSep_ColEnd">
                            <p>Enter a name that describes the template. This field is optional. </p>
                        </td>
                    </tr>
                    <tr class="Body-Body2">
                        <td class="TableStyle_Description_Body_1_0_RowEnd_ColSep">
                            <p><b>File’s byte ordering</b>
                            </p>
                        </td>
                        <td class="TableStyle_Description_Body_1_0_RowEnd_ColEnd">
                            <p>Select the byte <a name="kanchor93"></a>order of the data: </p>
                            <p><b>Na<a name="kanchor94"></a>tive</b> — the storage method is native to the machine you are currently running. Little Endian for Intel microprocessor-based machines and Big Endian for Motorola microprocessor-based machines. No byte swapping will be performed.</p>
                            <p><b>Little E<a name="kanchor95"></a>ndian </b>— the storage method where the least significant byte appears first in the number. Given the hexadecimal number A02B, the Little Endian method stores it as 2BA0. Specify this if the original file was created on a machine that uses an Intel microprocessor.</p>
                            <p><b>Big <a name="kanchor96"></a>Endian</b> — the storage method where the most significant byte appears first in the number. Given the hexadecimal number A02B, the big endian method stores it as A02B. Specify this if the original file was created on a machine that uses a Motorola microprocessor.</p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </ol>
        <p>
            <img src="../../images/binary01.gif" />
        </p>
        <ol>
            <li value="1">
                <p><b>Open the New Field dialog. </b>Fields are read in the order in which they are listed in the main dialog for BINARY_TEMPLATE, with offsets being added to the current file position pointer before each field is read. Click <b>New Field...</b> to enter the description of a new field. </p>
                <p class="NoteIndented">If a field has already been defined, clicking in the <b>Return</b> column will toggle the value of the field between Yes and No. Fields that are not marked for return can be used for calculations by other fields in the template. At least one field must be marked Yes for return in order for the BINARY_TEMPLATE function to return a template.</p>
            </li>
            <li value="2"><b>Define characteristics of the field.</b> Use the <b>New Field</b> dialog to define the data type and dimensions of the field as well as any offsets. In this example, configure the following: </li>
            <ul>
                <li value="1"><b>Field name</b> is <code>marbells</code></li>
                <li value="2"><b>Type</b> is <b>Integer</b></li>
                <li value="3"><b>Offset</b> is <code>0</code><b>From beginning of file</b></li>
                <li value="4">Field is <b>Returned in the result </b>when read</li>
                <li value="5"><b>Number of dimensions</b> value is <code>2</code>, and are defined as <code>350</code> and <code>450</code> respectively</li>
            </ul>
            <p>The following table describes the <b>New Field</b> dialog options:</p>
            <table style="margin-left: 0;margin-right: auto;caption-side: top;mc-table-style: url('../../Resources/TableStyles/Description.css');" class="TableStyle_Description" cellspacing="0">
                <col class="Column-Column1" />
                <col class="Column-Column1" />
                <thead>
                    <tr>
                        <th class="TableStyle_Description_Head_0_0_RowSep_ColSep">
                            <p>Field</p>
                        </th>
                        <th class="TableStyle_Description_Head_0_0_RowSep_ColEnd">
                            <p>Description</p>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="Body-Body1">
                        <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
                            <p><b>Field name</b>
                            </p>
                        </td>
                        <td class="TableStyle_Description_Body_0_0_RowSep_ColEnd">
                            <p>Enter a name that describes the data field. </p>
                        </td>
                    </tr>
                    <tr class="Body-Body2">
                        <td class="TableStyle_Description_Body_1_0_RowSep_ColSep">
                            <p><b>Type</b>
                            </p>
                        </td>
                        <td class="TableStyle_Description_Body_1_0_RowSep_ColEnd">
                            <p>Select the data type of the field from a droplist that offers the following IDL types: byte, integer, long, float, double, complex, dcomplex, uint, ulong, long64 and ulong64. Strings are read as an array of bytes for later conversion to type STRING.</p>
                        </td>
                    </tr>
                    <tr class="Body-Body1">
                        <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
                            <p><b>Offset</b>
                            </p>
                        </td>
                        <td class="TableStyle_Description_Body_0_0_RowSep_ColEnd">
                            <p>Specify the data offset using integer values, field names, or any valid IDL expression. </p>
                            <p><b>Absolute integer</b> — defines a fixed location (in bytes) from the beginning of the file or the initial file position for an externally opened file. </p>
                            <p><b>Relative integer</b> — uses a preceding &gt; or &lt; character, to indicate a positive (&gt;) or negative (&lt;) byte offset relative to the current file position pointer after the previous field (if any) is read. </p>
                            <p><b>Expression</b> — can include the names of fields that will be read <i>before</i> the current field — that is, the field number of the referenced field must be lower than the field number of the field being defined.</p>
                            <p><b>From beginning of file </b>— read from the beginning of the file plus any offset. </p>
                            <p><b>From initial position in file/From end of previous file</b> — read from the beginning of the file or from the end of the previous field plus any offset. </p>
                        </td>
                    </tr>
                    <tr class="Body-Body2">
                        <td class="TableStyle_Description_Body_1_0_RowSep_ColSep">
                            <p><b>When file is read</b>...</p>
                        </td>
                        <td class="TableStyle_Description_Body_1_0_RowSep_ColEnd">
                            <p><b>Returned in the result </b>— select this to return the field when the file is read</p>
                            <p><b>Verified as being equal to</b> — select this and define the condition. The <b>Verify</b> field can contain an integer, field name, or any valid IDL expression. Only scalar fields can be verified. READ_BINARY reports an error if a verification fails. </p>
                        </td>
                    </tr>
                    <tr class="Body-Body1">
                        <td class="TableStyle_Description_Body_0_0_RowEnd_ColSep">
                            <p><b>Number of dimensions</b>
                            </p>
                        </td>
                        <td class="TableStyle_Description_Body_0_0_RowEnd_ColEnd">
                            <p>Select the number of dimensions of the field ranging from 0 (scalar) to 8 (which is the maximum number of dimensions that an IDL variable can have.) The <b>Size</b> of each dimension can be an integer, field name, or any valid IDL expression. Select <b>Reverse</b> to read any of the first three dimensions of array data in reversed order.</p>
                        </td>
                    </tr>
                </tbody>
            </table>
            <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>If BINARY_TEMPLATE is called by a program that is running in the IDL Virtual Machine, the <b>Offsets</b>, <b>Verify,</b> and <b>Size</b> fields can contain integers or field names, but <i>not</i> an IDL expression.</p>
            <p>
                <img src="../../images/binary02.gif" style="margin-left: 9.5616px;margin-top: 3.98592px;margin-right: 6.328049px;margin-bottom: 5.650555px;" />
            </p>
            <li value="3"><b>Create the template.</b> Click <b>OK</b> to create the new field definition. This file contains a single field so click <b>OK</b> on the <b>Binary Template</b> dialog to create the template. If needed, you could click <b>New Field</b> to define additional data fields. </li>
        </ol>
        <p>The BINARY_TEMPLATE function returns a structure variable containing the template. The result of the previous actions depends on the location from which you launched the <b>Binary Template</b> dialog. The READ_BINARY function, which reads data from a file according to the template specification, is automatically called when you access the <b>Binary Template</b> dialog from iTools. From the command line, you must explicitly read the binary data with the template specification. </p>
        <p>After defining the structure of your binary data using the <b>Binary Template</b> dialog, refer to the appropriate section:</p>
        <ul>
            <li value="1"><b>iTools binary data access </b>— the binary data is read and placed in the Data Manager. If it is not automatically displayed, use the <b>Insert Visualization</b> dialog to display fields of the data. </li>
            <li value="2"><b>Command line binary data access</b> — the template is a structure defining the format of the binary data. Access the data using READ_BINARY, and specify the template (or other characteristics) as parameters of the data access operation. See <a href="../R/READ_ASCII.htm#R_822202989_1204665">Working with a READ_ASCII Data Structure</a> for details.</li>
        </ul>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>You can create a SAVE file of a template in order to use it from session to session. See <a href="../A/ASCII_TEMPLATE.htm#A_850317933_1024404">Example: Create a SAVE File of a Custom ASCII Template</a> for a related example.</p>
        <h2 class="API"><a name="B_856805997_985371_PageTOC_BINARY_TEMPLATE_"></a>Version History</h2>
        <table style="mc-table-style: url('../../Resources/TableStyles/VersionTable.css');margin-left: 0;margin-right: auto;caption-side: top;" cellspacing="0" class="TableStyle_VersionTable">
            <col />
            <col />
            <tbody>
                <tr>
                    <td class="TableStyle_VersionTable_Body_0_0_ColSep">
                        <p>5.3</p>
                    </td>
                    <td class="TableStyle_VersionTable_Body_0_0_ColEnd">
                        <p>Introduced</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
                        <p>7.1</p>
                    </td>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
                        <p>Added the <b>Help</b> button to the interface.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2 class="API"><a name="B_856805997_993426"></a>See Also</h2>
        <p><a href="../R/READ_BINARY.htm#R_822202989_756090">READ_BINARY</a>, <a href="../A/ASCII_TEMPLATE.htm#A_850317933_983117">ASCII_TEMPLATE</a></p>
        <div class="mp_footer">© <span class="DocumentTitleCopyrightYear">2015</span>&#160;<span class="DocumentTitleCopyrightCompanyName">Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation</span>. All Rights Reserved. This information is not subject to the controls of the International Traffic in Arms Regulations (ITAR) or the Export Administration Regulations (EAR). However, this information may be restricted from transfer to various embargoed countries under U.S. laws and regulations.</div>
    </body>
</html>