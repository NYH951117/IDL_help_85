<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="idl.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Routines (alphabetical)|Object Classes|Analysis Object Classes|IDLanROI">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>IDLanROI::ComputeMask</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix"> </span><a class="MCBreadcrumbsLink" href="../../images/ref_part1.htm">Routines (alphabetical)</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../ObjectClasses.htm">Object Classes</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="objects_an.htm">Analysis Object Classes</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">IDLanROI::ComputeMask</span>
        </div>
        <h1 class="ObjMethod"><a name="objects_an_3393474575_1003835"></a><a name="objects_an_3393474575_36238"></a>IDLanROI::ComputeMask<a name="kanchor3121"></a></h1>
        <p>The IDLanROI::ComputeMask function method prepares a two-dimensional mask for the region. </p>
        <h2 class="API"><a name="objects_an_3393474575_1003856"></a><a name="objects_an_3393474575_1355115_PageTOC_IDLanROI"></a>Syntax</h2>
        <p class="Syntax"><i>Result</i> = <i>Obj-&gt;</i>[<a href="IDLanROI.htm#objects_an_3393474575_1003616">IDLanROI</a>::]ComputeMask( [,&#160;<a href="#objects_an_3393474575_1003874" class="selected">INITIALIZE</a>={&#160;–1&#160;|&#160;0&#160;|&#160;1&#160;}] [,&#160;<a href="#objects_an_3393474575_1003872" class="selected">DIMENSIONS</a>=<i>[xdim</i>,&#160;<i>ydim]</i>]&#160;|&#160;[,&#160;<a href="#objects_an_3393474575_1003881" class="selected">MASK_IN</a>=<i>array</i>] [,&#160;<a href="#objects_an_3393474575_1003879" class="selected">LOCATION</a>=<i>[x</i>,&#160;<i>y </i>[,&#160;<i>z</i>]<i>]</i>] [,&#160;<a href="#objects_an_3393474575_1003883" class="selected">MASK_RULE</a>={&#160;0&#160;|&#160;1&#160;|&#160;2&#160;}] [,&#160;<a href="#objects_an_3393474575_1003888" class="selected">PIXEL_CENTER</a>=<i>[x, y]</i>] [,&#160;<a href="#objects_an_3393474575_1011165" class="selected">PLANE_NORMAL</a>=<i>[x, y, z]</i>] [,&#160;<a href="#objects_an_3393474575_1003890" class="selected">PLANE_XAXIS</a>=<i>[x,y,z]</i>] [,&#160;/<a href="#objects_an_3393474575_1003892" class="selected">RUN_LENGTH</a>] )</p>
        <h2 class="API"><a name="objects_an_3393474575_1003859"></a><a name="objects_an_3393474575_1355117_PageTOC_IDLanROI"></a>Return Value</h2>
        <h3>Result</h3>
        <p>The return value is a two-dimensional array of bytes whose values range from 0 to 255. The mask is computed by applying the following formula to the current mask for each mask point contained within the ROI:</p>
        <p class="indent"><i>M</i><sub class="italic">out</sub> = MAX(MIN(255, (<i>M</i><sub class="italic">roi</sub>*<i>Ext</i>) + <i>M</i><sub class="italic">in</sub>), 0)</p>
        <p>where <i>M</i><sub class="italic">roi</sub> is 255 and <i>Ext</i> is 1 for points within an exterior region and –1 for points within an interior region. </p>
        <p>If the TYPE of the region is 0 (points), a single mask pixel is set for each region vertex that falls within the bounds of the mask. </p>
        <p>If the TYPE of the region is 1 (path), one-pixel-wide line segments are set within the mask. </p>
        <p>If the TYPE of the region is 2 (closed polygon), a mask pixel is set if that pixel is on the plane of a region, and the pixel falls within the region (according to the MASK_RULE).</p>
        <h2 class="API"><a name="objects_an_3393474575_1003868"></a><a name="objects_an_3393474575_1396935_PageTOC_IDLanROI"></a>Arguments</h2>
        <p>None.</p>
        <h2 class="API"><a name="objects_an_3393474575_1003871"></a><a name="objects_an_3393474575_1396692_PageTOC_IDLanROI"></a>Keywords</h2>
        <h3 class="Keyword"><a name="objects_an_3393474575_1003872"></a><a name="objects_an_3393474575_1003872_Keywords_IDLanROI"></a>DIMENSIONS</h3>
        <p>Set this keyword to a two-element vector, [<i>xdim</i>, <i>ydim</i>], specifying the requested dimensions of the returned mask. If MASK_IN is provided, the value of this keyword is ignored and the dimensions of that mask are used. Otherwise, the default dimensions are [100, 100].</p>
        <h3 class="Keyword"><a name="objects_an_3393474575_1003874"></a><a name="objects_an_3393474575_1003874_Keywords_IDLanROI"></a>INITIALIZE</h3>
        <p>Set this keyword to indicate how the mask should be initialized. Valid values include:</p>
        <ul>
            <li value="1">–1 = The mask is not initialized. This option is useful when updating an already existing mask. This is the default if the MASK_IN keyword is set.</li>
            <li value="2">0 = The mask is initialized so that each pixel is set to 0. This is the default if the MASK_IN keyword is not set.</li>
            <li value="3">1 = The mask is initialized so that each pixel is set to 255.</li>
        </ul>
        <h3 class="Keyword"><a name="objects_an_3393474575_1003879"></a><a name="objects_an_3393474575_1003879_Keywords_IDLanROI"></a>LOCATION</h3>
        <p>Set this keyword to a vector of the form [<i>X</i>, <i>Y</i>[, <i>Z</i>]] specifying the location of the origin of the mask. The default is [0, 0, 0]. IDL converts and maintains this value in double-precision floating-point.</p>
        <h3 class="Keyword"><a name="objects_an_3393474575_1003881"></a><a name="objects_an_3393474575_1003881_Keywords_IDLanROI"></a>MASK_IN</h3>
        <p>Set this keyword to a two-dimensional array representing a mask that is already allocated and to be updated for this region. If the variable specified by this keyword is of type BYTE and is also specified as the function result, then this method updates the mask data in-place without copying. If this keyword is not provided, a mask is allocated by default to match the dimensions specified via the DIMENSIONS keyword.</p>
        <h3 class="Keyword"><a name="objects_an_3393474575_1003883"></a><a name="objects_an_3393474575_1003883_Keywords_IDLanROI"></a>MASK_RULE</h3>
        <p>Set this keyword to an integer specifying the rule used to determine whether a given pixel should be set within the mask. Valid values include:</p>
        <ul>
            <li value="1">0 = Boundary only. All pixels falling on a region’s boundary are set.</li>
            <li value="2">1 = Interior only. All pixels falling within the region’s boundary, but not on the boundary, are set.</li>
            <li value="3">2 = Boundary + Interior. All pixels falling on or within a region’s boundary are set. This is the default.</li>
        </ul>
        <h3 class="Keyword"><a name="objects_an_3393474575_1003888"></a><a name="objects_an_3393474575_1003888_Keywords_IDLanROI"></a>PIXEL_CENTER</h3>
        <p>Set this keyword to a 2-element vector, [<i>x</i>, <i>y</i>], to indicate where the lower-left mask pixel is centered relative to a Cartesian grid. The default value is [0.0, 0.0], indicating that the lower-left pixel is centered at [0.0, 0.0].</p>
        <h3 class="Keyword"><a name="objects_an_3393474575_1011165"></a><a name="objects_an_3393474575_1011165_Keywords_IDLanROI"></a>PLANE_NORMAL</h3>
        <p>Set this keyword to a three-element vector, [<i>x</i>, <i>y</i>, <i>z</i>], specifying the normal vector for the plane on which the mask is to be computed. The default is [0, 0, 1].</p>
        <h3 class="Keyword"><a name="objects_an_3393474575_1003890"></a><a name="objects_an_3393474575_1003890_Keywords_IDLanROI"></a>PLANE_XAXIS</h3>
        <p>Set this keyword to a three-element vector, [<i>x</i>, <i>y</i>, <i>z</i>], specifying the direction vector along which each row of mask pixels is to be computed (starting at LOCATION). The default is [1, 0, 0].</p>
        <h3 class="Keyword"><a name="objects_an_3393474575_1003892"></a><a name="objects_an_3393474575_1003892_Keywords_IDLanROI"></a>RUN_LENGTH</h3>
        <p>Set this keyword to a non-zero value to return a run-length encoded representation of the mask, stored in a one-dimensional unsigned long array. When run-length encoded, each element with an even subscript contains the length of the run, and the following element contains the starting index of the run.</p>
        <h2 class="API"><a name="objects_an_3393474575_1042756"></a><a name="objects_an_3393474575_34391"></a>Examples</h2>
        <p>See "Creating and Displaying an ROI Mask" (Chapter 6, <i>Image Processing in IDL</i> in the <code>help/pdf</code> directory of your IDL installation). </p>
        <h2 class="API"><a name="objects_an_3393474575_1003895"></a><a name="objects_an_3393474575_34587"></a>Version History</h2>
        <table style="caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
            <col />
            <col />
            <tbody>
                <tr>
                    <td class="TableStyle_VersionTable_Body_0_0_ColSep">
                        <p>5.3</p>
                    </td>
                    <td class="TableStyle_VersionTable_Body_0_0_ColEnd">
                        <p>Introduced</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
                        <p>5.6</p>
                    </td>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
                        <p>Added RUN_LENGTH keyword</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="mp_footer">© <span class="DocumentTitleCopyrightYear">2015</span>&#160;<span class="DocumentTitleCopyrightCompanyName">Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation</span>. All Rights Reserved. This information is not subject to the controls of the International Traffic in Arms Regulations (ITAR) or the Export Administration Regulations (EAR). However, this information may be restricted from transfer to various embargoed countries under U.S. laws and regulations.</div>
    </body>
</html>