<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="idl.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Routines (alphabetical)|Object Classes|Network Object Classes|IDLnetURL">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>IDLnetURL::FtpCommand</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/NoLines.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix"> </span><a class="MCBreadcrumbsLink" href="../../images/ref_part1.htm">Routines (alphabetical)</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../ObjectClasses.htm">Object Classes</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="objects_network.htm">Network Object Classes</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">IDLnetURL::FtpCommand</span>
        </div>
        <h1 class="ObjMethod"><a name="objects_network_1009015_1406559"></a><a name="objects_network_1009015_69771"></a>I<a name="kanchor4171"></a>DLnetURL::FtpCommand</h1>
        <p>The IDLnetURL::FtpCommand function method can be used to execute FTP commands, delete files, make directories, delete directories, and change directories on the remote FTP server. </p>
        <p>This method throws an error if the call fails. Use a catch statement to trap errors and print the error messages and response codes.</p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>When the FTP server issues response code 530 or 67, a login is required or the current username and password are incorrect. </p>
        <p>This method sets the RESPONSE_CODE property, which contains the last FTP status code received. The RESPONSE_HEADER and RESPONSE_CODE properties are useful for troubleshooting problems. Receiving callbacks and printing the status strings with the VERBOSE property set to 1 is another valuable troubleshooting technique</p>
        <p>Refer to <a href="IDLnetURL.htm#objects_network_1009015_1408886">Using Callbacks with the IDLnetURL Object</a> for details.</p>
        <p>If a FTP connection fails, it may be necessary to switch the connection mode from active to passive using the FTP_CONNECTION_MODE property.</p>
        <h2 class="API"><a name="objects_network_1009015_1406567"></a><a name="objects_network_1009015_1406567_PageTOC_IDLnetURL"></a>Syntax</h2>
        <p class="Syntax"><i>Result</i> = <i>Obj</i>-&gt;[<a href="IDLnetURL.htm#objects_network_1009015_1370815">IDLnetURL</a>::]FtpCommand(<i>command</i> [,&#160;/<a href="#objects_network_1009015_1406607" class="selected">FTP_EXPLICIT_SSL</a>] [,&#160;<a href="#objects_network_1009015_1406609" class="selected">URL</a>=<i>string</i>])</p>
        <h2 class="API"><a name="objects_network_1009015_1406569"></a><a name="objects_network_1009015_1406569_PageTOC_IDLnetURL"></a>Return Value</h2>
        <p>The return value is the response header, which is a string. Examine the response header to determine if the command succeeded or failed. </p>
        <h2 class="API"><a name="objects_network_1009015_1406571"></a><a name="objects_network_1009015_1406571_PageTOC_IDLnetURL"></a>Arguments</h2>
        <h3 class="Argument">Command</h3>
        <p>A string or string array containing FTP commands to execute.</p>
        <p>The following table lists the FTP commands that IDL allows:</p>
        <table style="mc-table-style: url('../../Resources/TableStyles/NoLines.css');margin-left: 0;margin-right: auto;caption-side: top;" class="TableStyle_NoLines" cellspacing="0">
            <col class="Column-Column1" />
            <col class="Column-Column1" />
            <tbody>
                <tr class="Body-Body1">
                    <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
                        <p>CWD</p>
                    </td>
                    <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
                        <p>Change a directory</p>
                    </td>
                </tr>
                <tr class="Body-Body2">
                    <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
                        <p>DELE</p>
                    </td>
                    <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
                        <p>Delete a file</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
                        <p>MKD</p>
                    </td>
                    <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
                        <p>Make a directory</p>
                    </td>
                </tr>
                <tr class="Body-Body2">
                    <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
                        <p>RMD</p>
                    </td>
                    <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
                        <p>Remove a directory</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
                        <p>RNFR</p>
                    </td>
                    <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
                        <p>Rename from</p>
                    </td>
                </tr>
                <tr class="Body-Body2">
                    <td class="TableStyle_NoLines_Body_0_0_RowEnd_ColSep">
                        <p>RNTO</p>
                    </td>
                    <td class="TableStyle_NoLines_Body_0_0_RowEnd_ColEnd">
                        <p>Rename to</p>
                        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>To rename a file, you must issue both the RNFR and RNTO commands in succession (see the following examples)</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>The following are examples of using standard commands:</p>
        <p class="Code">“CWD data”</p>
        <p class="Code">“CWD ..”</p>
        <p class="Code">&#160;</p>
        <p class="Code">“DELE path/filename”</p>
        <p class="Code">“DELE /path/filename”</p>
        <p class="Code">&#160;</p>
        <p class="Code">“MKD /path”</p>
        <p class="Code">“MKD path”</p>
        <p class="Code">&#160;</p>
        <p class="Code">“RMD /path”</p>
        <p class="Code">“RMD path”</p>
        <p class="Code">&#160;</p>
        <p class="Code">“RNFR /path/existingfilename”</p>
        <p class="Code">“RNTO /path/newfilename”</p>
        <p class="Code">...or...</p>
        <p class="Code">“RNFR path/existingfilename”</p>
        <p class="Code">“RNTO path/newfilename”</p>
        <p class="Code">&#160;</p>
        <h2 class="API"><a name="objects_network_1009015_1406604"></a><a name="objects_network_1009015_1406604_PageTOC_IDLnetURL"></a>Keywords</h2>
        <h3 class="Keyword"><a name="objects_network_1009015_1406607"></a><a name="objects_network_1009015_1406607_Keywords_IDLnetURL"></a>FTP_EXPLICIT_SSL</h3>
        <p>Set this keyword to explicitly use SSL to transfer the commands and data to or from the remote FTP server. It is not necessary to set this keyword when the scheme is “ftps”, as this implicitly activates SSL. </p>
        <p>See <a href="IDLnetURL.htm#objects_network_1009015_1404804">Secure FTP</a> for additional notes on SSL connections.</p>
        <h3 class="Keyword"><a name="objects_network_1009015_1406609"></a><a name="objects_network_1009015_1406609_Keywords_IDLnetURL"></a>URL</h3>
        <p>Set this keyword equal to the complete URL string of the location for which the command is to be executed. If this keyword is set, the URL_* properties are ignored. </p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>If you include a username and password as plain text in a URL, both are potentially visible to others. To avoid this security risk, set the URL_* properties, including the URL_USERNAME and URL_PASSWORD properties, specifically.</p>
        <h2 class="API"><a name="objects_network_1009015_1417412"></a><a name="objects_network_1009015_1406614_PageTOC_IDLnetURL"></a>Examples</h2>
        <p>The following example uses the IDLnetURL::FtpCommand function method to send a <code>cwd</code> FTP command to the <span class="DocumentTitleCompanyName">Exelis VIS</span> FTP server. This command changes the working directory to <code>/doc/examples</code> (this is the only command that can be issued with this method to a read-only server).</p>
        <p class="ExampleCode">The code sample<a name="kanchor4172"></a> <code>url_docs_ftp_cmd.pro</code> is also located in the <code>examples/doc/objects</code> subdirectory of the IDL distribution. View the file in an IDL editor window by entering <code>.EDIT url_docs_ftp_cmd.pro</code> at the IDL Command Line.</p>
        <p class="Code">;-----------------------------------------------------------------</p>
        <p class="Code">FUNCTION URL_CALLBACK, status, progress, data</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;; print the info msgs from the url object</p>
        <p class="Code">&#160;&#160;&#160;PRINT, status</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;; return 1 to continue, return 0 to cancel</p>
        <p class="Code">&#160;&#160;&#160;RETURN, 1</p>
        <p class="Code">END</p>
        <p class="Code">&#160;</p>
        <p class="Code">;-----------------------------------------------------------------</p>
        <p class="Code">PRO url_docs_ftp_cmd</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;; Catch any errors generated by the IDLnetURL object</p>
        <p class="Code">&#160;&#160;&#160;CATCH, errorStatus</p>
        <p class="Code">&#160;&#160;&#160;IF (errorStatus NE 0) THEN BEGIN</p>
        <p class="Code">&#160;&#160;&#160;&#160;&#160;&#160;CATCH, /CANCEL</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;&#160;&#160;&#160;; Display the error msg in a dialog and at the IDL</p>
        <p class="Code">&#160;&#160;&#160;&#160;&#160;&#160;; command line.</p>
        <p class="Code">&#160;&#160;&#160;&#160;&#160;&#160;r = DIALOG_MESSAGE(!ERROR_STATE.msg, TITLE='URL Error', $</p>
        <p class="Code">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/ERROR)</p>
        <p class="Code">&#160;&#160;&#160;&#160;&#160;&#160;PRINT, !ERROR_STATE.msg</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;&#160;&#160;&#160;; Get the properties that tell us more about</p>
        <p class="Code">&#160;&#160;&#160;&#160;&#160;&#160;; the error and display at the IDL command line.</p>
        <p class="Code">&#160;&#160;&#160;&#160;&#160;&#160;ourl-&gt;GetProperty, RESPONSE_CODE=rspCode, $</p>
        <p class="Code">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;RESPONSE_HEADER=rspHdr, RESPONSE_FILENAME=rspFn</p>
        <p class="Code">&#160;&#160;&#160;&#160;&#160;&#160;PRINT, 'rspCode = ', rspCode</p>
        <p class="Code">&#160;&#160;&#160;&#160;&#160;&#160;PRINT, 'rspHdr= ', rspHdr</p>
        <p class="Code">&#160;&#160;&#160;&#160;&#160;&#160;PRINT, 'rspFn= ', rspFn</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;&#160;&#160;&#160;; Destroy the url object and return.</p>
        <p class="Code">&#160;&#160;&#160;&#160;&#160;&#160;OBJ_DESTROY, ourl</p>
        <p class="Code">&#160;&#160;&#160;&#160;&#160;&#160;RETURN</p>
        <p class="Code">&#160;&#160;&#160;ENDIF</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;; Create a new url object</p>
        <p class="Code">&#160;&#160;&#160;ourl = OBJ_NEW('IDLnetUrl')</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;; Specify the callback function</p>
        <p class="Code">&#160;&#160;&#160;ourl-&gt;SetProperty, CALLBACK_FUNCTION ='URL_CALLBACK'</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;; Set verbose to 1 to see more details</p>
        <p class="Code">&#160;&#160;&#160;ourl-&gt;SetProperty, VERBOSE = 1</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;; Specify that we will do an ftp transaction</p>
        <p class="Code">&#160;&#160;&#160;ourl-&gt;SetProperty, URL_SCHEME = 'ftp'</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;; The NASA&#160;FTP server</p>
        <p class="Code">&#160;&#160;&#160;ourl-&gt;SetProperty, URL_HOST = 'nssdcftp.gsfc.nasa.gov/miscellaneous/orbits'</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;; Build an array of commands. The following sample command</p>
        <p class="Code">&#160;&#160;&#160;; array changes to the /doc/examples dir (which is all</p>
        <p class="Code">&#160;&#160;&#160;; that can be done with this method on a read-only server.</p>
        <p class="Code">&#160;&#160;&#160;; The following command will always work:</p>
        <p class="Code">&#160;&#160;&#160;; cmds = 'cwd /'</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;;cmds = ['cwd doc/examples']</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;&#160;cmds = ['cwd ..']</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;; Specify the appropriate username and password. If the</p>
        <p class="Code">&#160;&#160;&#160;; username is 'Anonymous', use an empty string for the password.</p>
        <p class="Code">&#160;&#160;&#160;;ourl-&gt;SetProperty, URL_USERNAME = 'Anonymous'</p>
        <p class="Code">&#160;&#160;&#160;;ourl-&gt;SetProperty, URL_PASSWORD = ''</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;; Send the command array to the FTP server, saving the</p>
        <p class="Code">&#160;&#160;&#160;; responses in an IDL variable.</p>
        <p class="Code">&#160;&#160;&#160;respHdr = ourl-&gt;FtpCommand(cmds)</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;; Display the responses.</p>
        <p class="Code">&#160;&#160;&#160;PRINT, 'response header for the ftp commands'</p>
        <p class="Code">&#160;&#160;&#160;PRINT, respHdr</p>
        <p class="Code">&#160;</p>
        <p class="Code">&#160;&#160;&#160;; Destroy the url object</p>
        <p class="Code">&#160;&#160;&#160;OBJ_DESTROY, ourl</p>
        <p class="Code">&#160;</p>
        <p class="Code">END</p>
        <h2 class="API"><a name="objects_network_1009015_1417484"></a><a name="objects_network_1009015_1406616_PageTOC_IDLnetURL"></a>Version History</h2>
        <table style="caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
            <col />
            <col />
            <tbody>
                <tr>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
                        <p>6.4</p>
                    </td>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
                        <p>Introduced</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="mp_footer">© <span class="DocumentTitleCopyrightYear">2015</span>&#160;<span class="DocumentTitleCopyrightCompanyName">Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation</span>. All Rights Reserved. This information is not subject to the controls of the International Traffic in Arms Regulations (ITAR) or the Export Administration Regulations (EAR). However, this information may be restricted from transfer to various embargoed countries under U.S. laws and regulations.</div>
    </body>
</html>