<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="idl.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Routines (alphabetical)|Object Classes|File Format Object Classes|IDLffJPEG2000">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>IDLffJPEG2000::GetData</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix"> </span><a class="MCBreadcrumbsLink" href="../../images/ref_part1.htm">Routines (alphabetical)</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../ObjectClasses.htm">Object Classes</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="objects_ff.htm">File Format Object Classes</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">IDLffJPEG2000::GetData</span>
        </div>
        <h1 class="ObjMethod"><a name="objects_ff_3755668711_1141282"></a><a name="objects_ff_3755668711_79101"></a>IDLffJPEG2000::GetData</h1>
        <p data-mc-conditions="Reference Material.Online_Help_Only">
            <MadCap:conditionalText data-mc-conditions="Reference Material.Online_Help_Only"><a href="#objects_ff_3755668711_1141301" class="selected">Syntax</a> | <a href="#objects_ff_3755668711_1141328" class="selected">Return Value</a> | <a href="#objects_ff_3755668711_1141334" class="selected">Keywords</a> | <a href="#objects_ff_3755668711_1141366" class="selected">Examples</a> | <a href="#objects_ff_3755668711_1141386" class="selected">Version History</a></MadCap:conditionalText>
        </p>
        <p>The IDLffJPEG2000::GetData <a name="kanchor3187"></a>function method returns image data from the IDLffJPEG2000 object.</p>
        <h2 class="API"><a name="objects_ff_3755668711_1141301"></a><a name="objects_ff_3755668711_1141301_PageTOC_IDLffJPEG2000"></a>Syntax</h2>
        <p class="Syntax"><i>Result</i> = <i>Obj-&gt;</i>[<a href="IDLffJPEG2000.htm#objects_ff_3755668711_1371624">IDLffJPEG2000</a>::]GetData( [,&#160;<a href="#objects_ff_3755668711_1141336" class="selected">COMPONENT</a>=<i>value</i>] [,&#160;<a href="#objects_ff_3755668711_1141339" class="selected">DISCARD_LEVELS</a>=<i>value</i>] [,&#160;<a href="#objects_ff_3755668711_1141342" class="selected">MAX_LAYERS</a>=<i>value</i>] [,&#160;<a href="#objects_ff_3755668711_1141345" class="selected">N_COMPONENTS</a>=<i>value</i>] [,&#160;<a href="#objects_ff_3755668711_1141348" class="selected">ORDER</a>=<i>value</i>] [,&#160;<a href="#objects_ff_3755668711_1141351" class="selected">REGION</a>=<i>value</i>] [,&#160;/<a href="#objects_ff_3755668711_1141355" class="selected">RGB</a>] [,&#160;<a href="#objects_ff_3755668711_1141363" class="selected">TILE_INDEX</a>=<i>value</i>])</p>
        <h2 class="API"><a name="objects_ff_3755668711_1141328"></a><a name="objects_ff_3755668711_1141328_PageTOC_IDLffJPEG2000"></a>Return Value</h2>
        <p>An array with two or three dimensions containing the image data from the object. Dimensions of the result are: [3, <i>Width</i>, <i>Height</i>] if the RGB keyword is set; or [<i>nComponents</i>, <i>Width</i>, <i>Height</i>] if the RGB keyword is not set. <i>nComponents</i> is the number of components present in the file. Images with only one component (which are read with RGB not set) return a two dimensional array [<i>Width</i>, <i>Height</i>].</p>
        <p>The data type of the result is automatically determined using the bit-depth and signed properties of the returned components. For bit-depths ≤ 8 (or if RGB is set) the result will be of type byte. For bit-depths ≥ 9 and ≤ 16 the result will be of type integer or uint. For bit-depths &gt; 16 the result will be long or ulong. Components with differing bit-depths will be returned using the largest bit-depth. Components which are a mix of signed and unsigned will be returned as signed.</p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>If the PERSISTENT keyword was set to zero when the object was created, the object may not be accessed after GetData is called, with the exception of the GetProperty and Cleanup methods.</p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>If the data in the file was transformed from RGB to YCC before saving, the library will only transform back from YCC to RGB if all three components are read in simultaneously. Reading in each component separately will return the data in the YCC space. The YCC property may be used to determine if the RGB-to-YCC conversion took place. If YCC is true, you may wish to avoid using the COMPONENT or N_COMPONENTS keywords.</p>
        <h2 class="API"><a name="objects_ff_3755668711_1141334"></a><a name="objects_ff_3755668711_1141334_PageTOC_IDLffJPEG2000"></a>Keywords</h2>
        <h3 class="Keyword"><a name="objects_ff_3755668711_1141336"></a><a name="objects_ff_3755668711_1057561_Keywords_IDLffJP2"></a>COMPONENT</h3>
        <p>Set this keyword to an integer giving the index of the component at which to start reading. The number of components to read may be specified using the N_COMPONENTS keyword. The default is COMPONENT=0.</p>
        <h3 class="Keyword"><a name="objects_ff_3755668711_1141339"></a><a name="objects_ff_3755668711_1057563_Keywords_IDLffJP2"></a>DISCARD_LEVELS</h3>
        <p>Set this keyword to an integer that indicates the number of resolution levels to be discarded, starting with the highest resolution level (the full image).</p>
        <p>For example, setting this keyword equal to 2 will discard the two highest resolution levels — that is, the full- and half-resolution images. The returned array will contain the quarter-resolution image.</p>
        <p>The resulting image dimensions are given by:</p>
        <p class="Code">CEIL((Dimensions + Offset)/(2^DL)) - CEIL(Offset/(2^DL))</p>
        <p>where <i>Dimensions</i> and <i>Offset</i> are the image dimensions and offset, and <i>DL</i> is the value of DISCARD_LEVELS.</p>
        <h3 class="Keyword"><a name="objects_ff_3755668711_1141342"></a><a name="objects_ff_3755668711_1057569_Keywords_IDLffJP2"></a>MAX_LAYERS</h3>
        <p>Set this keyword to the maximum number of quality layers which will appear to be present. A quality layer is one quality increment for the entire image at full resolution. Each layer contains the information required to represent the image at a higher quality, given the information from all the previous layers. All image data bits may be encoded in one layer, or may be broken up into a larger number of layers each containing a further quality refinement. A value of 0, the default, implies that all layers should be retained. For example, specifying MAX_LAYERS = 4 processes only the first four quality layers. The number of quality layers in a file may be determined by checking the value of the N_LAYERS property.</p>
        <h3 class="Keyword"><a name="objects_ff_3755668711_1141345"></a><a name="objects_ff_3755668711_66586"></a>N_COMPONENTS</h3>
        <p>Set this keyword to an integer giving the number of components to read, starting at the component index given by the COMPONENT keyword. If neither COMPONENT nor N_COMPONENTS is specified then all components will be read. If COMPONENT is specified then the default is N_COMPONENTS=1.</p>
        <h3 class="Keyword"><a name="objects_ff_3755668711_1141348"></a><a name="objects_ff_3755668711_1057571_Keywords_IDLffJP2"></a>ORDER</h3>
        <p>JPEG2000 images are assumed to be stored in top-to-bottom order, while IDL usually assumes images are in bottom-to-top order. By default (ORDER = 0), GetData will automatically flip the result to match IDL’s bottom-to-top order. Setting ORDER to a nonzero value will return the JPEG2000 image without doing the vertical flip.</p>
        <p class="Tip" data-mc-autonum="&lt;b&gt;Tip: &lt;/b&gt;"><span class="autonumber"><span><b>Tip: </b></span></span>If you are reading a tiled image and displaying the tiles in an IDLgrImage object, using IDL’s default ordering will result in the individual tiles being correctly oriented, but displayed out of sequence. To ensure that tiles and displayed in the correct sequence, set both the ORDER keyword to the GetData method and the ORDER property of the IDLgrImage object to one.</p>
        <h3 class="Keyword"><a name="objects_ff_3755668711_1141351"></a><a name="objects_ff_3755668711_1057591_Keywords_IDLffJP2"></a>REGION</h3>
        <p>Set this keyword to a four-element vector containing the rectangular region of the image to read in the canvas coordinate system. The region is specified as [<i>StartX</i>, <i>StartY</i>, <i>Width</i>, <i>Height</i>] ], where <i>StartX</i> and <i>StartY</i> must be in the range 0 ... 2<sup>32</sup>-2, and <i>Width</i> and <i>Height</i> must be in the range 1 ... 2<sup>32</sup>-1. The region must contain at least some portion of the image, or an error will occur. If the region is larger than the image, or extends outside of the image, then only that portion that lies within the image will be returned.</p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>The region parameters should be specified in the canvas coordinate system, taking into account the canvas offset and canvas dimensions.</p>
        <h3 class="Keyword"><a name="objects_ff_3755668711_1141355"></a><a name="objects_ff_3755668711_1057573_Keywords_IDLffJP2"></a>RGB</h3>
        <p>If this keyword is set, the data stream will be interpreted as RGB imagery and all details concerning color transformations (for example: sRGB, sLUM and sYCC), together with restricted ICC-profiles for specifying more general 3-color “RGB-like” spaces, plus indexed color with palettes, are handled automatically. If this keyword is set, the result of this function will always have three components, red, green, and blue; and the dimensions of the result will be [3, <i>Width</i>, <i>Height</i>].</p>
        <p>The JPEG2000 standard allows a decorrelating color transformation to be applied to the first three image components. This transformation is identical or similar to the conventional YCbCr color transformation. To determine if this transform has been applied, examine the YCC keyword returned by the ::GetTileProperty method.</p>
        <p>If RGB is set and the file contains more than three components, only the first three components are returned. If RGB is set and the file contains less than three components an error is issued.</p>
        <p>If RGB is not set, and three components are transferred, and a color transformation has been applied to the input stream, the three components which are encoded in a form of YCC will automatically be converted to RGB. If it is desired to avoid this conversion, then the user should transfer more or less than three components in the call or calls to GetData.</p>
        <p>If RGB is not set and the number of components is not three, then each component in the data stream will be placed in the result without interpretation. Result will have dimensions: [N_COMPONENTS, <i>Width, Height</i>].</p>
        <p>The RGB keyword may not be specified if the COMPONENT or N_COMPONENTS keywords are present.</p>
        <h3 class="Keyword"><a name="objects_ff_3755668711_1141363"></a><a name="objects_ff_3755668711_86212"></a>TILE_INDEX</h3>
        <p>Set this keyword to an integer giving the tile index to read. If this keyword is specified then the REGION keyword is ignored.</p>
        <h2 class="API"><a name="objects_ff_3755668711_1141366"></a><a name="objects_ff_3755668711_1141366_PageTOC_IDLffJPEG2000"></a>Examples</h2>
        <p>This example illustrates the use of GetData to read an image a number of different ways:</p>
        <p class="Code">;Create object, open file.</p>
        <p class="Code">a&#160;=&#160;OBJ_NEW('IDLffJPEG2000', 'boat2.jp2')</p>
        <p class="Code">&#160;</p>
        <p class="Code">;Read the entire image.</p>
        <p class="Code">b&#160;=&#160;a-&gt;GetData()</p>
        <p class="Code">&#160;</p>
        <p class="Code">;Read a 512x512 portion of the image, starting </p>
        <p class="Code">;at column 100, row 200.</p>
        <p class="Code">b&#160;=&#160;a-&gt;GetData(REGION&#160;=&#160;[100, 200, 512, 512])</p>
        <p class="Code">&#160;</p>
        <p class="Code">;Read the portion of the above, but sub-sample it down by a</p>
        <p class="Code">;factor of 2, returning an nComponents x 256 x 256 image.</p>
        <p class="Code">b&#160;=&#160;a-&gt;GetData(REGION&#160;=&#160;[100, 200, 512, 512], DISCARD_LEVELS=1)</p>
        <p class="Code">&#160;</p>
        <p class="Code">;Read only the 2nd component.</p>
        <p class="Code">;The result will have two dimensions.</p>
        <p class="Code">b&#160;=&#160;a-&gt;GetData(COMPONENT&#160;=&#160;1)</p>
        <h2 class="API"><a name="objects_ff_3755668711_1141386"></a><a name="objects_ff_3755668711_1141386_PageTOC_IDLffJPEG2000"></a>Version History</h2>
        <table style="caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
            <col />
            <col />
            <tbody>
                <tr>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
                        <p>6.1</p>
                    </td>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
                        <p>Introduced</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="mp_footer">© <span class="DocumentTitleCopyrightYear">2015</span>&#160;<span class="DocumentTitleCopyrightCompanyName">Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation</span>. All Rights Reserved. This information is not subject to the controls of the International Traffic in Arms Regulations (ITAR) or the Export Administration Regulations (EAR). However, this information may be restricted from transfer to various embargoed countries under U.S. laws and regulations.</div>
    </body>
</html>