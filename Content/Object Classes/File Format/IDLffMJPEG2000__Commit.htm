<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="idl.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Routines (alphabetical)|Object Classes|File Format Object Classes|IDLffMJPEG2000">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>IDLffMJPEG2000::Commit </title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/NoLines.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix"> </span><a class="MCBreadcrumbsLink" href="../../images/ref_part1.htm">Routines (alphabetical)</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../ObjectClasses.htm">Object Classes</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="objects_ff.htm">File Format Object Classes</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">IDLffMJPEG2000::Commit</span>
        </div>
        <h1 class="ObjMethod"><a name="objects_ff_3755668711_1325263"></a><a name="objects_ff_3755668711_51633"></a>IDLffMJPEG2000::Commit </h1>
        <p data-mc-conditions="Reference Material.Online_Help_Only">
            <MadCap:conditionalText data-mc-conditions="Reference Material.Online_Help_Only"><a href="#objects_ff_3755668711_1325891" class="selected">Syntax</a> | <a href="#objects_ff_3755668711_1325912" class="selected">Return Value</a> | <a href="#objects_ff_3755668711_1325897" class="selected">Arguments</a> | <a href="#objects_ff_3755668711_1325516" class="selected">Keywords</a> | <a href="#objects_ff_3755668711_1325519" class="selected">Version History</a></MadCap:conditionalText>
        </p>
        <p>The IDLffMJPEG2000::C<a name="kanchor3215"></a>ommit method shuts down the background processing thread and closes the MJ2 file that is being written. Although the MJ2 file does exist on disk, it cannot be accessed until this method successfully returns.</p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>The same IDLffMJPEG2000 object cannot be used to both write and read an MJ2 file. You can write a file with one object (where WRITE=1), but you must create a separate object (where WRITE=0, the default) in order to play the new MJ2 file.</p>
        <p>The <i>Wait</i> argument provides time for the processing thread to finish compressing any images queued in the write frame buffer. The Commit call will return when the frame buffer is empty or when the wait period expires. </p>
        <p class="Tip" data-mc-autonum="&lt;b&gt;Tip: &lt;/b&gt;"><span class="autonumber"><span><b>Tip: </b></span></span>The <a href="IDLffMJPEG2000_Propertie.htm#objects_ff_3755668711_1324796">FRAMES_IN_BUFFER</a> property can be used to determine the current number of frames in the frame buffer. </p>
        <p>When writing frames on a component-by-component basis or tile-by-tile basis, the frame must be completed prior to calling Commit. If the last frame being written is not complete (does not have all the needed components and or tiles to make a complete frame) when Commit is called, the method will throw an error and the file will not be closed. This method will throw an error if the commit fails. A CATCH statement can be used to trap these errors.</p>
        <h2 class="API"><a name="objects_ff_3755668711_1325891"></a><a name="objects_ff_3755668711_53949"></a>Syntax</h2>
        <p class="Syntax"><i>Result = Obj</i>-&gt;[<a href="IDLffMJPEG2000.htm#objects_ff_3755668711_1324160">IDLffMJPEG2000</a>::]Commit(<i>Wait</i>)</p>
        <h2 class="API"><a name="objects_ff_3755668711_1325912"></a><a name="objects_ff_3755668711_32933"></a>Return Value</h2>
        <p>The return value indicates the state of the MJ2 file when it was committed to disk:</p>
        <table style="margin-left: 0;margin-right: auto;caption-side: top;mc-table-style: url('../../Resources/TableStyles/NoLines.css');" class="TableStyle_NoLines" cellspacing="0">
            <col class="Column-Column1" />
            <col class="Column-Column1" />
            <tbody>
                <tr class="Body-Body1">
                    <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
                        <p>0</p>
                    </td>
                    <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
                        <p>Failure. The file is not usable.</p>
                    </td>
                </tr>
                <tr class="Body-Body2">
                    <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
                        <p>1</p>
                    </td>
                    <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
                        <p>Success. The file has been created with all available frames in the frame buffer.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="TableStyle_NoLines_Body_0_0_RowEnd_ColSep">
                        <p>2</p>
                    </td>
                    <td class="TableStyle_NoLines_Body_0_0_RowEnd_ColEnd">
                        <p>Wait period expired before the frame buffer was empty. The file has been created but may not contain all the frames passed in via the <a href="IDLffMJPEG2000__SetData.htm#objects_ff_3755668711_1325269">IDLffMJPEG2000::SetData</a> method.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2 class="API"><a name="objects_ff_3755668711_1325897"></a><a name="objects_ff_3755668711_34024"></a>Arguments</h2>
        <h3 class="Argument">Wait</h3>
        <p>A long, positive value specifying the number of milliseconds to wait for the frame buffer to become empty. For example, set the <i>Wait</i> argument to 10,000 in order to wait up to 10 seconds for the background processing thread to finish compressing all the remaining frames in the frame buffer before the Commit method is called. Regardless of the <i>Wait</i> argument, the Commit method will return as soon as the frame buffer is empty. If the wait period expires before all of the frames in the frame buffer can be compressed, the return value will be 2.</p>
        <h2 class="API"><a name="objects_ff_3755668711_1325516"></a><a name="objects_ff_3755668711_59909"></a>Keywords</h2>
        <p>None</p>
        <h2 class="API"><a name="objects_ff_3755668711_1325519"></a><a name="objects_ff_3755668711_83789"></a>Version History</h2>
        <table style="caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
            <col />
            <col />
            <tbody>
                <tr>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
                        <p>6.3</p>
                    </td>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
                        <p>Introduced</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="mp_footer">Â© <span class="DocumentTitleCopyrightYear">2015</span>&#160;<span class="DocumentTitleCopyrightCompanyName">Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation</span>. All Rights Reserved. This information is not subject to the controls of the International Traffic in Arms Regulations (ITAR) or the Export Administration Regulations (EAR). However, this information may be restricted from transfer to various embargoed countries under U.S. laws and regulations.</div>
    </body>
</html>