<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="idl.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Routines (alphabetical)|Object Classes|File Format Object Classes|IDLffJPEG2000">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>IDLffJPEG2000::SetData</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix"> </span><a class="MCBreadcrumbsLink" href="../../images/ref_part1.htm">Routines (alphabetical)</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../ObjectClasses.htm">Object Classes</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="objects_ff.htm">File Format Object Classes</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">IDLffJPEG2000::SetData</span>
        </div>
        <h1 class="ObjMethod"><a name="objects_ff_3755668711_1141538"></a><a name="objects_ff_3755668711_89300"></a>IDLffJPEG2000::SetData</h1>
        <p data-mc-conditions="Reference Material.Online_Help_Only">
            <MadCap:conditionalText data-mc-conditions="Reference Material.Online_Help_Only"><a href="#objects_ff_3755668711_1141557" class="selected">Syntax</a> | <a href="#objects_ff_3755668711_1141569" class="selected">Arguments</a> | <a href="#objects_ff_3755668711_1141580" class="selected">Keywords</a> | <a href="#objects_ff_3755668711_1141591" class="selected">Examples</a> | <a href="#objects_ff_3755668711_1141657" class="selected">Version History</a></MadCap:conditionalText>
        </p>
        <p>The IDLffJPEG2000::SetData procedure <a name="kanchor3192"></a>method writes data to the IDLffJPEG2000 object.</p>
        <h2 class="API"><a name="objects_ff_3755668711_1141557"></a><a name="objects_ff_3755668711_14454"></a>Syntax</h2>
        <p class="Syntax"><i>Obj</i><i style="color: #0000ff;">-&gt;</i>[<a href="IDLffJPEG2000.htm#objects_ff_3755668711_1371624">IDLffJPEG2000</a>::]SetData, <i>P</i><sub>1</sub><i>, ..., P</i><sub>n</sub> [,&#160;<a href="#objects_ff_3755668711_1141582" class="selected">COMPONENT</a>=<i>value</i>] [,&#160;/<a href="#objects_ff_3755668711_1141585" class="selected">ORDER</a>] [,&#160;<a href="#objects_ff_3755668711_1141588" class="selected">TILE_INDEX</a>=<i>value</i>]</p>
        <h2 class="API"><a name="objects_ff_3755668711_1141569"></a><a name="objects_ff_3755668711_95535"></a>Arguments</h2>
        <h3 class="Argument">P<sub>1</sub>, ... , P<sub>n</sub></h3>
        <p>Arguments may be one or more arrays containing the image components or tile components to be written to the JPEG2000 object. The arrays may have either two or three dimensions. Two-dimensional arrays contain one image or tile component with the dimensions of width and height. Three-dimensional arrays are dimensioned [<i>nComponents</i>, <i>width</i>, <i>height</i>]. All parameters must have the same width and height.</p>
        <p>The array parameters are converted to byte data type if the bit-depth for the corresponding component is less than or equal to 8; to signed or unsigned integer, depending on the signed setting, for bit-depths from 9 - 16; and to signed or unsigned long integers, depending on the signed setting for bit-depths over 16.</p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>The bit depths used for output are determined from the BIT_DEPTH property, and not from the data type of the input arguments. If you are writing out short or long integer data, you should set the BIT_DEPTH property before calling SetData.</p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>The SIGNED property determines whether the data are written out using signed or unsigned integers, and is not affected by the data type of the input arguments. If you are writing out signed integer data, you may wish to set the SIGNED property before calling SetData.</p>
        <h3>Image Dimensions, Tile Dimensions, and Component Number</h3>
        <p>Images may be written using multiple calls to SetData with each call transferring one or more tile components. A tile component contains one image component for a given tile and is the smallest unit of data that can be supplied to SetData. The dimensions of the entire image and tiles, plus the number of components are determined the first time they are specified to Init or SetProperty, and may not be changed once established. If the dimensions or number of components are not specified explicitly they are inferred from the image parameters supplied in the first call to SetData.</p>
        <p>If transferring an image with multiple calls to SetData, try to supply the data to SetData in a manner consistent with the progression setting of PROGRESSION to ensure optimum performance and minimize memory requirements.</p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>If you do not complete writing all of the tiles or components, or your array dimensions are not the same as the overall image dimensions, then the library will be unable to complete the code stream. In this case, reading the data back in may result in unexpected or incorrect values.</p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>If the YCC property is set (indicating that you want the library to convert from RGB to YCC before compressing the data), then you must supply all three image components in the same call to SetData (either the entire image or one tile at a time). If the components are provided in separate calls to SetData, the YCC conversion is not performed.</p>
        <h2 class="API"><a name="objects_ff_3755668711_1141580"></a><a name="objects_ff_3755668711_75398"></a>Keywords</h2>
        <h3 class="Keyword"><a name="objects_ff_3755668711_1141582"></a><a name="objects_ff_3755668711_55682"></a>COMPONENT</h3>
        <p>Set this keyword to be the index of the first component to be written by this call to SetData. Default is 0.</p>
        <h3 class="Keyword"><a name="objects_ff_3755668711_1141585"></a><a name="objects_ff_3755668711_1054201_Keywords_IDLffJP2"></a>ORDER</h3>
        <p>JPEG2000 images are assumed to be stored in top-to-bottom order, while IDL usually assumes images are in bottom-to-top order. By default (ORDER = 0), SetData will automatically flip the input arrays to match JPEG2000's top-to-bottom order. Setting ORDER to a nonzero value will save the image directly to the JPEG2000 file without doing the vertical flip.</p>
        <h3 class="Keyword"><a name="objects_ff_3755668711_1141588"></a><a name="objects_ff_3755668711_1057258_Keywords_IDLffJP2"></a>TILE_INDEX</h3>
        <p>Set this keyword to specify the index of the first tile to be written. JPEG2000 tiles are numbered in raster scan fashion, starting from 0. The default value for this keyword is 0. The tile indices must range from 0 to one less than the number of tiles in the image file, which is determined by the tile dimensions and image dimensions.</p>
        <h2 class="API"><a name="objects_ff_3755668711_1141591"></a><a name="objects_ff_3755668711_99685"></a>Examples</h2>
        <p>Write a one-component image:</p>
        <p class="Code">;Open file to write</p>
        <p class="Code">jp2&#160;=&#160;OBJ_NEW('IDLffJPEG2000', 'test.jp2', /WRITE)</p>
        <p class="Code">&#160;</p>
        <p class="Code">;Write the image</p>
        <p class="Code">jp2-&gt;SetData, BYTSCL(DIST(400,300))</p>
        <p class="Code">&#160;</p>
        <p class="Code">OBJ_DESTROY, jp2</p>
        <p>Read a one-component image:</p>
        <p class="Code">;Open file to read</p>
        <p class="Code">jp2_in&#160;=&#160;OBJ_NEW('IDLffJPEG2000', 'test.jp2')</p>
        <p class="Code">&#160;</p>
        <p class="Code">img&#160;=&#160;jp2_in-&gt;GetData() ; Read the file.</p>
        <p class="Code">&#160;</p>
        <p class="Code">OBJ_DESTROY, jp2_in</p>
        <p>Write an indexed-color image with a palette:</p>
        <p class="Code">;Load IDL color table #5, this example assumes we have 256 colors.</p>
        <p class="Code">LOADCT, 5</p>
        <p class="Code">&#160;</p>
        <p class="Code">;Read color tables</p>
        <p class="Code">TVLCT, /GET, Red, Green, Blue</p>
        <p class="Code">&#160;</p>
        <p class="Code">;Open file to write</p>
        <p class="Code">jp2&#160;=&#160;OBJ_NEW('IDLffJPEG2000', 'test.jp2', /WRITE, /JP2, $</p>
        <p class="Code">&#160;&#160;&#160;PALETTE=[[Red], [Green], [Blue]])</p>
        <p class="Code">&#160;</p>
        <p class="Code">;Write the image with the palette</p>
        <p class="Code">jp2-&gt;SetData, BYTSCL(DIST(400,300))</p>
        <p class="Code">OBJ_DESTROY, jp2</p>
        <p>Read the above image and palette:</p>
        <p class="Code">;Open file to read</p>
        <p class="Code">jp2_in&#160;=&#160;OBJ_NEW('IDLffJPEG2000', 'test.jp2')</p>
        <p class="Code">&#160;</p>
        <p class="Code">jp2_in-&gt;GetProperty, PALETTE=palette</p>
        <p class="Code">&#160;</p>
        <p class="Code">;Read without RGB keyword. img is a 400 by 300 byte image.</p>
        <p class="Code">img&#160;=&#160;jp2_in-&gt;GetData()</p>
        <p class="Code">&#160;</p>
        <p class="Code">;With the RGB keyword, the image is now [3, 400, 300]</p>
        <p class="Code">img3d&#160;=&#160;jp2_in-&gt;GetData(/RGB)</p>
        <p class="Code">&#160;</p>
        <p class="Code">OBJ_DESTROY, jp2_in</p>
        <p>Show the images:</p>
        <p class="Code">TVLCT, palette[*, 0], palette [*, 1], palette[*, 2]</p>
        <p class="Code">DEVICE, DECOMPOSED = 0</p>
        <p class="Code">TV, img</p>
        <p class="Code">DEVICE, DECOMPOSED = 1</p>
        <p class="Code">TV, img3d, TRUE=1</p>
        <p>Write a 100 component file, one component at a time:</p>
        <p class="Code">j2k&#160;=&#160;OBJ_NEW('IDLffJPEG2000', 'test.j2k', /WRITE, &#160;&#160;&#160;N_COMPONENTS=100)</p>
        <p class="Code">FOR&#160;i&#160;=&#160;0, 99&#160;DO&#160;j2k_in-&gt;SetData, $</p>
        <p class="Code">&#160;&#160;&#160;replicate(byte(i), 200, 300), COMPONENT&#160;=&#160;i</p>
        <p class="Code">OBJ_DESTROY, j2k_in</p>
        <p>Read the above file:</p>
        <p class="Code">j2k_in&#160;=&#160;obj_new('IDLffJPEG2000', 'test.j2k')</p>
        <p class="Code">&#160;</p>
        <p class="Code">;b is a [200, 300] array</p>
        <p class="Code">b&#160;=&#160;j2k_in-&gt;GetData(COMPONENT=30)</p>
        <p class="Code">&#160;</p>
        <p class="Code">;b is a [5, 200, 300] array</p>
        <p class="Code">b&#160;=&#160;j2k_in-&gt;GetData(COMPONENT=50, N_COMPONENT = 5)</p>
        <p class="Code">&#160;</p>
        <p class="Code">OBJ_DESTROY, j2k_in</p>
        <h2 class="API"><a name="objects_ff_3755668711_1141657"></a><a name="objects_ff_3755668711_24910"></a>Version History</h2>
        <table style="caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
            <col />
            <col />
            <tbody>
                <tr>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
                        <p>6.1</p>
                    </td>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
                        <p>Introduced</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="mp_footer">© <span class="DocumentTitleCopyrightYear">2015</span>&#160;<span class="DocumentTitleCopyrightCompanyName">Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation</span>. All Rights Reserved. This information is not subject to the controls of the International Traffic in Arms Regulations (ITAR) or the Export Administration Regulations (EAR). However, this information may be restricted from transfer to various embargoed countries under U.S. laws and regulations.</div>
    </body>
</html>