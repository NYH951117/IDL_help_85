<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="idl.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Additional Topics|Medical Imaging in IDL|IDL DICOM Reference|IDLffDicomEx">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>IDLffDicomEx::GetPrivateVR
</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">  <![CDATA[ ]]></span><a class="MCBreadcrumbsLink" href="../../OtherTopics.htm">Additional Topics</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../Expanded DICOM Support in IDL/ExpandedDICOMFunctionality.htm">Medical Imaging in IDL</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="DICOMEX_GETCONFIGFILEPAT.htm">IDL DICOM Reference</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">IDLffDicomEx::GetPrivateVR</span>
        </div>
        <h1 class="ObjMethod">IDLffDicomEx::GetPrivateVR
</h1>
        <p>The IDLffDicomEx::GetPrivateVR function method returns the Value Representation (VR) of a private DICOM attribute. This method uses a private code defined by the author of the private tag, a group number, and part of the element tag instead of a standard DICOM attribute tag to identify the private DICOM attribute.        </p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>GetPrivateVR will fail if you attempt to return a VR for an attribute that does not exist or an attribute that has been removed. If you are not sure an attribute exists use <a href="IDLffDicomEx__QueryPrivateValue.htm">IDLffDicomEx::QueryPrivateValue</a> before calling GetPrivateVR.</p>
        <h2 class="API"><a name="dicom_ex_4010397576_1007671"></a><a name="dicom_ex_4010397576_1007671_PageTOC_IDLffDicomEx"></a>Syntax</h2>
        <p class="Syntax"><i>Result = Obj</i>-&gt;[<a href="IDLffDicomEx.htm">IDLffDicomEx</a>::]GetPrivateValueLength(<i>PrivateCode</i>, <i>Group</i>, <i>Element</i> [,&#160;<a href="#dicom_ex_4010397576_1007686" class="selected">SEQID</a>=<i>integer</i>]&#160;)</p>
        <h2 class="API"><a name="dicom_ex_4010397576_1007673"></a><a name="dicom_ex_4010397576_1007673_PageTOC_IDLffDicomEx"></a>Return Value</h2>
        <p>Returns a string indicating the Value Representation of the attribute. See <a href="../DICOM Resources/ValueRepresentations.htm">Value Representations</a> for details on each type of VR. </p>
        <h2 class="API"><a name="dicom_ex_4010397576_1007678"></a><a name="dicom_ex_4010397576_1007678_PageTOC_IDLffDicomEx"></a>Arguments</h2>
        <h3 class="Argument">PrivateCode</h3>
        <p>A string identification code that identifies the private block of data. Within a given private group <i>PrivateCode</i> labels are stored sequentially in the element addresses ranging from '0010' to '00FF'. For example, the string value stored at DICOM tag address '0029,0010' is the <i>PrivateCode</i> for the block of data tagged at '0029,1000'&#160;&#8209;&#160;'0029,10FF'. The label stored at '0029,0011' would be the <i>PrivateCode</i> for the data in tags '0029,1100' - '0029,11 FF'.</p>
        <h3 class="Argument">Group</h3>
        <p>A string identifying the group tag number of the private attribute (the first four digits of a DICOM tag). This must be an odd number and in the form 'XXXX'. </p>
        <h3 class="Argument">Element</h3>
        <p>A string identifying the last two digits of the element associated with the private attribute. This must be in the form 'XX'. Valid values are 10 - FF. </p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>The first two digits of the <i>Element</i> are implicit in the <i>PrivateCode</i> argument. </p>
        <h2 class="API"><a name="dicom_ex_4010397576_1007685"></a><a name="dicom_ex_4010397576_1007685_PageTOC_IDLffDicomEx"></a>Keywords</h2>
        <h3 class="Keyword"><a name="dicom_ex_4010397576_1007686"></a><a name="dicom_ex_4010397576_66920"></a>SEQID</h3>
        <p>Set this keyword only if the private attribute exists within a sequence. Use this keyword to specify a sequence identifier as follows:</p>
        <ul>
            <li value="1">Set to a non-zero value (a sequence identifier) indicating the sequence in which the value is contained. This sequence identifier may have been returned via a previous call to the GetPrivateValue method. </li>
            <li value="2">Set to 0 or do not specify this keyword to indicate the private attribute exists at the root level of the DICOM file. This is the default. </li>
        </ul>
        <h2 class="API"><a name="dicom_ex_4010397576_1007692"></a><a name="dicom_ex_4010397576_1007692_PageTOC_IDLffDicomEx"></a>Example</h2>
        <p>The following example uses GetPrivateValueCount to cycle through a multi-valued private attribute that has been added to a file. The VR and value of each item is printed to the Output Log window. </p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>To avoid errors caused by trying to write to an existing file, the cloned image is not saved to the database. To save the changes, call the <a href="IDLffDicomEx__Commit.htm">IDLffDicomEx::Commit</a> method.</p>
        <p class="Code">PRO dicom_getprivate_value_doc</p>
        <p class="Code">&#160;</p>
        <p class="Code">; Select a DICOM file.</p>
        <p class="Code">sFile = DIALOG_PICKFILE( $</p>
        <p class="Code">    PATH=FILEPATH('',SUBDIRECTORY=['examples','data']), $</p>
        <p class="Code">    TITLE='Select DICOM Patient File', FILTER='*.dcm', $</p>
        <p class="Code">    GET_PATH=path)</p>
        <p class="Code">&#160;</p>
        <p class="Code">; Create a clone (aImgClone.dcm) of the selected file (sfile).</p>
        <p class="Code"> oImg = OBJ_NEW('IDLffDicomEx', path + 'aImgClone.dcm', $</p>
        <p class="Code">    CLONE=sfile)</p>
        <p class="Code">&#160;</p>
        <p class="Code">; Add private tags. The following are hypothetical.</p>
        <p class="Code">; Create a multi-valued tag at the root level.</p>
        <p class="Code">arr = [11, 12, 13, 14]</p>
        <p class="Code">oImg-&gt;SetPrivateValue, 'Private Test', '0053', '10', 'SS', arr</p>
        <p class="Code">&#160;</p>
        <p class="Code">; Create a sequence at the root level.</p>
        <p class="Code">vSeqId = oImg-&gt;AddPrivateSequence('VOI Min,Max', '0055', '12')</p>
        <p class="Code">&#160;</p>
        <p class="Code">; Add items to the sequence, specifying SQ identifier returned by</p>
        <p class="Code">; AddPrivateSequence.</p>
        <p class="Code">oImg-&gt;SetPrivateValue, 'VOI Min,Max', '0055', '13', 'IS', '215', $</p>
        <p class="Code">   SEQID=vSeqID</p>
        <p class="Code">oImg-&gt;SetPrivateValue, 'VOI Min,Max', '0055', '14', 'IS', '234', $</p>
        <p class="Code">   SEQID=vSeqID</p>
        <p class="Code">&#160;</p>
        <p class="Code">; Get the value of a multi-valued root-level private attribute.</p>
        <p class="Code">vValue = oImg-&gt;GetPrivateValue('Private Test', '0053', '10')</p>
        <p class="Code">&#160;</p>
        <p class="Code">; Get the VR.</p>
        <p class="Code">vVR = oImg-&gt;GetPrivateVR('Private Test', '0053', '10')</p>
        <p class="Code">&#160;</p>
        <p class="Code">; Get the nubmer of items in the multi-valued attribute. Use either</p>
        <p class="Code">; the COUNT keyword to GetPrivateValue or GetPrivateValueCount. </p>
        <p class="Code">vCount = oImg-&gt;GetPrivateValueCount('Private Test', '0053', '10')  </p>
        <p class="Code">&#160;</p>
        <p class="Code">FOR i = 1, vCount DO BEGIN</p>
        <p class="Code">   Print, 'Value number', i, + ' is ', vValue[i-1], + $</p>
        <p class="Code">      ' and VR is ', vVR</p>
        <p class="Code">ENDFOR  </p>
        <p class="Code">&#160;</p>
        <p class="Code">; Clean up references.</p>
        <p class="Code">OBJ_DESTROY, oImg</p>
        <p class="Code">&#160;</p>
        <p class="Code">END</p>
        <p>The following appears in the Output Log window.</p>
        <p class="Code">Value number       1 is       11 and VR is SS</p>
        <p class="Code">Value number       2 is       12 and VR is SS</p>
        <p class="Code">Value number       3 is       13 and VR is SS</p>
        <p class="Code">Value number       4 is       14 and VR is SS</p>
        <h2 class="API"><a name="dicom_ex_4010397576_1036937"></a><a name="dicom_ex_4010397576_1036937_PageTOC_IDLffDicomEx"></a>Version History</h2>
        <table style="caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
            <col />
            <col />
            <tbody>
                <tr>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
                        <p>6.1</p>
                    </td>
                    <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
                        <p>Introduced</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="mp_footer">© <span class="DocumentTitleCopyrightYear">2015</span>&#160;<span class="DocumentTitleCopyrightCompanyName">Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation</span>. All Rights Reserved. This information is not subject to the controls of the International Traffic in Arms Regulations (ITAR) or the Export Administration Regulations (EAR). However, this information may be restricted from transfer to various embargoed countries under U.S. laws and regulations.</div>
    </body>
</html>