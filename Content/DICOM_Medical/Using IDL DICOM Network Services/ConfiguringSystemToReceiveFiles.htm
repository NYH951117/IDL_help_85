<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="idl.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Additional Topics|Medical Imaging in IDL|Using IDL DICOM Network Services">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Configuring Your System to Receive Files</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/Description.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">  <![CDATA[ ]]></span><a class="MCBreadcrumbsLink" href="../../OtherTopics.htm">Additional Topics</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../Expanded DICOM Support in IDL/ExpandedDICOMFunctionality.htm">Medical Imaging in IDL</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="Overview.htm">Using IDL DICOM Network Services</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Configuring Your System to Receive Files</span>
        </div>
        <h1>Configuring Your System to Receive Files</h1>
        <p>Storage is the process by which DICOM files are transferred from one DICOM device to another. In order to receive files, you need to specify a Storage SCP Application Entity for the machine that will store the files that are returned. This entity uses the Storage SCP Service, which listens at a TCP/IP port for incoming DICOM files and writes them to a defined disk directory.</p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>If you are running Windows XP service pack 2, you may need to modify your firewall settings in order to send and receive DICOM files. See <a href="TroubleshootingRetrievalOperation.htm">Troubleshooting a Retrieval Operation</a> for details. </p>
        <p>To configure the Storage SCP Service parameters and an Application Entity, complete the following steps:</p>
        <ol>
            <li value="1">
                <p>Open the <b>DICOM Network Services</b> utility in system configuration mode:</p>
                <p class="Code">DICOMEX_NET, /SYSTEM</p>
                <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>The required <b>Storage SCP Application Entity</b> area is grayed out on the <b>Configuration</b> tab unless you start the <b>DICOM Network Services</b> utility using the SYSTEM keyword.</p>
            </li>
            <li value="2">
                <p>In the <b>Storage SCP Application Entity</b> area, configure Storage SCP settings for the machine on which the files will be stored.</p>
                <p>
                    <img src="../../Resources/Images/net_sysStorSCP.gif" style="margin-left: 5.99976px;margin-top: 5.99976px;margin-right: 2.730221px;margin-bottom: 4.800953px;" />
                </p>
                <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>You must define a valid directory for <b>Storage SCP Dir</b> in order for the Storage SCP service to function correctly. </p>
                <table style="mc-table-style: url('../../Resources/TableStyles/Description.css');margin-left: 0;margin-right: auto;caption-side: top;" cellspacing="0" class="TableStyle_Description">
                    <col />
                    <col />
                    <thead>
                        <tr>
                            <th class="TableStyle_Description_Head_0_0_RowSep_ColSep">
                                <p>Field</p>
                            </th>
                            <th class="TableStyle_Description_Head_0_0_RowSep_ColEnd">
                                <p>Description</p>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
                                <p><b>Application Entity Name</b>
                                </p>
                            </td>
                            <td class="TableStyle_Description_Body_0_0_RowSep_ColEnd">
                                <p>Accept the default value, IDL_AE_STOR_SCP or see <a href="DefiningNewApplicationEntity.htm">Defining a New Application Entity</a> to configure a new Application Entity.</p>
                            </td>
                        </tr>
                        <tr>
                            <td class="TableStyle_Description_Body_1_0_RowSep_ColSep">
                                <p><b>Storage SCP Dir</b>
                                </p>
                            </td>
                            <td class="TableStyle_Description_Body_1_0_RowSep_ColEnd">
                                <p>Enter the full path to the directory location where the retrieved files will be located, or click the <b>...</b> button to select or create the directory. </p>
                                <p>If multiple clients access a single installation of IDL, this file storage directory will be shared among all users.</p>
                            </td>
                        </tr>
                        <tr>
                            <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
                                <p><b>Control Port (UNIX only)</b>
                                </p>
                            </td>
                            <td class="TableStyle_Description_Body_0_0_RowSep_ColEnd">
                                <p>Enter the port number the Storage SCP service listens at for control messages. Typically this value is one greater than the port number used by the Storage SCP Application Entity. The default for the control port value is 2511 (this is one greater than the default port number, 2510, for the default IDL_AE_STOR_SCP Application Entity).</p>
                                <p>To change this value, you must:</p>
                                <ol>
                                    <li value="1">Stop the Storage SCP service by clicking <b>Stop Service</b>.</li>
                                    <li value="2">Change the <b>Control Port</b> value. </li>
                                    <li value="3">Click <b>Save</b> to save the change. </li>
                                    <li value="4">Restart the Storage SCP Service by clicking <b>Start Service</b>. </li>
                                </ol>
                                <p>If you fail to follow these steps to change the control port value, you may not be able to stop the service from the <b>DICOM Network Services</b> utility because the user interface and the service will not be using the same control port number. </p>
                            </td>
                        </tr>
                        <tr>
                            <td class="TableStyle_Description_Body_1_0_RowSep_ColSep">
                                <p><b>File Extension</b><![CDATA[
                        ]]></p>
                            </td>
                            <td class="TableStyle_Description_Body_1_0_RowSep_ColEnd">
                                <p>Accept the default <code>dcm</code> extension or enter the extension that will be appended to files.</p>
                            </td>
                        </tr>
                        <tr>
                            <td class="TableStyle_Description_Body_0_0_RowEnd_ColSep">
                                <p><b>Accept Any Application Entity
Title</b><![CDATA[                        ]]></p>
                            </td>
                            <td class="TableStyle_Description_Body_0_0_RowEnd_ColEnd">
                                <p>Check this box to allow the Storage SCP Service to accept files from any remote machine. Uncheck this box to accept files only from Application Entities defined in this dialog and stored in the system configuration file. </p>
                                <p>When you uncheck this box, enter Application Entity information for each remote file source machine that will be queried and will send files to the directory defined by <b>Storage SCP Dir</b>. This information must exist in the system configuration file. See <a href="ConfiguringApplicationEntity.htm">Configuring an Application Entity</a> for information on configuring AEs. </p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </li>
            <li value="3">Click <b>Save</b> to save the Application Entity and Storage SCP directory information.</li>
            <li value="4">Stop and restart the Storage SCP Service. This step is required any time changes are made to the system configuration file. Click <b>Stop Service</b> and then click <b>Start Service</b>. You can then verify the service is running by clicking <b>Update Service Status</b>.</li>
        </ol>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>Making changes in this dialog only affects characteristics of the local Storage SCP service Application Entity. It is not possible to change characteristics of remote SCP service nodes. </p>
        <p>Make a note of the Storage SCP Application Entity information you have just configured. You will need to add this information on the device that will be queried for files. See <a href="DefiningMachineToBeQueried.htm">Defining a Machine to Be Queried</a> for instructions. </p>
        <p class="Tip" data-mc-autonum="&lt;b&gt;Tip: &lt;/b&gt;"><span class="autonumber"><span><b>Tip: </b></span></span>You can use the DICOMEX_GETSTORSCPDIR function to return the location of the directory associated with the DICOM Store SCP service. See <a href="../IDL DICOM Reference/DICOMEX_GETSTORSCPDIR.htm">DICOMEX_GETSTORSCPDIR</a>  for details.</p>
        <div class="mp_footer">© <span class="DocumentTitleCopyrightYear">2015</span>&#160;<span class="DocumentTitleCopyrightCompanyName">Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation</span>. All Rights Reserved. This information is not subject to the controls of the International Traffic in Arms Regulations (ITAR) or the Export Administration Regulations (EAR). However, this information may be restricted from transfer to various embargoed countries under U.S. laws and regulations.</div>
    </body>
</html>