<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="idl.xml" data-mc-path-to-help-system="../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Coordinate Conversions</title>
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../Resources/TableStyles/Description.css" rel="stylesheet" />
        <link href="../Resources/Stylesheets/Doc_Style.css" rel="stylesheet" />
        <script src="../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <h1><a name="Using_DG_66131095_1031942"></a><a name="Using_DG_66131095_75137"></a>Coordinate Conversions</h1>
        <p>Depending upon the data and type of visualization, you may want to convert between normalized, data or device coordinates. This section details two-dimensional and three-dimensional coordinate system characteristics and provides resources for various coordinate conversions. See the following for details:</p>
        <ul>
            <li value="1"><a href="#Using_DG_66131095_1032003" class="selected">Two-Dimensional Coordinate Conversion</a>
            </li>
            <li value="2"><a href="#Using_DG_66131095_1031959" class="selected">Three-Dimensional Coordinate Conversion</a>
            </li>
            <li value="3"><a href="#Using_DG_66131095_1031953" class="selected">Using Coordinate Conversions</a>
            </li>
        </ul>
        <h2 class="API"><a name="Using_DG_66131095_1032003"></a><a name="Using_DG_66131095_35708"></a>Two-Dimensional Coordinate Conversion</h2>
        <p><a name="kanchor5664"></a>This section describes the formulae for conversions to and from each coordinate system. In the following discussion, <i>D</i><sub>x</sub> is a data coordinate, <i>N</i><sub>x</sub> is a normalized coordinate, and <i>R</i><sub>x</sub> is a raw device coordinate. Let <i>V</i><sub>x</sub> and <i>V</i><sub>y</sub> represent the size of the visible area of the currently selected display or drawing surface.</p>
        <p>The field S is a two-element array of scaling factors used to convert X coordinates from data units to normalized units. S contains the parameters of the linear equation, converting data coordinates to normalized coordinates. S[0] is the intercept, and S[1] is the slope. Also, let <i>D</i><sub>x</sub> be the data coordinate, <i>N</i><sub>x</sub> the normalized coordinate, <i>R</i><sub>x</sub> the device coordinate, <i>V</i><sub>x</sub> the device X size (in device coordinates).</p>
        <p>With the above variables defined, the linear two-dimensional coordinate conversions for the <i>x</i> coordinate can be written as follows: </p>
        <table style="mc-table-style: url('../Resources/TableStyles/Description.css');margin-left: 0;margin-right: auto;caption-side: bottom;" cellspacing="0" class="TableStyle_Description">
            <col />
            <col />
            <col />
            <thead>
                <tr>
                    <td class="TableStyle_Description_Head_0_0_RowSep_ColSep">
                        <p>Coordinate Conversion</p>
                    </td>
                    <td class="TableStyle_Description_Head_0_0_RowSep_ColSep">
                        <p>Linear</p>
                    </td>
                    <td class="TableStyle_Description_Head_0_0_RowSep_ColEnd">
                        <p>Logarithmic</p>
                    </td>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
                        <p>Data to normal</p>
                    </td>
                    <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
                        <p>
                            <img src="8_4.jpg" />
                        </p>
                    </td>
                    <td class="TableStyle_Description_Body_0_0_RowSep_ColEnd">
                        <p>
                            <img src="8_5.jpg" />
                        </p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Description_Body_1_0_RowSep_ColSep">
                        <p>Data to device</p>
                    </td>
                    <td class="TableStyle_Description_Body_1_0_RowSep_ColSep">
                        <p>
                            <img src="8_6.jpg" />
                        </p>
                    </td>
                    <td class="TableStyle_Description_Body_1_0_RowSep_ColEnd">
                        <p>
                            <img src="8_7.jpg" />
                        </p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
                        <p>Normal to device</p>
                    </td>
                    <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
                        <p>
                            <img src="8_8.jpg" />
                        </p>
                    </td>
                    <td class="TableStyle_Description_Body_0_0_RowSep_ColEnd">
                        <p>
                            <img src="8_9.jpg" />
                        </p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Description_Body_1_0_RowSep_ColSep">
                        <p>Normal to data</p>
                    </td>
                    <td class="TableStyle_Description_Body_1_0_RowSep_ColSep">
                        <p>
                            <img src="8_10.jpg" />
                        </p>
                    </td>
                    <td class="TableStyle_Description_Body_1_0_RowSep_ColEnd">
                        <p>
                            <img src="8_11.jpg" />
                        </p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
                        <p>Device to data</p>
                    </td>
                    <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
                        <p>
                            <img src="8_12.jpg" />
                        </p>
                    </td>
                    <td class="TableStyle_Description_Body_0_0_RowSep_ColEnd">
                        <p>
                            <img src="8_13.jpg" />
                        </p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_Description_Body_1_0_RowEnd_ColSep">
                        <p>Device to normal</p>
                    </td>
                    <td class="TableStyle_Description_Body_1_0_RowEnd_ColSep">
                        <p>
                            <img src="8_14.jpg" />
                        </p>
                    </td>
                    <td class="TableStyle_Description_Body_1_0_RowEnd_ColEnd">
                        <p>
                            <img src="8_15.jpg" />
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>The <i>y-</i> and <i>z</i>-axis coordinates are converted in exactly the same manner, with the exception that there is no <i>z</i> device coordinate and that logarithmic <i>z</i>-axes are not permitted.</p>
        <p>This coordinate conversion functionality is built into object graphics through the XCOORD_CONVERT and YCOORD_CONVERT properties or each type of visualization object. If you are working with a Direct Graphics display, you can use the <a href="../Reference Material/C/CONVERT_COORD.htm">CONVERT_COORD </a>function. </p>
        <h2 class="API"><a name="Using_DG_66131095_1031959"></a><a name="Using_DG_66131095_38612"></a>Three-Dimensional <a name="kanchor5665"></a>Coordinate Conversion</h2>
        <p>To convert from a three-dimensional coordinate to a two-dimensional coordinate, IDL follows these steps:</p>
        <ul>
            <li value="1">Data coordinates are converted to three-dimensional normalized coordinates. To convert the <i>x</i> coordinate from data to normalized coordinates, use the formula <i>N</i><sub>x</sub> = <i>X</i><sub>0</sub> + <i>X</i><sub>1</sub><i>D</i><sub>x</sub>. The same process is used to convert the <i>y</i> and <i>z</i> coordinates using !Y.S and !Z.S.</li>
            <li value="2">The three-dimensional normalized coordinate, P = (<i>N</i><sub>x</sub>, <i>N</i><sub>y</sub>, <i>N</i><sub>z</sub>), whose homogeneous representation is (<i>N</i><sub>x</sub>, <i>N</i><sub>y</sub>, <i>N</i><sub>z</sub>, 1), is multiplied by the concatenated transformation matrix !P.T:</li>
            <li value="3">P′ = <i>P</i>•<code>!P.T</code></li>
            <li value="4">The vector P′ is scaled by dividing by <i>w</i>, and the normalized two-dimensional coordinates are extracted:</li>
            <li value="5"><i>N</i>′<sub><i>x</i></sub> = <i>P</i>′<sub><i>x</i></sub>/<i>P</i>′<sub><i>w</i></sub> and <i>N</i>′<sub><i>y</i></sub> = <i>P</i>′<sub><i>y</i></sub>/<i>P</i>′<sub><i>w</i></sub></li>
            <li value="6">The normalized <i>xy</i> coordinate is converted to device coordinates.</li>
        </ul>
        <h2 class="API"><a name="Using_DG_66131095_1031953"></a><a name="Using_DG_66131095_45463"></a>Using Coordinate Conversions</h2>
        <p>How coordinate conversions are defined depend upon the display type as follows:</p>
        <ul>
            <li value="1"><b>iTools</b> — in an iTool display, the interactive nature of the tool makes coordinate conversions transparent. There is no need to programmatically configure the transformation matrices of the objects.</li>
            <li value="2"><b>Object Graphics</b> — converting an object’s data coordinates into normalized coordinates for display is a common task.</li>
            <li value="3"><b>Direct Graphics</b> — the IDL Direct Graphics system automatically positions and sizes static visualizations so there is no need to set up a transformation matrix. However, you can convert between the supported coordinate systems. </li>
        </ul>
        <div class="mp_footer">© <span class="DocumentTitleCopyrightYear">2015</span>&#160;<span class="DocumentTitleCopyrightCompanyName">Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation</span>. All Rights Reserved. This information is not subject to the controls of the International Traffic in Arms Regulations (ITAR) or the Export Administration Regulations (EAR). However, this information may be restricted from transfer to various embargoed countries under U.S. laws and regulations.</div>
    </body>
</html>